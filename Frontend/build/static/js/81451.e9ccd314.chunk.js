"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[81451],{16912:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var o=n(27366),i=n(49861),l=(n(93169),n(32718),n(84936),n(69912)),s=n(33565),a=n(7138),d=n(94172);let r=class extends a.default{constructor(e){super(e),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles((0,d.on)((()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.ui}),"expand",(e=>{const{target:t}=e;t&&t!==this&&t.expanded&&t.group&&t.group===this.group&&this._collapse()})))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){var t;const n=!!e;this._set("expanded",n);const o=null===(t=this.view)||void 0===t?void 0:t.ui;o&&o.emit("expand",{target:this}),this._viewpointHandleChange(n)}get state(){var e;return null!==(e=this.view)&&void 0!==e&&e.ready?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&(0,d.when)((()=>e.ready),(()=>{this.view===e&&this._watchViewpoint()}),{once:!0,initial:!0}))}_viewpointHandleChange(e){this._viewpointHandle&&(e?(0,d.when)((()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.stationary}),(()=>{var e;return null===(e=this._viewpointHandle)||void 0===e?void 0:e.resume()}),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this.removeHandles(e),this._viewpointHandle=null;const{autoCollapse:t,view:n}=this;if(!n||!t)return;const o=(0,d.pausable)((()=>"3d"===n.type?n.camera:n.viewpoint),(()=>this._collapse()));this.addHandles(o,e),this._viewpointHandle=o}_collapse(){this.expanded=!1}};(0,o._)([(0,i.Cb)({value:!1})],r.prototype,"autoCollapse",null),(0,o._)([(0,i.Cb)({value:!1})],r.prototype,"expanded",null),(0,o._)([(0,i.Cb)()],r.prototype,"group",void 0),(0,o._)([(0,i.Cb)({readOnly:!0})],r.prototype,"state",null),(0,o._)([(0,i.Cb)({value:null})],r.prototype,"view",null),r=(0,o._)([(0,l.j)("esri.widgets.Expand.ExpandViewModel")],r);const p=r;var c=n(8905),u=n(7021),h=n(53963),_=n(67005),v=n(80532);const g="esri-expand",w={base:g,toggle:"".concat(g,"__toggle"),popoverContent:"".concat(g,"__popover-content"),panel:"".concat(g,"__panel"),panelContent:"".concat(g,"__panel-content"),sheet:"".concat(g,"__sheet"),panelIconNumber:"".concat(g,"__panel-icon-number"),contentContainer:"".concat(g,"__content-container"),icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:"".concat(g,"__icon--expanded"),iconNumber:"".concat(g,"__icon-number"),content:"".concat(g,"__content"),contentExpanded:"".concat(g,"__content--expanded")},C="chevrons-left",b="chevrons-right";let y=class extends s.Z{constructor(e,t){super(e,t),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new p,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=e=>{e.target===this._popoverEl&&(this.viewModel.expanded=e.target.open)},this._handleSheetClose=e=>{this.viewModel.expanded=e.target.open},this._handlePanelClose=e=>{this.viewModel.expanded=!e.target.closed},this._handleKeyDown=e=>{this.viewModel.expanded&&"Escape"===e.key&&!this._willCloseOnEsc(e)&&e.preventDefault()},this._storeToggleButtonEl=e=>{this._toggleButtonEl=e},this._storePopoverEl=e=>{this._popoverEl=e}}loadDependencies(){return(0,c.h)({button:()=>Promise.all([n.e(92358),n.e(46895),n.e(54438),n.e(14105),n.e(32275)]).then(n.bind(n,32275)),icon:()=>Promise.all([n.e(92358),n.e(87474)]).then(n.bind(n,87474)),panel:()=>Promise.all([n.e(92358),n.e(46895),n.e(89219),n.e(63839),n.e(65138),n.e(2654),n.e(23635),n.e(89524),n.e(85026)]).then(n.bind(n,85026)),popover:()=>Promise.all([n.e(92358),n.e(46895),n.e(89219),n.e(63839),n.e(65138),n.e(2654),n.e(447)]).then(n.bind(n,61580)),sheet:()=>Promise.all([n.e(92358),n.e(46895),n.e(63839),n.e(86302)]).then(n.bind(n,86302))})}get expandTitle(){var e;const{expanded:t,messagesCommon:n,collapseTooltip:o,expandTooltip:i}=this;return null!==(e=t?o||(null===n||void 0===n?void 0:n.collapse):i||(null===n||void 0===n?void 0:n.expand))&&void 0!==e?e:""}get _displaySheet(){var e;switch(this.mode){case"drawer":return!0;case"auto":return"xsmall"===(null===(e=this.viewModel.view)||void 0===e?void 0:e.widthBreakpoint);default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(e){this.viewModel.autoCollapse=e}get collapseIcon(){return b}set collapseIcon(e){this._overrideIfSome("collapseIcon",e)}get expanded(){return this.viewModel.expanded}set expanded(e){this.viewModel.expanded=e}get expandIcon(){return(0,h.Qd)(this.content)?this.content.icon:C}set expandIcon(e){this._overrideIfSome("expandIcon",e)}get group(){return this.viewModel.group}set group(e){this.viewModel.group=e}get icon(){return null}get label(){var e,t,n;return null!==(e=null!==(t=(0,h.Qd)(this.content)?this.content.label:null)&&void 0!==t?t:null===(n=this.messages)||void 0===n?void 0:n.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:e,_toggleButtonEl:t,viewModel:{expanded:n},label:o,placement:i}=this;return(0,_.u)("div",{class:this.classes(w.base,u.z.widget)},this._renderToggle(),e?(0,_.u)("calcite-sheet",{class:w.sheet,heightScale:"l",label:o,onkeydown:this._handleKeyDown,open:n,position:"block-end",onCalciteSheetClose:this._handleSheetClose},(0,_.u)("calcite-panel",{class:w.panel,closable:!0,closed:!n,heading:o,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},(0,_.u)("div",{class:w.panelContent},this._renderContent()))):t?(0,_.u)("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,label:o,onkeydown:this._handleKeyDown,open:n,overlayPositioning:"fixed",placement:null!==i&&void 0!==i?i:this._getPlacement(),referenceElement:t,onCalcitePopoverClose:this._handlePopoverClose},(0,_.u)("div",{class:w.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:e,view:t}=this,n=e&&t?t.ui.getPosition(e):null;if(!n||"manual"===n)return"auto";const[o,i]=n.split("-");return"".concat("right"===i?"left":"right","-").concat("bottom"===o?"end":"start")}_willCloseOnEsc(e){const{closeOnEsc:t}=this;return"function"==typeof t?t(e):t}_renderBadgeNumber(){const{expanded:e,iconNumber:t}=this;return t&&!e?(0,_.u)("span",{class:w.iconNumber,key:"expand__icon-number"},t):null}_renderToggleButton(){const{expanded:e,expandTitle:t,expandIcon:n,collapseIcon:o}=this,i=e?o:n,l=i===C||i===b;return(0,_.u)("calcite-button",{afterCreate:this._storeToggleButtonEl,afterUpdate:this._storeToggleButtonEl,class:u.z.widgetButton,kind:"neutral",label:t,onclick:this.toggle,scale:"s",title:t},i?(0,_.u)("calcite-icon",{class:this.classes(w.icon,l&&w.iconFlip),icon:i,scale:"s"}):null)}_renderToggle(){return(0,_.u)("div",{class:w.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:e}=this;return"string"==typeof e?(0,_.u)("div",{class:w.contentContainer,innerHTML:e,key:"content__string"}):(0,h.Qd)(e)?(0,_.u)("div",{class:w.contentContainer,key:"content__widget"},e.render()):e instanceof HTMLElement?(0,_.u)("div",{afterCreate:this._attachToNode,bind:e,class:w.contentContainer,key:"content__html-element"}):(0,h.o)(e)?(0,_.u)("div",{afterCreate:this._attachToNode,bind:e.domNode,class:w.contentContainer,key:"content__node"}):null}_attachToNode(e){e.appendChild(this)}};(0,o._)([(0,i.Cb)({readOnly:!0})],y.prototype,"expandTitle",null),(0,o._)([(0,i.Cb)()],y.prototype,"_toggleButtonEl",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"_displaySheet",null),(0,o._)([(0,i.Cb)()],y.prototype,"autoCollapse",null),(0,o._)([(0,i.Cb)()],y.prototype,"closeOnEsc",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"collapseIcon",null),(0,o._)([(0,i.Cb)()],y.prototype,"collapseTooltip",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"content",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"expanded",null),(0,o._)([(0,i.Cb)()],y.prototype,"expandIcon",null),(0,o._)([(0,i.Cb)()],y.prototype,"expandTooltip",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"group",null),(0,o._)([(0,i.Cb)()],y.prototype,"icon",null),(0,o._)([(0,i.Cb)()],y.prototype,"iconNumber",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"label",null),(0,o._)([(0,i.Cb)(),(0,v.H)("esri/widgets/Expand/t9n/Expand")],y.prototype,"messages",void 0),(0,o._)([(0,i.Cb)(),(0,v.H)("esri/t9n/common")],y.prototype,"messagesCommon",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"mode",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"placement",void 0),(0,o._)([(0,i.Cb)()],y.prototype,"view",null),(0,o._)([(0,i.Cb)({type:p})],y.prototype,"viewModel",void 0),y=(0,o._)([(0,l.j)("esri.widgets.Expand")],y);const m=y},53963:(e,t,n)=>{n.d(t,{Qd:()=>o,o:()=>i});n(78088),n(67005),n(80975);function o(e){return e&&"function"==typeof e.render}function i(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}}}]);
//# sourceMappingURL=81451.e9ccd314.chunk.js.map