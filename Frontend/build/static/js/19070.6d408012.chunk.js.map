{"version":3,"file":"static/js/19070.6d408012.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/LineOfSight/LineOfSightTarget.js","../node_modules/@arcgis/core/widgets/LineOfSight/LineOfSightViewModel.js","../node_modules/@arcgis/core/widgets/LineOfSight.js","../node_modules/@arcgis/core/widgets/support/AnalysisViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Accessor.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";let p=class extends r{constructor(o){super(o),this.location=null,this.intersectedLocation=null,this.intersectedGraphic=null,this.visible=void 0}};o([e({type:i})],p.prototype,\"location\",void 0),o([e({type:i})],p.prototype,\"intersectedLocation\",void 0),o([e({type:t})],p.prototype,\"intersectedGraphic\",void 0),o([e({type:Boolean})],p.prototype,\"visible\",void 0),p=o([s(\"esri.widgets.LineOfSight.LineOfSightTarget\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../analysis/LineOfSightAnalysis.js\";import s from\"../../analysis/LineOfSightAnalysisObserver.js\";import o from\"../../analysis/LineOfSightAnalysisTarget.js\";import i from\"../../core/Collection.js\";import{referenceSetter as n,castForReferenceSetter as r}from\"../../core/collectionUtils.js\";import{handlesGroup as a}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import{watch as l,syncAndInitial as c,sync as d}from\"../../core/reactiveUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{getEffectiveElevationInfo as p,getConvertedElevation as y,absoluteHeightElevationInfo as v}from\"../../support/elevationInfoUtils.js\";import m from\"./LineOfSightTarget.js\";import{AnalysisViewModel as T}from\"../support/AnalysisViewModel.js\";const u=i.ofType(m);let f=class extends T{constructor(e){super(e),this.analysis=null,this.supportedViewType=\"3d\",this.unsupportedErrorMessage=\"LineOfSightViewModel is only supported in 3D views.\",this._vmTargetsToConnection=new Map,this._analysisTargetsToConnection=new Map}initialize(){this.addHandles([this.targets.on(\"after-add\",(e=>this._onViewModelTargetAdded(e.item))),this.targets.on(\"after-remove\",(e=>this._onViewModelTargetRemoved(e.item))),l((()=>this.analysis),(e=>this._onAnalysisChange(e)),c)])}destroy(){this._analysisTargetsToConnection.forEach((e=>e.remove()))}get state(){return this.disabled||!this.ready?\"disabled\":null==this.tool?\"ready\":this.tool.state}get observer(){const{observer:e}=this.analysis;return null==e?.position?null:this._convertAnalysisPointToAbsoluteHeight(e.position,e.elevationInfo)}set observer(e){let t=null;e&&(t=e.clone(),t.hasZ||(t.z=0)),this.analysis.observer=new s({position:t})}get targets(){return this._get(\"targets\")||new u}set targets(e){this._set(\"targets\",n(e,this.targets,u))}continue(){null!=this.tool&&this.tool.continue()}stop(){null!=this.tool&&this.tool.stop()}get testInfo(){}constructAnalysis(){return new t}async onConnectToAnalysisView(e){this.addHandles([e.on(\"result-changed\",(e=>{const t=this._analysisTargetsToConnection.get(e.target);t&&(null!=e.result?(t.viewModelTarget.intersectedGraphic=e.result.intersectedGraphic,t.viewModelTarget.intersectedLocation=e.result.intersectedLocation,t.viewModelTarget.visible=e.result.visible):(t.viewModelTarget.intersectedGraphic=null,t.viewModelTarget.intersectedLocation=null,t.viewModelTarget.visible=void 0))}))],\"view\")}onDisconnectFromAnalysisView(){this.removeHandles(\"view\")}_onViewModelTargetAdded(e){if(this._vmTargetsToConnection.get(e))return;const t=new o({position:e.location});this._connectViewModelWithAnalysisTarget(e,t),this.analysis.targets.add(t)}_onViewModelTargetRemoved(e){const t=this._vmTargetsToConnection.get(e);t&&(t.remove(),this.analysis.targets.remove(t.analysisTarget))}_onAnalysisTargetAdded(e){if(this._analysisTargetsToConnection.get(e))return;const{position:t}=e,s=new m({location:t?this._convertAnalysisPointToAbsoluteHeight(t,e.elevationInfo):null});this._connectViewModelWithAnalysisTarget(s,e),this.targets.add(s)}_onAnalysisTargetRemoved(e){const t=this._analysisTargetsToConnection.get(e);t&&(t.remove(),this.targets.remove(t.viewModelTarget))}_connectViewModelWithAnalysisTarget(e,t){let s=!1;const o=a([l((()=>({position:t.position,elevationInfo:t.elevationInfo})),(({position:t,elevationInfo:o})=>{s||(s=!0,e.location=t?this._convertAnalysisPointToAbsoluteHeight(t,o):null,s=!1)}),d),l((()=>e.location),(e=>{if(!s){s=!0;let o=null;e&&(o=e.clone(),o.hasZ||(o.z=0)),t.position=o,t.elevationInfo=null,s=!1}}),d)]),i={analysisTarget:t,viewModelTarget:e,remove:()=>{o.remove(),this._vmTargetsToConnection.delete(e),this._analysisTargetsToConnection.delete(t)}};this._vmTargetsToConnection.set(e,i),this._analysisTargetsToConnection.set(t,i)}_onAnalysisChange(e){const t=\"analysis\";this.removeHandles(t),this.addHandles([this.analysis.targets.on(\"after-add\",(e=>this._onAnalysisTargetAdded(e.item))),this.analysis.targets.on(\"after-remove\",(e=>this._onAnalysisTargetRemoved(e.item)))],t),this.targets.removeAll(),e.targets.forEach((e=>{this._onAnalysisTargetAdded(e)}))}_convertAnalysisPointToAbsoluteHeight(e,t){const s=e.clone();if(null!=this.view){const o=p(e.hasZ,t);s.z=y(this.view,e,o,v)}return s}};e([h({type:t})],f.prototype,\"analysis\",void 0),e([h({readOnly:!0})],f.prototype,\"state\",null),e([h()],f.prototype,\"observer\",null),e([h({type:u,cast:r,nonNullable:!0})],f.prototype,\"targets\",null),f=e([g(\"esri.widgets.LineOfSight.LineOfSightViewModel\")],f);const w=f;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"./Widget.js\";import o from\"./LineOfSight/LineOfSightViewModel.js\";import{loadCalciteComponents as r}from\"./support/componentsUtils.js\";import{globalCss as l}from\"./support/globalCss.js\";import\"./support/widgetUtils.js\";import{messageBundle as a}from\"./support/decorators/messageBundle.js\";import{tsx as u}from\"./support/jsxFactory.js\";const d=\"esri-line-of-sight\",p={base:d,actions:`${d}__actions`,container:`${d}__container`,error:`${d}__error`,hint:`${d}__hint`,hintText:`${d}__hint-text`,newAnalysisButton:`${d}__new-analysis-button`},c={newAnalysisButton:`${d}__new-button`,continueButton:`${d}__continue-button`,doneButton:`${d}__done-button`};let h=class extends n{constructor(e,s){super(e,s),this.messages=null,this.viewModel=new o,this._onNewAnalysis=()=>{t(this.viewModel.start())},this._onDone=()=>{this.viewModel.stop()},this._onContinue=()=>{this.viewModel.continue()}}loadDependencies(){return r({button:()=>import(\"@esri/calcite-components/dist/components/calcite-button.js\")})}get active(){return this.viewModel.active}get analysis(){return this.viewModel.analysis}set analysis(e){this.viewModel.analysis=e}get icon(){return\"line-of-sight\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}render(){return u(\"div\",{class:this.classes(p.base,l.widget,l.panel),role:\"presentation\"},this._renderContainerNode())}_renderContainerNode(){if(!this.visible)return null;if(!this.viewModel.supported)return this._renderUnsupportedMessage();let e=null;const t=[this._renderNewAnalysisButton()];return\"creating\"===this.viewModel.state?(e=this._renderHint(),t.unshift(this._renderDoneButton())):\"created\"===this.viewModel.state&&this.viewModel.targets.length>0&&t.unshift(this._renderContinueButton()),u(\"div\",{class:p.container},e,u(\"div\",{class:p.actions},t))}_renderUnsupportedMessage(){return u(\"div\",{class:p.error,key:\"esri-line-of-sight__unsupported\"},u(\"p\",null,this.messages.unsupported))}_renderHint(){return u(\"div\",{class:p.hint,key:\"esri-line-of-sight__hint\"},u(\"p\",{class:p.hintText},this.messages.hint))}_renderNewAnalysisButton(){return this._renderButton({className:p.newAnalysisButton,id:c.newAnalysisButton,label:this.messages.newAnalysis,onClick:this._onNewAnalysis,primary:!0})}_renderDoneButton(){return this._renderButton({id:c.doneButton,label:this.messages.done,onClick:this._onDone,primary:!1})}_renderContinueButton(){return this._renderButton({id:c.newAnalysisButton,label:this.messages.continueAnalysis,onClick:this._onContinue,primary:!1})}_renderButton({className:e,id:t,label:s,onClick:i,primary:n}){const o=\"disabled\"===this.viewModel.state;return u(\"calcite-button\",{appearance:n?\"solid\":\"outline-fill\",class:e,\"data-id\":t,disabled:o,key:t,onclick:i},s)}get test(){}};e([s()],h.prototype,\"active\",null),e([s({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",null),e([s()],h.prototype,\"icon\",null),e([s()],h.prototype,\"label\",null),e([s(),a(\"esri/widgets/LineOfSight/t9n/LineOfSight\")],h.prototype,\"messages\",void 0),e([s()],h.prototype,\"view\",null),e([s({type:o})],h.prototype,\"viewModel\",void 0),e([s()],h.prototype,\"visible\",null),h=e([i(\"esri.widgets.LineOfSight\")],h);const m=h;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{createTask as s}from\"../../core/asyncUtils.js\";import\"../../core/has.js\";import i from\"../../core/Logger.js\";import{abortMaybe as n,removeMaybe as r}from\"../../core/maybe.js\";import{throwIfAborted as a,isAbortError as o,isAborted as l}from\"../../core/promiseUtils.js\";import{watch as c,syncAndInitial as h,sync as w,whenOnce as p,when as y}from\"../../core/reactiveUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";var v;!function(e){e[e.PENDING=0]=\"PENDING\",e[e.WAIT_FOR_VIEW_READY=1]=\"WAIT_FOR_VIEW_READY\",e[e.RUNNING=2]=\"RUNNING\"}(v||(v={}));let _=class extends t{constructor(e={}){super(e),this.view=null,this.analysisView=null,this._reconnectViewTask=null,this._forceInteractiveHandle=null,this._parentChangeFromReconnect=!1,this._startUserOperation=null;const t=e?.analysis;null!=t?this.analysis=t:(this._set(\"analysis\",this.constructAnalysis()),this._set(\"isAnalysisOwner\",!0)),null!=e?.visible&&(this.visible=e.visible)}normalizeCtorArgs(e){const{analysis:t,...s}=e;return s}initialize(){this.addHandles([c((()=>({readyAndNotSupported:null!=this.view&&this.view.ready&&!this.supported})),(({readyAndNotSupported:e})=>{e&&i.getLogger(this).errorOnce(this.unsupportedErrorMessage)}),h),c((()=>this.analysis?.parent),(e=>{this._parentChangeFromReconnect||e===this.view||this._set(\"isAnalysisOwner\",!1);const t=!this._parentChangeFromReconnect;this._parentChangeFromReconnect=!1,t&&this._scheduleViewReconnect()}),w),c((()=>({view:this.view,ready:null!=this.view&&this.view.ready,supported:this.supported})),(({view:e},t)=>{const s=t?.view;e!==s&&(this._startUserOperation=n(this._startUserOperation),this._disconnectFromView(s)),this._scheduleViewReconnect()}),h)])}destroy(){this._reconnectViewTask=n(this._reconnectViewTask),this._startUserOperation=n(this._startUserOperation),null!=this.analysisView&&(this.analysisView.visible=void 0),this._disconnectFromView(this.view),this._set(\"view\",null),null!=this.analysis&&this.isAnalysisOwner&&(this.analysis.destroy(),this._set(\"analysis\",null))}get supported(){return null==this.view||this.view.type===this.supportedViewType}set visible(e){this._set(\"visible\",e),null!=this.analysisView&&(this.analysisView.visible=e)}get active(){return null!=this.tool&&this.tool.active}get disabled(){return null==this.view||!this.view.ready||!this.supported}set analysis(e){e!==this._get(\"analysis\")&&(this._startUserOperation=n(this._startUserOperation),this._disconnectFromView(this.view),this._setExternalAnalysis(e),this._scheduleViewReconnect())}get ready(){return null!=this.analysisView&&!this.connectingToView}get connectingToView(){return null!=this._reconnectViewTask}get isAnalysisOwner(){return this._get(\"isAnalysisOwner\")}get tool(){return null!=this.analysisView?this.analysisView.tool:null}clear(){this._startUserOperation=n(this._startUserOperation),this._resetInteractiveCreationState(),null!=this.tool&&null!=this.view&&this.view.activeTool===this.tool&&(this.view.activeTool=null)}async start(){if(!this.visible)return void i.getLogger(this).warn(\"Cannot start analysis when not visible\");this.clear();const e={task:null,abort:null,state:v.PENDING},t=s((async t=>{if(e.state=v.WAIT_FOR_VIEW_READY,await p((()=>this.ready),t),e.state=v.RUNNING,null==this.analysisView||null==this.view)return;const s=this.analysisView.tool;null!=s&&(this.view.activeTool=s,y((()=>s.created),(()=>{s.active&&null!=this.view&&(this.view.activeTool=null)}),{initial:!0,once:!0}))}));return e.task=t,e.abort=()=>t.abort(),this._startUserOperation=e,t.promise}onConnectToAnalysisView(e){}onDisconnectFromAnalysisView(){}_scheduleViewReconnect(){this._reconnectViewTask=n(this._reconnectViewTask);const e=s((async t=>{try{await this._reconnectView(t)}catch(s){if(a(t),!o(s))return void i.getLogger(this).warn(\"Failed to use analysis in view model\",s);throw s}finally{e===this._reconnectViewTask&&(this._reconnectViewTask=null)}}));this._reconnectViewTask=e}async _reconnectView(e){const{view:t}=this,s=null!=t&&t.ready&&this.supported,n=this.analysis;if(this._startUserOperation=V(this._startUserOperation),this._disconnectFromView(t),s&&null!=t&&null!=n){if(this.isAnalysisOwner){if(null!=n.parent)return void i.getLogger(this).errorOnce(\"expected owned analysis to have null parent when connecting to view\");this._parentChangeFromReconnect=!0,t.analyses.add(n)}this.analysisView=await t.whenAnalysisView(n),l(e)?this._startUserOperation=V(this._startUserOperation):(this.analysisView.visible=this.visible,this._forceInteractiveHandle=this.analysisView.forceInteractiveForViewModel(),this.addHandles(this._forceInteractiveHandle),this.onConnectToAnalysisView(this.analysisView))}}_disconnectFromView(e){null!=e&&this.isAnalysisOwner&&e.analyses.includes(this.analysis)&&(this._parentChangeFromReconnect=!0,this.analysis.clear(),e.analyses.remove(this.analysis)),this.onDisconnectFromAnalysisView(),this._forceInteractiveHandle=r(this._forceInteractiveHandle),this.analysisView=null}_setExternalAnalysis(e){null==this.analysisView||this.isAnalysisOwner||(this.analysisView.visible=void 0,this._forceInteractiveHandle=r(this._forceInteractiveHandle)),this.analysisView=null,this._set(\"isAnalysisOwner\",!1),this._set(\"analysis\",e),this._parentChangeFromReconnect=!1}_resetInteractiveCreationState(){this.analysis.clear(),null!=this.tool&&this.tool.resetCreated()}get testInfo(){}};function V(e){return null!=e&&e.state>=v.RUNNING?(e.abort(),null):e}e([u()],_.prototype,\"supported\",null),e([u()],_.prototype,\"view\",void 0),e([u({type:Boolean,value:!0})],_.prototype,\"visible\",null),e([u()],_.prototype,\"active\",null),e([u()],_.prototype,\"disabled\",null),e([u({nonNullable:!0})],_.prototype,\"analysis\",null),e([u()],_.prototype,\"analysisView\",void 0),e([u()],_.prototype,\"ready\",null),e([u()],_.prototype,\"connectingToView\",null),e([u({readOnly:!0})],_.prototype,\"isAnalysisOwner\",null),e([u()],_.prototype,\"_reconnectViewTask\",void 0),e([u()],_.prototype,\"_forceInteractiveHandle\",void 0),e([u()],_.prototype,\"tool\",null),_=e([d(\"esri.widgets.support.AnalysisViewModel\")],_);export{_ as AnalysisViewModel};\n"],"names":["p","r","constructor","o","super","this","location","intersectedLocation","intersectedGraphic","visible","e","type","i","prototype","t","Boolean","s","c","u","ofType","m","f","T","analysis","supportedViewType","unsupportedErrorMessage","_vmTargetsToConnection","Map","_analysisTargetsToConnection","initialize","addHandles","targets","on","_onViewModelTargetAdded","item","_onViewModelTargetRemoved","l","_onAnalysisChange","destroy","forEach","remove","state","disabled","ready","tool","observer","position","_convertAnalysisPointToAbsoluteHeight","elevationInfo","clone","hasZ","z","_get","_set","n","continue","stop","testInfo","constructAnalysis","onConnectToAnalysisView","get","target","result","viewModelTarget","onDisconnectFromAnalysisView","removeHandles","_connectViewModelWithAnalysisTarget","add","analysisTarget","_onAnalysisTargetAdded","_onAnalysisTargetRemoved","a","_ref","d","delete","set","removeAll","view","y","v","h","readOnly","cast","nonNullable","g","w","base","actions","concat","container","error","hint","hintText","newAnalysisButton","continueButton","doneButton","messages","viewModel","_onNewAnalysis","start","_onDone","_onContinue","loadDependencies","button","active","icon","_overrideIfSome","label","_this$messages$widget","_this$messages","widgetLabel","render","class","classes","widget","panel","role","_renderContainerNode","supported","_renderUnsupportedMessage","_renderNewAnalysisButton","_renderHint","unshift","_renderDoneButton","length","_renderContinueButton","key","unsupported","_renderButton","className","id","newAnalysis","onClick","primary","done","continueAnalysis","appearance","onclick","test","constructOnly","PENDING","WAIT_FOR_VIEW_READY","RUNNING","_","arguments","undefined","analysisView","_reconnectViewTask","_forceInteractiveHandle","_parentChangeFromReconnect","_startUserOperation","normalizeCtorArgs","readyAndNotSupported","getLogger","errorOnce","_this$analysis","parent","_scheduleViewReconnect","_ref2","_disconnectFromView","isAnalysisOwner","_setExternalAnalysis","connectingToView","clear","_resetInteractiveCreationState","activeTool","warn","task","abort","async","created","initial","once","promise","_reconnectView","V","analyses","whenAnalysisView","forceInteractiveForViewModel","includes","resetCreated","value"],"sourceRoot":""}