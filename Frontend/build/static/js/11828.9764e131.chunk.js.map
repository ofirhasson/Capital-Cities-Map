{"version":3,"file":"static/js/11828.9764e131.chunk.js","mappings":"8IAIoF,SAASA,EAAEA,EAAEC,EAAEC,GAAG,GAAG,OAAO,OAADF,QAAC,IAADA,OAAC,EAADA,EAAGG,UAAS,OAAO,KAAK,MAAMC,uBAAuBC,GAAE,EAAGC,WAAWC,EAAEC,YAAYC,GAAGT,EAAE,IAAIU,EAAEV,EAAEW,WAAWN,IAAIK,GAAEE,EAAAA,EAAAA,IAAEF,IAAI,IAAIG,EAAEJ,EAAER,GAAGS,EAAET,EAAEa,aAAaJ,GAAGT,GAAGS,EAAEA,EAAE,OAAOG,GAAGA,EAAEE,SAASF,EAAEG,UAAUH,GAAGN,IAAIM,EAAEA,EAAEI,QAAQV,EAAEW,MAAMX,EAAEY,OAAOd,IAAIQ,GAAEO,EAAAA,EAAAA,IAAEP,IAAIA,EAAEQ,OAAOnB,GAAGA,EAAEW,EAAE,C,mCCA7W,MAAMD,EAAEU,OAAO,W,oLCAqV,SAASb,EAAEW,GAAG,YAAO,IAASA,EAAEjB,QAAQ,CAACoB,eAAeb,EAAEU,EAAER,GAAE,IAAAY,EAAAC,EAAC,OAA4C,QAA5CD,EAAgB,QAAhBC,EAAOL,EAAEM,eAAO,IAAAD,GAAY,QAAZA,EAATA,EAAWE,kBAAU,IAAAF,OAAA,EAArBA,EAAuBG,sBAAc,IAAAJ,EAAAA,EAAyaD,eAAiBtB,EAAED,GAAG,GAAG,IAAIC,EAAE4B,OAAO,OAAOT,EAAAA,EAAEU,cAAcC,QAAQC,IAAI/B,EAAEgC,KAAKb,GAAGA,EAAEc,KAAK,CAACC,OAAOnC,OAAO,MAAMa,EAAEZ,EAAEmC,OAAO3B,GAAGP,EAAED,EAAEmC,QAAQhB,IAAIX,EAAEW,IAAI,MAAMA,EAAEiB,uBAAuB,GAAG,IAAIxB,EAAEgB,QAAQ,IAAI3B,EAAE2B,OAAO,OAAOT,EAAAA,EAAEU,QAAQ,MAAMzB,EAAE,GAAGE,EAAE,GAAG,IAAI,MAAMa,KAAKP,EAAC,KAAAyB,EAAC,aAAa,OAADlB,QAAC,IAADA,OAAC,EAADA,EAAGmB,OAAM,eAAe,OAADnB,QAAC,IAADA,OAAC,EAADA,EAAGmB,OAAiB,QAAXD,EAAClB,EAAEjB,gBAAQ,IAAAmC,IAAVA,EAAYE,YAAYjC,EAAEkC,KAAKrB,GAAGf,EAAEoC,KAAKrB,EAAG,OAAMV,EAAEU,GAAG,MAAMA,GAAGA,EAAEJ,UAAU0B,EAAE,IAAInC,EAAE0B,KAAKb,IAAG,IAAAuB,EAAAC,EAAC,MAAMhC,EAAY,QAAX+B,EAACvB,EAAEjB,gBAAQ,IAAAwC,OAAA,EAAVA,EAAYf,gBAAgBS,qBAAqBpC,GAAGmB,EAAE,OAAyB,QAAzBwB,EAAQ,OAADhC,QAAC,IAADA,OAAC,EAADA,EAAGE,aAAab,UAAE,IAAA2C,EAAAA,EAAE3C,CAAC,OAAOC,EAAE+B,KAAKb,GAAGA,EAAEiB,wBAAwB,GAAGK,EAAEG,KAAKnC,GAAG,OAAOU,EAAAA,EAAEU,QAAQ,MAAMgB,EAAEzC,EAAE4B,KAAKV,UAAS,IAAAwB,EAAAC,EAAAC,EAAAC,EAAC,MAAMtC,EAA0D,QAAzDmC,EAA4C,QAA5CC,QAAQ5B,EAAE+B,uBAAuB,CAAChB,OAAOnC,WAAG,IAAAgD,OAAA,EAA3CA,EAA8CrC,kBAAU,IAAAoC,EAAAA,EAAY,QAAZE,EAAE7B,EAAEjB,gBAAQ,IAAA8C,OAAA,EAAVA,EAAYrB,gBAAgBS,qBAAqBpC,GAAGmB,EAAE,OAAyB,QAAzB8B,EAAQ,OAADtC,QAAC,IAADA,OAAC,EAADA,EAAGE,aAAab,UAAE,IAAAiD,EAAAA,EAAEjD,CAAC,IAAImD,SAASrB,QAAQsB,WAAWP,IAAIb,KAAKb,GAAG,cAAcA,EAAEkC,OAAOlC,EAAEF,MAAM,OAAO,GAAGkC,EAAEP,KAAKnC,GAAG,OAAOU,EAAAA,EAAEU,QAAQ,MAAMyB,EAAE,IAAIH,KAAKV,GAAGN,OAAOxB,EAAAA,IAAG,OAAG,IAAI2C,EAAE1B,OAAcT,EAAAA,EAAEU,QAAeyB,EAAEC,QAAQ,CAACpC,EAAER,IAAIQ,EAAEqC,MAAM7C,IAAI,CAAt1CwC,CAAEhC,EAAEsC,UAAU9C,EAAE,CAAoS,SAASkC,EAAE1B,GAAG,MAAMuC,SAAS/C,EAAEgD,aAAa3D,EAAE4D,MAAMhD,GAAGO,EAAE,OAAOP,EAAE,CAACiD,OAAM9D,EAAAA,EAAAA,IAAEa,IAAIZ,EAAE,CAAC8D,SAAS9D,EAAE+D,SAAS,CAACC,MAAO,OAADrD,QAAC,IAADA,EAAAA,EAAG,EAAE,CAAi7B,SAAS2C,EAAE3C,EAAEX,GAAE,IAAAiE,EAAC,MAAMlE,EAAEY,EAAEuD,kBAAkB,IAAInE,EAAE,OAAO,KAAK,MAAMoE,MAAMvD,EAAEwD,IAAInE,GAAGF,EAAEK,EAAM,QAAL6D,EAAE,OAADrD,QAAC,IAADA,EAAAA,EAAGX,SAAC,IAAAgE,EAAAA,EAAE,KAAK,OAAOjE,GAAG,IAAI,cAAc,OAAO,IAAImB,EAAAA,EAAE,CAACgD,MAAMvD,EAAEwD,IAAInE,IAAI,IAAI,wBAAwB,OAAO,IAAIkB,EAAAA,EAAE,CAACgD,MAAM,KAAKC,IAAIhE,IAAI,IAAI,sBAAsB,OAAO,IAAIe,EAAAA,EAAE,CAACgD,MAAM/D,EAAEgE,IAAI,OAAO,IAAI,UAAU,OAAO,IAAIjD,EAAAA,EAAE,CAACgD,MAAM/D,EAAEgE,IAAIhE,IAAI,CAA+dkB,eAAe+C,EAAElD,EAAER,GAAE,IAAA2D,EAAAC,EAAC,KAAInE,EAAAA,EAAAA,GAAEe,KCA5iF,SAAWA,GAAG,OAAO,MAAMA,GAAG,iBAAiBA,GAAGb,EAAAA,KAAKa,CAAC,CDAy/Eb,CAAEa,GAAG,OAAO,WAAWA,EAAEc,KAAK,CAACC,OAAOvB,IAAI,MAAMX,EAAG,OAADmB,QAAC,IAADA,GAAU,QAATmD,EAADnD,EAAGM,eAAO,IAAA6C,OAAA,EAAVA,EAAY5C,WAAW,IAAI1B,EAAE,OAAO,KAAK,MAAMD,QAAQU,EAAEU,EAAER,GAAGC,EAAEZ,EAAEwE,KAAKvE,EAA/vE,SAAWkB,GAAE,IAAAsD,EAAC,MAAM9D,EAAa,QAAZ8D,EAACtD,EAAEuD,iBAAS,IAAAD,EAAAA,EAAE,EAAEzE,EAAEmB,EAAE+C,kBAAkB,GAAGlE,EAAE,CAAC,MAAMmE,MAAMhD,EAAEiD,IAAIrE,GAAGC,EAAE,OAAO,MAAMmB,GAAG,MAAMpB,GAAGoB,EAAEwD,YAAY5E,EAAE4E,UAAU,UAAU,IAAIhE,EAAE,cAAc,MAAMQ,GAAG,IAAIA,EAAEwD,UAAU,wBAAwB,qBAAqB,CAAC,OAAO,IAAIhE,EAAE,cAAc,uBAAuB,CAA+9D8B,CAAEzC,GAAG,MAAM,CAAC2B,eAAe5B,EAAEyE,KAAK5D,EAAEgE,KAAK3E,EAAE4E,SAAoB,QAAZN,EAACvE,EAAE8E,iBAAS,IAAAP,EAAAA,EAAE,IAAIX,MAAMf,EAAE7C,GAAGU,WAAW4C,EAAEtD,EAAEC,GAAG,CAAC,SAAS8E,EAAEpE,GAAG,IAAIA,EAAE,OAAOA,EAAE,MAAMwD,MAAMnE,EAAEoE,IAAIrE,GAAGY,EAAE,OAAO,IAAIQ,EAAAA,EAAE,CAACgD,MAAM,MAAMnE,GAAEC,EAAAA,EAAAA,IAAED,GAAGA,EAAEgF,oBAAoB,WAAWhF,EAAEoE,IAAI,MAAMrE,GAAEE,EAAAA,EAAAA,IAAEF,GAAGA,EAAEiF,oBAAoB,WAAWjF,GAAG,CAAC,SAASkF,EAAEtE,GAAG,IAAIA,EAAE,OAAOA,EAAE,MAAMwD,MAAMnE,EAAEoE,IAAIrE,GAAGY,EAAE,OAAO,IAAIQ,EAAAA,EAAE,CAACgD,MAAM,MAAMnE,GAAEC,EAAAA,EAAAA,IAAED,EAAEA,EAAEgF,oBAAoB,WAAWhF,EAAEoE,IAAI,MAAMrE,GAAEE,EAAAA,EAAAA,IAAEF,EAAEA,EAAEiF,oBAAoB,WAAWjF,GAAG,C,qNEArjE,MAAMmF,EAAEA,IAAI,IAAIC,EAAE,cAAcD,EAAEE,WAAAA,GAAkBC,SAAMC,WAAMC,KAAKC,+BAA+B,KAAKD,KAAKE,cAAa,EAAGF,KAAKpD,OAAO,KAAKoD,KAAKG,MAAM,KAAKH,KAAKI,eAAe,GAAGJ,KAAKK,KAAK,IAAI,CAACC,UAAAA,GAAaN,KAAKO,WAAW,EAACxF,EAAAA,EAAAA,QAAG,KAAI,IAAAyF,EAAC,MAAMpF,EAAE4E,KAAKG,MAAM,MAAM,CAAC/E,GAAG,kBAAkBA,EAAiB,QAAhBoF,EAACpF,EAAEqF,qBAAa,IAAAD,OAAA,EAAfA,EAAiBE,sBAAsB,KAAKtF,GAAG,iBAAiBA,EAAEA,EAAEuF,aAAa,KAAKvF,GAAG,aAAaA,GAAGA,EAAET,SAASS,GAAG,aAAaA,GAAGA,EAAEwF,SAASxF,GAAG,iBAAiBA,GAAGA,EAAEyF,aAAazF,GAAG,cAAcA,GAAGA,EAAE0F,UAAUd,KAAKpD,OAAOoD,KAAKe,cAAcf,KAAK7E,WAAW,IAAI,IAAI6E,KAAKgB,+BAA+BtG,EAAAA,iBAAGD,EAAAA,EAAAA,KAAG,SAAAwG,EAAA,OAAa,QAAbA,EAAIjB,KAAKK,YAAI,IAAAY,OAAA,EAATA,EAAWC,MAAM,GAAE,UAAU,IAAIlB,KAAKgB,iCAAgCvG,EAAAA,EAAAA,KAAG,KAAK,MAAMW,EAAE4E,KAAKG,MAAM,OAAO/E,GAAG,cAAcA,EAAEA,EAAE+F,UAAU,IAAI,GAAG,UAAU,IAAInB,KAAKgB,iCAAiC,CAAC,mBAAII,GAAkB,IAAIpB,KAAKG,MAAM,MAAM,GAAG,MAAMA,MAAM/E,EAAE+E,OAAOkB,YAAYzF,GAAGwE,eAAe/E,GAAG2E,KAAK,MAAM,cAAc5E,GAAGA,EAAEkG,WAAUC,EAAAA,EAAAA,IAAE3F,EAAE,KAAIgC,EAAAA,EAAAA,IAAEhC,EAAER,EAAEkG,cAAcjG,KAAIkG,EAAAA,EAAAA,IAAE3F,EAAEP,EAAE,CAAC,iBAAI0F,GAAgB,OAAOf,KAAKG,OAAO,kBAAkBH,KAAKG,MAAMH,KAAKG,MAAMY,cAAc,IAAI,CAAC,iBAAIA,CAAc3F,GAAG4E,KAAKwB,UAAU,gBAAgBpG,EAAE,CAAC,2BAAIqG,GAA0B,OAAO,CAAC,CAAC,2BAAIA,CAAwBrG,GAAGC,EAAAA,EAAEqG,UAAU1B,MAAM2B,MAAM,4BAA4B,sDAAsD,CAAC,mCAAIC,GAAkC,OAAM,CAAE,CAACC,SAAAA,CAAUzG,GAAG,MAAM,IAAI0G,MAAM,yBAAyB,CAACC,WAAAA,GAAc,MAAM3G,EAAE,CAACkG,UAAU,CAAC,KAAKU,gBAAe,EAAGC,oBAAoBjC,KAAKK,KAAK6B,kBAAkBtG,EAAE,MAAMoE,KAAKpD,OAAOoD,KAAKpD,OAAOmF,YAAY3G,GAAG,IAAI+G,EAAAA,EAAE/G,GAAG,GAAG,cAAc4E,KAAKG,OAAOH,KAAKG,MAAMW,UAAU,CAAC,MAAM1F,GAAEgH,EAAAA,EAAAA,GAAEpC,MAAM,MAAM5E,IAAIQ,EAAEyG,MAAMzG,EAAEyG,MAAK,IAAAC,OAAK1G,EAAEyG,MAAK,WAAAC,OAAUlH,EAAC,KAAIA,EAAE,CAAC,OAAO,MAAM4E,KAAK7E,aAAaS,EAAET,WAAW,MAAMS,EAAET,WAAWS,EAAET,WAAWG,aAAa0E,KAAK7E,YAAY6E,KAAK7E,WAAWqD,SAAS5C,CAAC,CAAC2G,oBAAAA,GAAuB,MAAMnH,EAAE,CAACkG,UAAU,CAAC,KAAKU,gBAAe,EAAGC,oBAAoBjC,KAAKK,KAAK6B,kBAAkB,OAAO,IAAIC,EAAAA,EAAE/G,EAAE,CAACoH,aAAAA,CAAcpH,EAAEQ,GAAG,MAAM,IAAIkG,MAAM,yBAAyB,CAACW,cAAAA,CAAerH,EAAEQ,GAAG,MAAM,IAAIkG,MAAM,yBAAyB,CAACY,iBAAAA,CAAkBtH,EAAEQ,GAAG,MAAM,IAAIkG,MAAM,yBAAyB,CAACa,WAAAA,CAAYvH,EAAEQ,GAAG,MAAM,IAAIkG,MAAM,yBAAyB,CAAC,oCAAMc,CAA+BxH,EAAEQ,GAAG,OAAOoE,KAAK6C,4BAA4BzH,EAAEQ,GAAGoE,KAAK8C,oBAAoB1H,EAAEQ,EAAE,CAACmH,kBAAAA,CAAmB3H,GAAE,IAAA4H,EAAC,OAAwB,QAAjBA,EAAA5H,EAAE6H,uBAAe,IAAAD,GAAjBA,EAAmB3G,QAAQ6G,MAAMC,QAAQ/H,EAAEgI,UAAUhI,EAAEgI,QAAQ/F,MAAMjC,GAAG,eAAeA,EAAE2B,QAAOsG,EAAAA,EAAAA,MAAI9G,QAAQ+G,SAAS,CAACtC,2BAAAA,GAA8B,MAAM5F,EAAE4E,KAAKuD,wBAAwBvD,KAAKwD,KAAK,iCAAiCpI,GAAGA,EAAEqI,MAAM,KAAKzD,KAAKC,iCAAiC7E,GAAG4E,KAAKwD,KAAK,iCAAiC,KAAK,GAAG,CAAC,2BAAMD,GAAwB,IAAIvD,KAAKG,QAAQH,KAAKK,KAAK,OAAO,MAAMjF,EAAE,OAAO4E,KAAKK,KAAKtD,MAAMoD,MAAMvE,EAAEuE,OAAOkB,YAAY7G,EAAEkJ,cAAc3I,IAAIiF,KAAKtF,EAAE,aAAakB,GAAGA,EAAEgF,SAASnG,EAAE,YAAYmB,GAAGA,EAAE+H,QAAQ9I,EAAE,qBAAqBe,EAAEA,EAAEgI,iBAAiB,KAAK1G,EAAE,IAAI2G,IAAI3I,QAAQqB,QAAQsB,WAAW,CAACnD,EAAEA,EAAEoJ,sBAAsB5G,EAAE1C,GAAG,MAAK8C,EAAAA,EAAAA,IAAEJ,EAAEtB,GAAGR,GAAG,kBAAkBQ,GAAEX,EAAAA,EAAAA,IAAEiC,EAAEtB,GAAG,KAAK,MAAMoE,KAAKpD,QAAOmH,EAAAA,EAAAA,IAAE7G,EAAEtB,EAAEoE,KAAKpD,QAAQ,KAAKxB,GAAG,MAAM4E,KAAKe,cAAc,MAAKgD,EAAAA,EAAAA,IAAE7G,EAAEtB,EAAEoE,KAAKe,cAAcnE,SAASxB,GAAGP,GAAEmJ,EAAAA,EAAAA,IAAE9G,EAAEtB,EAAEf,GAAG,MAAMO,GAAGX,GAAEwJ,EAAAA,EAAAA,IAAE/G,EAAEtB,EAAEnB,GAAG,OAAO,GAAG,aAAamB,GAAGA,EAAEjB,UAAUqF,KAAK7E,aAAY2D,EAAAA,EAAAA,IAAE5B,EAAEtB,EAAEyF,YAAY,CAACzF,EAAEjB,SAASuJ,WAAWtI,EAAEjB,SAASwJ,WAAW,cAAcvI,GAAGA,EAAEkF,YAAWhC,EAAAA,EAAAA,IAAE5B,EAAEtB,EAAEyF,YAAY,CAACzF,EAAEkF,UAAUsD,aAAa,YAAYxI,EAAEmB,MAAM3B,GAAG,MAAMQ,EAAEyI,YAAY,MAAMzI,EAAE0I,eAAejJ,EAAAA,EAAEqG,UAAU1B,MAAM2B,MAAM,kDAAiD7C,EAAAA,EAAAA,IAAE5B,EAAEtB,EAAEyF,YAAY,CAACzF,EAAE0I,iBAAiB,kBAAkB1I,EAAEmB,KAAK,EAAC2C,EAAAA,EAAAA,IAAExC,EAAE1C,EAAEoB,EAAE2I,cAAc,MAAMnJ,EAAEQ,EAAEuF,UAAU1E,KAAKrB,IAAC,IAAAoJ,EAAA,OAAEjI,QAAQC,IAAI,CAAW,QAAXgI,EAACpJ,EAAEwF,gBAAQ,IAAA4D,OAAA,EAAVA,EAAYV,sBAAsB5G,EAAE1C,IAAG8C,EAAAA,EAAAA,IAAEJ,EAAE9B,IAAI,UAASmB,QAAQsB,WAAWzC,EAAE,CAAC,GAAG,sBAAsBQ,EAAEmB,MAAMnB,EAAE6I,OAAO,CAAC,MAAMrJ,EAAEQ,EAAE6I,QAAO3F,EAAAA,EAAAA,IAAE5B,EAAE1C,EAAE,CAACY,EAAEsJ,cAActJ,EAAEuJ,gBAAgBvJ,EAAEwJ,cAAcxJ,EAAEyJ,cAAczJ,EAAE0J,eAAe,CAAC,IAAI,MAAMvD,KAAKrG,EAAE,aAAaqG,EAAEzD,QAAQzC,EAAAA,EAAEqG,UAAU1B,MAAM2B,MAAMJ,EAAEwD,SAAQrF,EAAAA,EAAAA,IAAExC,EAAE1C,EAAEO,GAAGK,GAAG,iBAAiBQ,GAAGA,EAAE+E,eAAcjB,EAAAA,EAAAA,IAAExC,EAAE1C,EAAEoB,EAAE+E,cAAc,MAAM5C,EAAEmF,MAAM8B,KAAK9H,GAAG+H,OAAOjF,KAAKwD,KAAK,iBAAiBzF,EAAE,CAAC8E,2BAAAA,CAA4BzH,EAAEC,GAAG,GAAG,MAAMA,EAAE,IAAI,MAAMb,KAAKY,EAAE,CAAC,MAAMA,EAAEZ,EAAE0K,QAAQ,UAAU1K,EAAE0K,OAAO1K,EAAE0K,OAAO/E,MAAM3F,EAAE2F,MAAM,GAAG,iBAAiB/E,IAAIA,EAAE+J,aAAa,MAAM,IAAIvJ,EAAAA,EAAE,sCAAsC,sBAAsB,CAACuE,MAAM/E,IAAI,GAAGZ,EAAE4K,YAAY,CAAC,MAAM/J,EAAE,qBAAqBD,EAAEA,EAAEwI,iBAAiB,KAAK,KAAKvI,GAAG,kBAAkBA,GAAGA,EAAE8J,cAAc9J,EAAEgK,eAAe,MAAM,IAAIzJ,EAAAA,EAAE,sCAAsC,sBAAsB,CAACuE,MAAM/E,GAAG,MAAM,GAAG,kBAAkBA,KAAOkK,EAAAA,EAAAA,IAAElK,EAAEC,GAAG,MAAM,IAAIO,EAAAA,EAAE,sCAAsC,yCAAyC,CAACuE,MAAM/E,GAAI,CAAC,CAACmK,8BAAAA,CAA+BnK,EAAEQ,GAAG,OAAO4J,EAAAA,EAAAA,IAAE5J,EAAER,EAAE,CAAC,yBAAM0H,CAAoB1H,EAAEQ,GAAG,MAAMP,EAAE,IAAI6H,MAAM9H,EAAEiB,QAAQtB,EAAE,IAAI0K,IAAI/K,QAAQsF,KAAK0F,kBAAkBtK,EAAEqB,KAAKrB,IAAC,IAAAuK,EAAAC,EAAA,OAAiB,QAAjBD,EAAU,QAAVC,EAAExK,EAAE8J,cAAM,IAAAU,OAAA,EAARA,EAAUzF,aAAK,IAAAwF,EAAAA,EAAEvK,EAAE+E,KAAK,IAAGvE,GAAG,IAAI,IAAInB,EAAE,EAAEA,EAAEW,EAAEiB,OAAO5B,IAAI,KAAAoL,EAAAC,EAAC,MAAMjL,EAAEO,EAAEX,GAAG,GAAGI,EAAEuK,YAAY,CAAC/J,EAAEZ,GAAGI,EAAE,QAAQ,CAAC,MAAMqC,EAAiB,QAAhB2I,EAAS,QAATC,EAACjL,EAAEqK,cAAM,IAAAY,OAAA,EAARA,EAAU3F,aAAK,IAAA0F,EAAAA,EAAEhL,EAAEsF,MAAM,IAAIjD,KAAK,iBAAiBA,GAAG,SAAS,MAAMhC,GAAE0C,EAAAA,EAAAA,IAAEoC,KAAKG,MAAMkB,YAAY3G,EAAE4G,WAAWvD,GAAEuH,EAAAA,EAAAA,IAAEpI,EAAEtB,GAAG,GAAG,MAAMmC,EAAE,SAAS,MAAMwD,QAAQvB,KAAK+C,mBAAmBhF,IAAGvD,EAAAA,EAAAA,IAAEoB,GAAG2F,GAAGA,EAAEwE,YAAYC,sBAAsBjI,KAAKiC,KAAKuF,+BAA+B1K,EAAEK,GAAGH,EAAEkL,IAAIpL,EAAEqL,cAAc,CAACC,QAAQtL,EAAEuL,MAAM3L,IAAIY,EAAEZ,GAAGI,CAAC,CAAC,GAAG,WAAWmF,KAAKG,MAAMpD,MAAM,IAAIhC,EAAEsL,KAAK,OAAOhL,EAAEuB,OAAO0J,SAAS5L,EAAE6L,UAAUrD,MAAM8B,KAAKjK,EAAEyL,QAAQ,IAAI,MAAMpL,QAAQ4E,KAAKG,MAAMqC,cAAc9H,EAAEkB,GAAG,IAAI,MAAMA,KAAKR,EAAEqL,SAAS,CAAC,MAAMN,SAASO,SAAStL,EAAE8J,OAAO1K,GAAG4L,MAAM1L,GAAGK,EAAE4L,IAAI/K,EAAEsK,eAAetK,EAAE8K,WAAF9K,EAAE8K,SAAWtL,GAAEQ,EAAEsJ,OAAO1K,EAAEa,EAAEX,GAAGkB,CAAC,CAAC,CAAC,MAAM,CAAC,OAAOP,EAAEuB,OAAO0J,QAAQ,CAAC,uBAAMZ,CAAkBtK,EAAEQ,GAAG,MAAMP,EAAE2E,KAAKG,MAAM4B,cAAchH,EAAE,IAAI8I,IAAI,IAAInJ,GAAE,EAAG,MAAMD,EAAG,OAADW,QAAC,IAADA,EAAAA,EAAG,CAAC4E,KAAKG,OAAO,IAAI,MAAMtF,KAAKJ,EAAE,CAAC,KAAK,iBAAiBI,GAAG,SAAS,MAAMO,GAAEkK,EAAAA,EAAAA,IAAEzK,EAAEe,GAAG,GAAG,MAAMR,EAAE,SAAS,MAAMC,QAAQ2E,KAAK+C,mBAAmB3H,IAAGZ,EAAAA,EAAAA,IAAEoB,GAAG,MAAMnB,EAAEY,GAAGA,EAAE0K,YAAYC,sBAAsB5K,GAAGV,IAAI,UAAUsF,KAAKG,MAAMyG,eAAenM,GAAG,MAAMyC,QAAQ2J,EAAAA,EAAAA,IAAE7G,KAAKG,MAAM/E,IAAGZ,EAAAA,EAAAA,IAAEoB,GAAG,IAAI,MAAMA,KAAKsB,EAAEnC,EAAE+L,IAAIlL,EAAE,CAAC,GAAGP,EAAE2G,eAAetH,EAAEW,EAAE0L,QAAQrM,EAAEW,EAAE2L,QAAQtM,EAAEW,EAAEiG,UAAU4B,MAAM8B,KAAKjK,GAAGM,EAAE4G,oBAAoBjC,KAAKK,KAAK6B,iBAAiB,cAAclC,KAAKG,OAAOH,KAAKG,MAAMW,UAAU,CAAC,MAAM1F,GAAEgH,EAAAA,EAAAA,GAAEpC,MAAM,MAAM5E,IAAIC,EAAEgH,MAAMhH,EAAEgH,MAAK,IAAAC,OAAKjH,EAAEgH,MAAK,WAAAC,OAAUlH,EAAC,KAAIA,EAAE,CAAC,OAAOC,CAAC,CAAC4L,SAAAA,GAAY,QAAQnH,MAAMmH,cAAc,MAAMjH,KAAK7E,aAAa6E,KAAK7E,WAAWI,QAAQ,CAAC2L,OAAAA,GAAU,CAAC,QAAIC,GAAO,GAAG,OAAO/L,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAK+E,EAAEwH,UAAU,sCAAiC,IAAQhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACwM,UAAS,KAAMzH,EAAEwH,UAAU,kBAAkB,OAAMhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACwM,UAAS,KAAMzH,EAAEwH,UAAU,oBAAe,IAAQhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACkC,KAAK7B,EAAAA,KAAK0E,EAAEwH,UAAU,gBAAgB,OAAMhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACkC,KAAKgB,EAAAA,KAAK6B,EAAEwH,UAAU,cAAS,IAAQhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAK+E,EAAEwH,UAAU,aAAQ,IAAQhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACkC,KAAKuK,UAAU1H,EAAEwH,UAAU,0BAA0B,OAAMhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACwM,UAAS,EAAGtK,KAAKuJ,WAAW1G,EAAEwH,UAAU,kCAAkC,OAAMhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACwM,UAAS,KAAMzH,EAAEwH,UAAU,sBAAiB,IAAQhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAK+E,EAAEwH,UAAU,iBAAY,IAAQhM,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAK+E,EAAEwH,UAAU,YAAO,GAAQxH,GAAExE,EAAAA,EAAAA,GAAE,EAAC8B,EAAAA,EAAAA,GAAE,uCAAuC0C,GAAGA,CAAC,C,mLCApxO,IAAI1E,EAAE,eAAcV,EAAAA,EAAAA,KAAEK,EAAAA,EAAAA,GAAEQ,EAAAA,EAAEkM,aAAa3L,EAAAA,YAAMiE,WAAAA,CAAYzE,GAAG0E,MAAM1E,GAAG4E,KAAKwH,iBAAiB,IAAIzJ,EAAAA,EAAEiC,KAAKG,MAAM,KAAKH,KAAKyE,OAAO,IAAI,CAACnE,UAAAA,GAAaN,KAAKyH,OAAOC,OAAOtM,IAAI,GAAG,2BAA2BA,EAAEuM,KAAK,KAAAC,EAAC,MAAMhM,EAAEoE,KAAKG,OAAOH,KAAKG,MAAM0H,IAAI,QAAQxM,GAAY,QAAVuM,EAAA5H,KAAKG,aAAK,IAAAyH,OAAA,EAAVA,EAAYE,QAAO,WAAWpN,EAAAA,EAAEgH,UAAU1B,MAAM2B,MAAM,aAAY,+CAAAW,OAAgDjH,EAAC,YAAAiH,OAAW1G,EAAC,MAAKR,EAAE,IAAI,CAAC2M,OAAAA,GAAU/H,KAAKwH,kBAAiB/M,EAAAA,EAAAA,IAAEuF,KAAKwH,iBAAiB,CAAC,eAAIQ,GAAa,IAAAC,EAAAC,EAAAC,EAAAC,EAAC,OAA0B,QAApBH,EAAW,QAAXC,EAAClI,KAAKG,aAAK,IAAA+H,OAAA,EAAVA,EAAYG,eAAO,IAAAJ,EAAAA,EAAE,IAA4B,QAA3BE,EAAc,QAAdC,EAAGpI,KAAKyE,cAAM,IAAA2D,OAAA,EAAXA,EAAaJ,mBAAW,IAAAG,EAAAA,EAAE,EAAE,CAAC,aAAIG,GAAY,OAAOtI,KAAKuI,YAAYvI,KAAKiH,WAAW,CAAC,eAAIuB,GAAc,OAAOxI,KAAKyI,gBAAgB,CAAC,iBAAIC,GAAe,IAAAC,EAAC,OAAO3I,KAAKsI,YAAW,KAAe,QAAbK,EAAG3I,KAAKG,aAAK,IAAAwI,OAAA,EAAVA,EAAYD,cAAa,CAAC,YAAIE,GAAU,IAAAC,EAAC,SAA8B,QAAtBA,EAAC7I,KAAKwH,wBAAgB,IAAAqB,IAArBA,EAAuBD,YAAW5I,KAAK8I,aAAa,CAAC,oBAAIC,GAAmB,OAAO/I,KAAK4I,SAAS,EAAE,CAAC,CAAC,mBAAII,GAAkB,OAAOhJ,KAAKsI,SAAS,CAAC,WAAIW,GAAS,IAAAC,EAAC,OAAM,KAAe,QAAbA,EAAGlJ,KAAKG,aAAK,IAAA+I,OAAA,EAAVA,EAAYD,QAAO,CAAC,WAAIA,CAAQ7N,GAAG4E,KAAKmJ,gBAAgB,UAAU/N,EAAE,CAAC,yBAAIgO,GAAwB,OAAM,CAAE,CAAC,8BAAIC,GAA4B,IAAAC,EAAC,MAAMlO,EAAE4E,KAAKK,KAAKlF,WAAWS,EAAY,QAAX0N,EAACtJ,KAAKG,aAAK,IAAAmJ,OAAA,EAAVA,EAAYzM,qBAAqB,OAAOzB,IAAIQ,IAAIR,EAAEE,aAAaM,GAAGL,OAAO,CAAC0L,SAAAA,GAAW,IAAAsC,EAAAC,EAAAvI,EAAC,MAAM7F,EAAE4E,KAAKG,OAAO,wBAAwBH,KAAKG,MAAMH,KAAKG,MAAMsJ,oBAAoB,KAAK,OAAOzJ,KAAKiJ,UAAmB,QAAZM,EAAEvJ,KAAKG,aAAK,IAAAoJ,OAAA,EAAVA,EAAYG,WAAoB,QAAZF,EAACxJ,KAAKyE,cAAM,IAAA+E,GAAXA,EAAalB,aAAoB,QAAXrH,EAAEjB,KAAKK,YAAI,IAAAY,OAAA,EAATA,EAAW0I,SAAOpI,EAAAA,EAAAA,IAAEnG,IAAI4E,KAAKoJ,uBAAuBpJ,KAAKqJ,6BAA4B,CAAE,CAACZ,cAAAA,GAAgB,IAAAmB,EAAAC,EAAC,MAAMzO,EAAa,QAAXwO,EAAA5J,KAAKyE,cAAM,IAAAmF,GAAXA,EAAatB,UAAUtI,KAAKyE,OAAO+D,YAAY,CAAC,EAAe,QAANqB,EAAL7J,KAAOK,YAAI,IAAAwJ,GAANA,EAAQF,QAAQvO,EAAE0O,cAAa,GAAI9J,KAAKG,OAAOH,KAAKG,MAAMuJ,SAAStO,EAAE2O,gBAAe,GAAI,MAAM1O,EAAE2E,KAAKG,OAAO,wBAAwBH,KAAKG,MAAMH,KAAKG,MAAMsJ,oBAAoB,KAAK,OAAOlI,EAAAA,EAAAA,IAAElG,IAAI2E,KAAKoJ,wBAAwBhO,EAAE4O,mBAAkB,GAAIhK,KAAKqJ,6BAA6BjO,EAAE6O,6BAA4B,GAAIjK,KAAKiJ,UAAU7N,EAAE8O,gBAAe,GAAI9O,CAAC,CAAC0N,UAAAA,GAAa,OAAM,CAAE,IAAG1N,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKG,EAAEkM,UAAU,YAAO,IAAQhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKG,EAAEkM,UAAU,cAAc,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKG,EAAEkM,UAAU,aAAQ,IAAQhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKG,EAAEkM,UAAU,cAAS,IAAQhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACsM,UAAS,KAAMnM,EAAEkM,UAAU,YAAY,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACsM,UAAS,KAAMnM,EAAEkM,UAAU,cAAc,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACsM,UAAS,KAAMnM,EAAEkM,UAAU,gBAAgB,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACgC,KAAKuJ,QAAQe,UAAS,KAAMnM,EAAEkM,UAAU,WAAW,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACsM,UAAS,KAAMnM,EAAEkM,UAAU,mBAAmB,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKG,EAAEkM,UAAU,kBAAkB,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKG,EAAEkM,UAAU,UAAU,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACsM,UAAS,KAAMnM,EAAEkM,UAAU,wBAAwB,OAAMhM,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACsM,UAAS,KAAMnM,EAAEkM,UAAU,6BAA6B,MAAMlM,GAAEE,EAAAA,EAAAA,GAAE,EAAC8B,EAAAA,EAAAA,GAAE,gCAAgChC,GAAG,MAAM6I,EAAE7I,C,2HCArzF,MAAMV,EAAEA,IAAI,IAAI0C,EAAE,cAAc1C,EAAE8F,UAAAA,GAAaN,KAAKO,YAAWxF,EAAAA,EAAAA,KAAG,IAAIiF,KAAKG,OAAO,WAAW9E,IAAI2E,KAAKmK,UAAU9O,EAAE+O,aAAa1C,OAAOrM,KAAIX,EAAAA,EAAAA,IAAEW,IAAID,EAAAA,EAAEsG,UAAU1B,MAAM2B,MAAMtG,EAAE,GAAG,IAAI,uBAAuB,GAAG,OAAO6B,GAAE7B,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,GAAE,2CAA2CsB,GAAGA,CAAC,C","sources":["../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/tagSymbols.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/webscene/utils.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e=Symbol(\"WebScene\");export{e as WebSceneTag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../TimeExtent.js\";import{isSome as e}from\"../core/arrayUtils.js\";import{deprecatedFunction as n}from\"../core/deprecate.js\";import{clone as i}from\"../core/lang.js\";import r from\"../core/Logger.js\";import{offsetDate as s}from\"../core/timeUtils.js\";import{isWebMap as l}from\"../webmap/utils.js\";import{isWebScene as o}from\"../webscene/utils.js\";function m(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??f(t.allLayers,e)}function a(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function c(t){const{numStops:e,stopInterval:n,stops:r}=t;return r?{dates:i(r)}:n?{interval:n.clone()}:{count:e??5}}async function f(n,i){if(0===n.length)return t.allTime;await Promise.all(n.map((t=>t.load({signal:i}))));const r=n.filter(m),s=n.filter((t=>!m(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===s.length)return t.allTime;const l=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):l.push(t);const u=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...s.map((t=>t.visibilityTimeExtent))];if(a.some(u))return t.allTime;const c=l.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:i}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),f=(await Promise.allSettled(c)).map((t=>\"fulfilled\"===t.status?t.value:null));if(f.some(u))return t.allTime;const p=[...f,...a].filter(e);if(0===p.length)return t.allTime;return p.reduce(((t,e)=>t.union(e)))}function p(e,n){const i=e.currentTimeExtent;if(!i)return null;const{start:r,end:s}=i,l=r??s??null;switch(n){case\"time-window\":return new t({start:r,end:s});case\"cumulative-from-start\":return new t({start:null,end:l});case\"cumulative-from-end\":return new t({start:l,end:null});case\"instant\":return new t({start:l,end:l})}}async function d(t,e){return n(r.getLogger(\"esri.support.timeUtils.getTimeSliderSettingsFromWebMap\"),\"`timeUtils.getTimeSliderSettingsFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebDocument'\",{replacement:\"timeUtils.getTimeSliderSettingsFromWebDocument\",version:\"4.30\",see:\"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebDocument\",warnOnce:!0}),null!=t&&l(t)?await g(t,e):null}async function g(t,e){if(!l(t)&&!o(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),r=n.loop,s=a(n);return{fullTimeExtent:i,loop:r,mode:s,playRate:n.stopDelay??2e3,stops:c(n),timeExtent:p(n,s)}}function T(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,-n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,-i.getTimezoneOffset(),\"minutes\"):i})}function w(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,i.getTimezoneOffset(),\"minutes\"):i})}export{f as getTimeExtentFromLayers,g as getTimeSliderSettingsFromWebDocument,d as getTimeSliderSettingsFromWebMap,w as toLocalTimeExtent,T as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{WebSceneTag as o}from\"../support/tagSymbols.js\";function t(t){return null!=t&&\"object\"==typeof t&&o in t}export{t as isWebScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as o,syncAndInitial as s,on as n}from\"../../core/reactiveUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../layers/support/FeatureEffect.js\";import p from\"../../layers/support/FeatureFilter.js\";import{fixFields as d,unpackFieldNames as f,collectLabelingFields as c,collectElevationFields as m,collectFilterFields as y,collectFeatureReductionFields as h,collectOrderByInfos as F,collectFields as g,collectField as w,featureHasFields as E}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as I}from\"../../layers/support/floorFilterUtils.js\";import b from\"../../rest/support/Query.js\";import{loadArcade as x}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as v,getRequiredFields as R}from\"./support/popupUtils.js\";const _=_=>{let q=class extends _{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.dataUpdating=!1,this.filter=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.addHandles([o((()=>{const e=this.layer;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),s),n((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),n((()=>{const e=this.layer;return e&&\"sublayers\"in e?e.sublayers:null}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?d(t,[...f(t,e.outFields),...r]):d(t,r)}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){r.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new b(e);if(\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=I(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new b(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){return this._validateFetchPopupFeatures(e,t),this._fetchPopupFeatures(e,t)}_loadArcadeModules(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?x():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:i,objectIdField:o}}=this,s=\"renderer\"in t&&t.renderer,n=\"orderBy\"in t&&t.orderBy,l=\"featureReduction\"in t?t.featureReduction:null,a=new Set,u=await Promise.allSettled([s?s.collectRequiredFields(a,i):null,c(a,t),e&&\"elevationInfo\"in t?m(a,t):null,null!=this.filter?y(a,t,this.filter):null,e||null==this.featureEffect?null:y(a,t,this.featureEffect.filter),!e&&l?h(a,t,l):null,!e&&n?F(a,t,n):null]);if(\"timeInfo\"in t&&t.timeInfo&&this.timeExtent&&g(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"floorInfo\"in t&&t.floorInfo&&g(a,t.fieldsIndex,[t.floorInfo.floorField]),\"feature\"===t.type&&e&&null!=t.infoFor3D&&(null==t.globalIdField&&r.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),g(a,t.fieldsIndex,[t.globalIdField])),\"subtype-group\"===t.type){w(a,i,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,i),c(a,e)])));await Promise.allSettled(e)}if(\"catalog-footprint\"===t.type&&t.parent){const e=t.parent;g(a,i,[e.itemNameField,e.itemSourceField,e.itemTypeField,e.maxScaleField,e.minScaleField])}for(const d of u)\"rejected\"===d.status&&r.getLogger(this).error(d.reason);w(a,i,o),e&&\"displayField\"in t&&t.displayField&&w(a,i,t.displayField);const p=Array.from(a).sort();this._set(\"requiredFields\",p)}_validateFetchPopupFeatures(e,r){if(null!=r)for(const i of e){const e=i.origin&&\"layer\"in i.origin?i.origin.layer:i.layer;if(\"popupEnabled\"in e&&!e.popupEnabled)throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e});if(i.isAggregate){const r=\"featureReduction\"in e?e.featureReduction:null;if(!(r&&\"popupTemplate\"in r&&r.popupEnabled&&r.popupTemplate))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e})}else if(\"popupTemplate\"in e){if(!v(e,r))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:e})}}}_popupFeatureHasRequiredFields(e,t){return E(t,e)}async _fetchPopupFeatures(e,t){const r=new Array(e.length),o=new Map,s=await this._createPopupQuery(e.map((e=>e.origin?.layer??e.layer)),t);for(let n=0;n<e.length;n++){const l=e[n];if(l.isAggregate){r[n]=l;continue}const a=l.origin?.layer??l.layer;if(!a||!(\"popupEnabled\"in a))continue;const u=f(this.layer.fieldsIndex,s.outFields),p=v(a,t);if(null==p)continue;const d=await this._loadArcadeModules(p);i(t);d&&d.arcadeUtils.hasGeometryOperations(p)||!this._popupFeatureHasRequiredFields(l,u)?o.set(l.getObjectId(),{graphic:l,index:n}):r[n]=l}if(\"stream\"===this.layer.type||0===o.size)return r.filter(Boolean);s.objectIds=Array.from(o.keys());try{const e=await this.layer.queryFeatures(s,t);for(const t of e.features){const{graphic:{geometry:e,origin:i},index:s}=o.get(t.getObjectId());t.geometry||=e,t.origin=i,r[s]=t}}catch{}return r.filter(Boolean)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),o=new Set;let s=!1;const n=e??[this.layer];for(const l of n){if(!(\"popupEnabled\"in l))continue;const e=v(l,t);if(null==e)continue;const r=await this._loadArcadeModules(e);i(t);const n=r&&r.arcadeUtils.hasGeometryOperations(e);s=!(\"point\"!==this.layer.geometryType&&!n);const a=await R(this.layer,e);i(t);for(const t of a)o.add(t)}if(r.returnGeometry=s,r.returnZ=s,r.returnM=s,r.outFields=Array.from(o),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=I(this);null!=e&&(r.where=r.where?`(${r.where}) AND (${e})`:e)}return r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){}get test(){}};return e([l()],q.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([l({readOnly:!0})],q.prototype,\"availableFields\",null),e([l({readOnly:!0})],q.prototype,\"dataUpdating\",void 0),e([l({type:u})],q.prototype,\"featureEffect\",null),e([l({type:p})],q.prototype,\"filter\",void 0),e([l()],q.prototype,\"layer\",void 0),e([l({type:Number})],q.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0,type:Boolean})],q.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l({readOnly:!0})],q.prototype,\"requiredFields\",void 0),e([l()],q.prototype,\"suspended\",void 0),e([l()],q.prototype,\"view\",void 0),q=e([a(\"esri.views.layers.FeatureLayerView\")],q),q};export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["i","n","s","timeInfo","datesInUnknownTimezone","l","timeOffset","o","useViewTime","m","u","timeExtent","e","r","intersection","isEmpty","isAllTime","offset","value","unit","t","equals","Symbol","async","_t$widgets$timeSlider","_t$widgets","widgets","timeSlider","fullTimeExtent","length","allTime","Promise","all","map","load","signal","filter","visibilityTimeExtent","_t$timeInfo","type","hasLiveData","push","a","_t$timeInfo2","_e$intersection","some","c","_await$t$fetchRecompu","_await$t$fetchRecompu2","_t$timeInfo3","_e$intersection2","fetchRecomputedExtents","f","allSettled","status","p","reduce","union","allLayers","numStops","stopInterval","stops","dates","interval","clone","count","_ref","currentTimeExtent","start","end","g","_t$widgets2","_n$stopDelay","loop","_t$numThumbs","numThumbs","getTime","mode","playRate","stopDelay","T","getTimezoneOffset","w","_","q","constructor","super","arguments","this","_updatingRequiredFieldsPromise","dataUpdating","layer","requiredFields","view","initialize","addHandles","_e$elevationInfo","elevationInfo","featureExpressionInfo","displayField","renderer","labelingInfo","floorInfo","featureEffect","_handleRequiredFieldsChange","_this$view","floors","sublayers","availableFields","fieldsIndex","outFields","d","_override","maximumNumberOfFeatures","getLogger","error","maximumNumberOfFeaturesExceeded","highlight","Error","createQuery","returnGeometry","outSpatialReference","spatialReference","b","I","where","concat","createAggregateQuery","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","_fetchPopupFeatures","_loadArcadeModules","_e$expressionInfos","expressionInfos","Array","isArray","content","x","resolve","_updateRequiredFields","_set","then","objectIdField","orderBy","featureReduction","Set","collectRequiredFields","y","h","F","startField","endField","floorField","infoFor3D","globalIdField","subtypeField","_e$renderer","parent","itemNameField","itemSourceField","itemTypeField","maxScaleField","minScaleField","reason","from","sort","origin","popupEnabled","isAggregate","popupTemplate","v","_popupFeatureHasRequiredFields","E","Map","_createPopupQuery","_e$origin$layer","_e$origin","_l$origin$layer","_l$origin","arcadeUtils","hasGeometryOperations","set","getObjectId","graphic","index","size","Boolean","objectIds","keys","features","geometry","get","geometryType","R","add","returnZ","returnM","canResume","getTest","test","prototype","readOnly","Number","EventedMixin","_updatingHandles","when","catch","name","_this$layer","id","title","destroy","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","suspended","destroyed","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","isUpdating","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","_this$layer5","_this$layer6","_this$parent2","effectiveScaleRange","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","doRefresh","dataChanged"],"sourceRoot":""}