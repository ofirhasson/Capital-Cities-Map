{"version":3,"file":"static/js/77031.7e206f5e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/map-components/dist/esm/arcgis-version-management.entry.js","../node_modules/@arcgis/map-components/dist/esm/chunk-PVEVZB4O-2c3b8893.js","../node_modules/@arcgis/map-components/dist/esm/useT9n-e78c8d12.js"],"sourcesContent":["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.7\n */\nimport { r as registerInstance, c as createEvent, h, F as Fragment, g as getElement } from './index-7d33cc26.js';\nimport { l as load } from './chunk-PVEVZB4O-2c3b8893.js';\nimport { u as useControllerManager } from './index-c99fc80c.js';\nimport { i as importCoreReactiveUtils, ag as newWidgetsVersionManagementVersionManagementViewModel } from './index-d2df902e.js';\nimport { u as useT9n, m as makeViewModelController } from './useT9n-e78c8d12.js';\nimport './component-utils-de9339fe.js';\n\nconst versionManagementCss = \".calcite-flow-widget{width:350px}calcite-block{margin:0}calcite-pagination{justify-content:center}\";\nconst ArcgisVersionManagementStyle0 = versionManagementCss;\n\nconst useVersionManagementViewModel = makeViewModelController(newWidgetsVersionManagementVersionManagementViewModel);\nconst ArcgisVersionManagement = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.arcgisReady = createEvent(this, \"arcgisReady\", 7);\n        this.arcgisVersioningStateChanged = createEvent(this, \"arcgisVersioningStateChanged\", 7);\n        this.manager = useControllerManager(this);\n        this.reactiveUtils = load(importCoreReactiveUtils);\n        this.viewModel = useVersionManagementViewModel(this);\n        this.messages = this.manager.readonly(useT9n({ blocking: true }));\n        this.allowEditingDisabled = false;\n        this.autoDestroyDisabled = false;\n        this.closable = false;\n        this.icon = undefined;\n        this.label = undefined;\n        this.mode = undefined;\n        this.pageSize = 5;\n        this.position = \"top-right\";\n        this.referenceElement = undefined;\n        this.state = this.viewModel.state;\n        this.versioningStates = this.viewModel.versioningStates;\n        this.view = this.viewModel.view;\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    //--------------------------------------------------------------------------\n    async componentWillLoad() {\n        const { watch } = this.reactiveUtils;\n        this.manager.onLifecycle(() => [\n            watch(() => this.viewModel.state, (state) => {\n                const { flowElement } = this;\n                const versionProperties = flowElement?.getElementsByTagName(\"arcgis-version-management-version-properties\")[0];\n                const versionList = flowElement?.getElementsByTagName(\"arcgis-version-management-version-list\")[0];\n                if (state === \"disabled\") {\n                    if (versionProperties) {\n                        this._removeVersionPropertiesFlowItem(flowElement);\n                    }\n                    if (versionList) {\n                        this._removeVersionListFlowItem(flowElement);\n                    }\n                    return;\n                }\n                if (versionList) {\n                    versionList.versionListElementProps = {\n                        ...versionList.versionListElementProps,\n                        executionError: this.viewModel.executionError,\n                    };\n                    versionList.versionListElementProps = {\n                        ...versionList.versionListElementProps,\n                        state,\n                    };\n                }\n                if (versionProperties) {\n                    versionProperties.versionPropertiesElementProps = {\n                        ...versionProperties.versionPropertiesElementProps,\n                        state,\n                    };\n                }\n            }),\n        ]);\n    }\n    /** Permanently destroy the component */\n    async destroy() {\n        await this.manager.destroy();\n    }\n    render() {\n        const { allowEditingDisabled, closable, flowElement, label, messages, pageSize, viewModel, viewModel: { loadError, state }, } = this;\n        const arrayServiceNames = Array.from(viewModel.serviceNameLookup, ([url, name]) => ({ url, name }));\n        const serviceItems = state !== \"disabled\" ? (h(Fragment, null, arrayServiceNames.map((service) => {\n            const serviceItemElementProps = {\n                allowEditing: !allowEditingDisabled,\n                closable,\n                currentUser: viewModel.userLookup.get(service.url),\n                currentVersionIdentifier: viewModel.versioningStateLookup.get(service.url).currentVersionInfo\n                    .versionIdentifier,\n                executionError: undefined,\n                flowElement: flowElement,\n                hasAdvEditingUte: viewModel.advancedEditingUserTypeExtensionLookup.get(service.url),\n                heading: label,\n                isVersioningApiAvailable: (viewModel.serverVersionLookup.get(service.url) ?? 0) >= 11.2,\n                pageSize,\n                serviceName: service.name,\n                state,\n                serviceUrl: service.url,\n                strings: messages,\n                versionInfos: viewModel.versioningStateLookup.get(service.url)?.versionInfos ?? [],\n            };\n            return (h(\"arcgis-version-management-service-item\", { serviceItemElementProps: serviceItemElementProps, onArcgisGetVersions: async (event) => {\n                    await this._refreshVersionList(event.detail.serviceUrl);\n                }, onArcgisFlowItemBack: () => {\n                    this._removeVersionListFlowItem(flowElement);\n                }, onArcgisFlowItemClose: () => {\n                    this._handleFlowItemClose();\n                }, onArcgisManageVersion: (event) => {\n                    this._handleManageVersionAction(event, flowElement);\n                }, onArcgisNewVersion: (event) => {\n                    const versionPropertiesFlow = this._createVersionPropertiesFlowItem(event.detail.serviceUrl, undefined);\n                    flowElement?.appendChild(versionPropertiesFlow);\n                } }));\n        }))) : undefined;\n        const notice = state === \"disabled\" ? (h(\"calcite-notice\", { class: \"notice\", closable: false, kind: \"warning\", open: true, scale: \"s\", slot: \"footer\", width: \"full\" }, h(\"div\", { slot: \"message\" }, this._getLoadError(loadError)))) : undefined;\n        return (h(\"calcite-flow\", { ref: (node) => {\n                this.flowElement = node;\n            }, class: this.mode === \"dialog\" ? \"\" : \"calcite-flow-widget\" }, h(\"calcite-flow-item\", { closable: this.closable, heading: label, onCalciteFlowItemClose: () => {\n                this._handleFlowItemClose();\n            } }, h(\"calcite-panel\", { loading: state === \"loading\" || state === \"executing\" }, serviceItems, notice))));\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    //--------------------------------------------------------------------------\n    _createVersionPropertiesFlowItem(serviceUrl, versionInfo) {\n        const { closable, flowElement, viewModel, viewModel: { state }, } = this;\n        const versionProperties = document.createElement(\"arcgis-version-management-version-properties\");\n        versionProperties.versionPropertiesElementProps = {\n            closable,\n            currentUser: viewModel.userLookup.get(serviceUrl),\n            hasAdvEditingUte: viewModel.advancedEditingUserTypeExtensionLookup.get(serviceUrl),\n            serviceUrl,\n            state,\n            strings: this.messages,\n            versionInfo,\n        };\n        versionProperties.addEventListener(\"arcgisCreateVersion\", (event) => {\n            const { createVersionParameters, switchToVersion } = event.detail;\n            viewModel\n                .createVersion(createVersionParameters)\n                .then(async (createVersionResult) => {\n                if (createVersionResult) {\n                    this.arcgisVersioningStateChanged.emit({\n                        type: \"version-created\",\n                        versionIdentifier: createVersionResult.versionIdentifier,\n                        versioningState: viewModel.versioningStateLookup.get(serviceUrl),\n                    });\n                }\n                if (switchToVersion) {\n                    await this.viewModel\n                        .changeVersion(serviceUrl, createVersionResult.versionIdentifier.name, createVersionResult.versionIdentifier.guid)\n                        .then((changeVersionResult) => {\n                        if (changeVersionResult) {\n                            this.arcgisVersioningStateChanged.emit({\n                                type: \"version-switched\",\n                                versionIdentifier: createVersionResult.versionIdentifier,\n                                versioningState: viewModel.versioningStateLookup.get(serviceUrl),\n                            });\n                        }\n                    });\n                }\n            })\n                .finally(async () => {\n                await this._refreshVersionList(serviceUrl);\n                this._removeVersionPropertiesFlowItem(flowElement);\n            });\n        });\n        versionProperties.addEventListener(\"arcgisAlterVersion\", async (event) => {\n            const { flowElement } = this;\n            const { alterVersionParameters } = event.detail;\n            await viewModel\n                .alterVersion(alterVersionParameters)\n                .then(async (alterVersionResult) => {\n                if (alterVersionResult) {\n                    this.arcgisVersioningStateChanged.emit({\n                        type: \"version-changed\",\n                        versionIdentifier: alterVersionParameters.versionIdentifier,\n                        versioningState: viewModel.versioningStateLookup.get(serviceUrl),\n                    });\n                }\n                await this._refreshVersionList(serviceUrl);\n            })\n                .finally(() => {\n                this._removeVersionPropertiesFlowItem(flowElement);\n            });\n        });\n        versionProperties.addEventListener(\"arcgisFlowItemBack\", () => {\n            this._removeVersionPropertiesFlowItem(this.flowElement);\n        });\n        versionProperties.addEventListener(\"calciteFlowItemBack\", (event) => {\n            event.preventDefault();\n            this._removeVersionPropertiesFlowItem(this.flowElement);\n        });\n        versionProperties.addEventListener(\"calciteFlowItemClose\", () => {\n            this._handleFlowItemClose();\n        });\n        return versionProperties;\n    }\n    _getLoadError(loadError) {\n        const { messages } = this;\n        switch (loadError) {\n            case \"no-feature-services\":\n                return messages.loadErrors.noFeatureServices;\n            case \"no-view-property\":\n                return messages.loadErrors.noViewProperty;\n            default:\n                return loadError;\n        }\n    }\n    _handleFlowItemClose() {\n        const versionManagementComponent = document.querySelector(\"arcgis-version-management\");\n        const parentElement = versionManagementComponent.parentElement;\n        parentElement?.removeChild(versionManagementComponent);\n    }\n    async _handleManageVersionAction(e, flowElement) {\n        const { actionType, serviceUrl, versionInfo } = e.detail;\n        const { viewModel } = this;\n        switch (actionType) {\n            case \"changeVersion\": {\n                viewModel\n                    .changeVersion(serviceUrl, versionInfo.versionIdentifier.name, versionInfo.versionIdentifier.guid)\n                    .then((changeVersionResult) => {\n                    if (changeVersionResult) {\n                        this.arcgisVersioningStateChanged.emit({\n                            type: \"version-switched\",\n                            versionIdentifier: versionInfo.versionIdentifier,\n                            versioningState: viewModel.versioningStateLookup.get(serviceUrl),\n                        });\n                    }\n                    const versionList = flowElement?.getElementsByTagName(\"arcgis-version-management-version-list\")[0];\n                    if (versionList) {\n                        if (versionList) {\n                            versionList.versionListElementProps = {\n                                ...versionList.versionListElementProps,\n                                currentVersionIdentifier: viewModel.versioningStateLookup.get(serviceUrl).currentVersionInfo.versionIdentifier,\n                            };\n                        }\n                    }\n                });\n                break;\n            }\n            case \"deleteVersion\": {\n                viewModel\n                    .deleteVersion(serviceUrl, versionInfo.versionIdentifier.name, versionInfo.versionIdentifier.guid)\n                    .then(async (deleteVersionResult) => {\n                    if (deleteVersionResult) {\n                        this.arcgisVersioningStateChanged.emit({\n                            type: \"version-deleted\",\n                            versionIdentifier: versionInfo.versionIdentifier,\n                            versioningState: viewModel.versioningStateLookup.get(serviceUrl),\n                        });\n                    }\n                    await this._refreshVersionList(serviceUrl);\n                });\n                break;\n            }\n            case \"editVersion\": {\n                const versionPropertiesFlow = this._createVersionPropertiesFlowItem(serviceUrl, versionInfo);\n                flowElement.appendChild(versionPropertiesFlow);\n                break;\n            }\n        }\n    }\n    async _refreshVersionList(serviceUrl) {\n        const { flowElement, viewModel } = this;\n        if (flowElement) {\n            const versionInfos = await viewModel.getVersionInfos(serviceUrl);\n            const serviceItemElements = flowElement.getElementsByTagName(\"arcgis-version-management-service-item\");\n            for (const serviceItemElement of serviceItemElements) {\n                if (serviceItemElement.serviceItemElementProps.serviceUrl === serviceUrl) {\n                    serviceItemElement.serviceItemElementProps = {\n                        ...serviceItemElement.serviceItemElementProps,\n                        versionInfos,\n                    };\n                }\n            }\n            const versionListElement = flowElement.getElementsByTagName(\"arcgis-version-management-version-list\")[0];\n            if (versionListElement) {\n                versionListElement.versionListElementProps = {\n                    ...versionListElement.versionListElementProps,\n                    currentVersionIdentifier: viewModel.versioningStateLookup.get(serviceUrl).currentVersionInfo.versionIdentifier,\n                    versionInfos,\n                };\n            }\n        }\n    }\n    _removeVersionListFlowItem(flowElement) {\n        for (const childNode of flowElement.childNodes) {\n            if (childNode.nodeName.toUpperCase() === \"ARCGIS-VERSION-MANAGEMENT-VERSION-LIST\") {\n                flowElement.removeChild(childNode);\n            }\n            if (childNode.nodeName.toUpperCase() === \"CALCITE-FLOW-ITEM\") {\n                childNode.hidden = false;\n            }\n        }\n    }\n    _removeVersionPropertiesFlowItem(flowElement) {\n        for (const childNode of flowElement.childNodes) {\n            if (childNode.nodeName.toUpperCase() === \"ARCGIS-VERSION-MANAGEMENT-VERSION-PROPERTIES\") {\n                flowElement.removeChild(childNode);\n            }\n            if (childNode.nodeName.toUpperCase() === \"ARCGIS-VERSION-MANAGEMENT-VERSION-LIST\") {\n                childNode.getElementsByTagName(\"calcite-flow-item\")[0].hidden = false;\n            }\n        }\n    }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return getElement(this); }\n};\nArcgisVersionManagement.style = ArcgisVersionManagementStyle0;\n\nexport { ArcgisVersionManagement as arcgis_version_management };\n","/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.7\n */\nimport { b as makeController } from './index-c99fc80c.js';\nimport { s as startLocaleObserver, g as getElementLocales } from './index-d2df902e.js';\n\n// src/load.ts\nvar load = (loader) => makeController(loader);\nvar makeT9nController = (getAssetPath) => ({ blocking = false, name } = {}) => (\n  // eslint-disable-next-line @typescript-eslint/promise-function-async\n  makeController((component, controller) => {\n    controller.onLifecycle(\n      () => startLocaleObserver(\n        component.el,\n        getAssetPath(\"./assets\"),\n        ({ t9nLocale, t9nStrings, lang }) => {\n          controller.exports = { ...t9nStrings, _lang: lang, _t9nLocale: t9nLocale };\n          const label = t9nStrings.componentLabel ?? t9nStrings.widgetLabel;\n          if (typeof label === \"string\" && \"label\" in component && component.label == null) {\n            component.label ?? (component.label = label);\n          }\n        },\n        name\n      )\n    );\n    if (blocking) {\n      return controller.ready;\n    }\n    const locale = getElementLocales(component.el);\n    return { _lang: locale.lang, _t9nLocale: locale.t9nLocale };\n  })\n);\n\n// src/usePropertyChange.ts\nvar usePropertyChange = (_component) => propertyChangeController;\nvar eventName = \"arcgisPropertyChange\";\nvar propertyChangeController = (...toWatch) => makeController((component, controller) => {\n  const eventedComponent = component;\n  if (component.manager.isLit) {\n    eventedComponent[eventName] = {\n      emit: (payload) => {\n        const event = new CustomEvent(eventName, { detail: payload, cancelable: true });\n        component.el.dispatchEvent(event);\n        return event;\n      }\n    };\n  }\n  const eventEmitter = eventedComponent[eventName];\n  controller.onLoad(\n    () => controller.onLifecycle(\n      () => toWatch.map(\n        (name) => (\n          // Casting to 'el' to simplify dynamic prop name typing\n          component.manager.watch(name, () => eventEmitter.emit({ name }))\n        )\n      )\n    )\n  );\n  return eventEmitter;\n});\n\nexport { load as l, makeT9nController as m, usePropertyChange as u };\n","/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.7\n */\nimport { p as proxyExports, A as AccessorController, a as accessorSupport } from './index-c99fc80c.js';\nimport './index-d2df902e.js';\nimport { a as attachToParent } from './component-utils-de9339fe.js';\nimport { m as makeT9nController } from './chunk-PVEVZB4O-2c3b8893.js';\nimport { a as getAssetPath } from './index-7d33cc26.js';\n\n/**\n * A controller for a mapping component that:\n * - loads the viewModel\n * - initializes the viewModel with the component's properties\n * - does two-way binding between view model and component properties\n * - re-emits the viewModel's events on the component\n * - type-checks everything âœ¨\n *\n * Documentation:\n * https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/map-components/src/controllers/useViewModel.md\n */\nconst makeViewModelController = (loadViewModel, _options) => (component, options) => proxy(component, loadViewModel, options);\n// REFACTOR: extract common logic into IntegrationController???\nclass ViewModelController extends AccessorController {\n    hostConnected() {\n        if (this.component.manager.didLoadCalled) {\n            attachToParent(this.component);\n        }\n    }\n    async hostLoad() {\n        await super.hostLoad();\n        if (this.component.manager.destroyed) {\n            return;\n        }\n        this._watchMetaProperties();\n        accessorSupport.reEmitAccessorEvents(this, this._instance, this.reactiveUtils, \"viewModel\");\n    }\n    hostLoaded() {\n        const { el } = this.component;\n        const childNode = el.shadowRoot?.firstElementChild ?? el.firstElementChild ?? undefined;\n        /*\n         * On hot reloading, new this.component instance is created (so properties\n         * on it are reset) but this.component.el instance is preserved (so\n         * properties on it are preserved). Since childElem is re-parented on 1st\n         * hostLoad(), for it to be accessible on the 2nd hostLoad() (hot reload),\n         * we have to store it's reference on the el, rather than component\n         */\n        el.childElem = childNode ?? el.childElem;\n        if (el.childElem === undefined && \"production\" !== \"production\") {\n            throw new Error(\"Unable to find component's root child\");\n        }\n        let arcgisReadyEmitted = false;\n        // Check if view was already provided by the user\n        const currentView = this.component.el.view;\n        // Define the \"view\" property to allow component usage with MapView/SceneView\n        Object.defineProperty(this.component.el, \"view\", {\n            get: () => this._instance.view,\n            set: (view) => {\n                this._instance.view = view;\n                this._watchViewDestroy();\n                this.component.requestUpdate();\n                if (!arcgisReadyEmitted) {\n                    arcgisReadyEmitted = true;\n                    this.component.arcgisReady.emit();\n                }\n            },\n            configurable: true,\n            enumerable: true,\n        });\n        if (currentView) {\n            this._instance.view = currentView;\n        }\n        if (this.component.el.isConnected) {\n            attachToParent(this.component);\n            this._watchViewDestroy();\n        }\n    }\n    hostDisconnected() {\n        // If view is already destroyed, view.ui might be undefined\n        if (typeof this.component.el.childElem === \"object\") {\n            this.component.el.view?.ui?.remove(this.component.el.childElem);\n        }\n    }\n    hostDestroy() {\n        super.hostDestroy();\n        this._watchViewDestroyHandle?.remove();\n    }\n    _watchMetaProperties() {\n        this.watch(\"position\", (position) => {\n            if (this.component.el.childElem != null && typeof position === \"string\") {\n                attachToParent(this.component);\n            }\n        });\n        this.watch(\"referenceElement\", () => attachToParent(this.component));\n    }\n    /**\n     * Destroy the component if view gets destroyed. Note, that when view is\n     * destroyed, component disconnect is triggered, which will destroy the\n     * component in 1s but that can be too late, because in the meanwhile,\n     * a watcher on the widget/viewModel instance may get triggered, and throw\n     * an error if it's not able to access this.view.map or etc\n     * (happens in VersionManagementViewModel for example).\n     * We can't check for this in disconnectedCallback though as, if the entire\n     * component tree is removed, the disconnect for the component will be\n     * triggered before that of arcgis-map, so the view might not be destroyed\n     * yet at that point.\n     */\n    _watchViewDestroy() {\n        this._watchViewDestroyHandle?.remove();\n        this._watchViewDestroyHandle = this.reactiveUtils.when(() => this.component.el.view?.destroyed === true, () => void this.component.destroy().catch(console.error), { sync: true });\n    }\n}\nconst proxy = proxyExports(ViewModelController);\n\nconst useT9n = makeT9nController(getAssetPath);\n\nexport { makeViewModelController as m, useT9n as u };\n"],"names":["useVersionManagementViewModel","makeViewModelController","newWidgetsVersionManagementVersionManagementViewModel","ArcgisVersionManagement","constructor","hostRef","registerInstance","this","arcgisReady","createEvent","arcgisVersioningStateChanged","manager","useControllerManager","reactiveUtils","load","importCoreReactiveUtils","viewModel","messages","readonly","useT9n","blocking","allowEditingDisabled","autoDestroyDisabled","closable","icon","undefined","label","mode","pageSize","position","referenceElement","state","versioningStates","view","componentWillLoad","watch","onLifecycle","flowElement","versionProperties","getElementsByTagName","versionList","_removeVersionPropertiesFlowItem","_removeVersionListFlowItem","versionListElementProps","executionError","versionPropertiesElementProps","destroy","render","loadError","arrayServiceNames","Array","from","serviceNameLookup","_ref","url","name","serviceItems","h","Fragment","map","service","_viewModel$serverVers","_viewModel$versioning","_viewModel$versioning2","serviceItemElementProps","allowEditing","currentUser","userLookup","get","currentVersionIdentifier","versioningStateLookup","currentVersionInfo","versionIdentifier","hasAdvEditingUte","advancedEditingUserTypeExtensionLookup","heading","isVersioningApiAvailable","serverVersionLookup","serviceName","serviceUrl","strings","versionInfos","onArcgisGetVersions","async","_refreshVersionList","event","detail","onArcgisFlowItemBack","onArcgisFlowItemClose","_handleFlowItemClose","onArcgisManageVersion","_handleManageVersionAction","onArcgisNewVersion","versionPropertiesFlow","_createVersionPropertiesFlowItem","appendChild","notice","class","kind","open","scale","slot","width","_getLoadError","ref","node","onCalciteFlowItemClose","loading","versionInfo","document","createElement","addEventListener","createVersionParameters","switchToVersion","createVersion","then","createVersionResult","emit","type","versioningState","changeVersion","guid","changeVersionResult","finally","alterVersionParameters","alterVersion","alterVersionResult","preventDefault","loadErrors","noFeatureServices","noViewProperty","versionManagementComponent","querySelector","parentElement","removeChild","e","actionType","deleteVersion","deleteVersionResult","getVersionInfos","serviceItemElements","serviceItemElement","versionListElement","childNode","childNodes","nodeName","toUpperCase","hidden","assetsDirs","el","getElement","style","loader","makeController","makeT9nController","getAssetPath","arguments","length","component","controller","startLocaleObserver","_t9nStrings$component","t9nLocale","t9nStrings","lang","exports","_lang","_t9nLocale","componentLabel","widgetLabel","_component$label","ready","locale","getElementLocales","usePropertyChange","_component","propertyChangeController","eventName","_len","toWatch","_key","eventedComponent","isLit","payload","CustomEvent","cancelable","dispatchEvent","eventEmitter","onLoad","loadViewModel","_options","options","proxy","ViewModelController","AccessorController","hostConnected","didLoadCalled","attachToParent","hostLoad","super","destroyed","_watchMetaProperties","accessorSupport","reEmitAccessorEvents","_instance","hostLoaded","_el$shadowRoot$firstE","_el$shadowRoot","shadowRoot","firstElementChild","childElem","arcgisReadyEmitted","currentView","Object","defineProperty","set","_watchViewDestroy","requestUpdate","configurable","enumerable","isConnected","hostDisconnected","_this$component$el$vi","ui","remove","hostDestroy","_this$_watchViewDestr","_watchViewDestroyHandle","_this$_watchViewDestr2","when","_this$component$el$vi2","catch","console","error","sync","proxyExports"],"sourceRoot":""}