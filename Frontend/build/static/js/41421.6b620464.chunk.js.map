{"version":3,"file":"static/js/41421.6b620464.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/AreaMeasurement2D/AreaMeasurement2DTool.js","../node_modules/@arcgis/core/widgets/AreaMeasurement2D/AreaMeasurement2DViewModel.js","../node_modules/@arcgis/core/widgets/AreaMeasurement2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../Graphic.js\";import\"../../intl.js\";import\"../../symbols.js\";import{multiplyOpacity as r,getContrast as s,BrightnessThreshold as i}from\"../../core/colorUtils.js\";import{destroyMaybe as a}from\"../../core/maybe.js\";import{watch as n,initial as o}from\"../../core/reactiveUtils.js\";import{formatDecimal as m,formatImperialArea as l,formatMetricArea as p,formatImperialLength as c,formatMetricLength as u}from\"../../core/unitFormatUtils.js\";import{convertUnit as h}from\"../../core/unitUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as v}from\"../../core/support/UpdatingHandles.js\";import{geodesicDensify as y,planarLength as f,simplify as _,geodesicLength as w,geodesicArea as b,planarArea as L}from\"../../geometry/geometryEngine.js\";import{isLoaded as j,project as S}from\"../../geometry/projection.js\";import{isSupported as G,geodesicDensify as M,geodesicLengths as A,geodesicAreas as x}from\"../../geometry/support/geodesicUtils.js\";import k from\"../../layers/GraphicsLayer.js\";import{ViewingMode as q}from\"../../views/ViewingMode.js\";import{SnappingVisualizer2D as C}from\"../../views/2d/interactive/SnappingVisualizer2D.js\";import R from\"../../views/draw/Draw.js\";import{createCoordinateHelper as T}from\"../../views/interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as D,screenToMap as H,dragManipulatedObject as U}from\"../../views/interactive/dragEventPipeline.js\";import{GraphicManipulator as O}from\"../../views/interactive/GraphicManipulator.js\";import{InteractiveToolBase as W}from\"../../views/interactive/InteractiveToolBase.js\";import{EditGeometry as z}from\"../../views/interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as E}from\"../../views/interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as P}from\"../../views/interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as V}from\"../../views/interactive/snapping/SnappingDragPipelineStep.js\";import{acquire as F}from\"../../views/interactive/snapping/SnappingManagerPool.js\";import{setupSnappingToggleHandles as I}from\"../../views/interactive/snapping/snappingUtils.js\";import{fetchMessageBundle as B}from\"../../intl/messages.js\";import{onLocaleChange as N}from\"../../intl/locale.js\";import J from\"../../geometry/Point.js\";import K from\"../../symbols/SimpleFillSymbol.js\";import Q from\"../../symbols/SimpleLineSymbol.js\";import X from\"../../symbols/TextSymbol.js\";import Y from\"../../symbols/Font.js\";import Z from\"../../symbols/SimpleMarkerSymbol.js\";import $ from\"../../geometry/Polyline.js\";import ee from\"../../geometry/SpatialReference.js\";import te from\"../../geometry/Polygon.js\";const re=1e5;let se=class extends W{constructor(e){super(e),this._drawActive=!1,this._measurementLayer=new k({internal:!0,listMode:\"hide\",visible:!1}),this._manipulatorLayer=new k({internal:!0,listMode:\"hide\",visible:!1}),this._snappingLayer=new k({internal:!0,listMode:\"hide\",visible:!1}),this._updatingHandles=new v,this._vertices=[],this.geodesicDistanceThreshold=null,this.measurement=null,this.measurementLabel=null}initialize(){B(\"esri/core/t9n/Units\").then((e=>{this.messages=e}));const e=this.view;this._draw=new R({view:e}),e.map.addMany([this._measurementLayer,this._manipulatorLayer,this._snappingLayer]),e.focus(),this._snappingManagerResult=F(e),this.addHandles([N((async()=>{this.messages=await B(\"esri/core/t9n/Units\")})),n((()=>[this.unit,this.geodesicDistanceThreshold,this.messages]),(()=>{this._updateGraphics()}),o),n((()=>[this.view.effectiveTheme.accentColor,this.view.effectiveTheme.textColor]),(()=>{if(!this._vertices.length)return;const e=this._vertices.map((({coord:e})=>e));for(const{handle:t}of this._vertices)t.remove();this._vertices=[],this._measurementLayer.removeAll(),this._manipulatorLayer.removeAll(),this._snappingLayer.removeAll(),this.manipulators.removeAll(),this._updateSketch(e)})),n((()=>this.snappingOptions.featureSources),(e=>{for(const t of e)t.layer!==this._measurementLayer&&t.layer!==this._manipulatorLayer||(t.enabled=!1)}),o),this._snappingManagerResult]),I(this)}destroy(){const{map:e}=this.view;this._draw.view=null,this._draw=a(this._draw),e.removeMany([this._measurementLayer,this._manipulatorLayer,this._snappingLayer]),this._measurementLayer.removeAll(),this._manipulatorLayer.removeAll(),this._snappingLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null),this._measurementLayer=a(this._measurementLayer),this._manipulatorLayer=a(this._manipulatorLayer),this._snappingLayer=a(this._snappingLayer),this._updatingHandles=a(this._updatingHandles),this._resetVertices()}get _snappingManager(){return this._snappingManagerResult.snappingManager}get cursor(){return this._drawActive?\"crosshair\":null}set editable(e){this._set(\"editable\",e),e||this._draw.reset()}get snappingOptions(){return this._snappingManager.options}get updating(){return this._updatingHandles.updating||this._snappingManager.updating}onActivate(){this._drawActive||0!==this._vertices.length||this._startSketch()}onShow(){this._measurementLayer.visible=!0,this._manipulatorLayer.visible=!0,this._snappingLayer.visible=!0}onHide(){this._measurementLayer.visible=!1,this._manipulatorLayer.visible=!1,this._snappingLayer.visible=!1}reset(){this.manipulators.removeAll(),this._resetVertices(),this._measurementLayer.removeAll(),this._manipulatorLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null),this._draw.reset(),this._drawActive=!1}_getSnappingContext(e){return new P({elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:e,editGeometryOperations:new E(new z(\"point\",T(!1,!1,this.view.spatialReference)),q.Local),visualizer:new C(this._snappingLayer)})}_resetVertices(){for(const{handle:e}of this._vertices)e.remove();this._vertices=[]}_startSketch(){this._drawActive=!0;const e=this._snappingManager,t=this._draw.create(\"polyline\",{mode:\"click\",snappingManager:e});t.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\",\"cursor-update\",\"undo\",\"redo\"],(e=>this._updateSketch(e.vertices))),t.on(\"draw-complete\",(()=>this._stopSketch()))}_stopSketch(){if(this._vertices.length<3)return this.reset(),void this._startSketch();this.manipulators.forEach((({manipulator:e})=>{e.interactive=!0})),this._drawActive=!1,this.finishToolCreation()}_updateSketch(e){const t=this.view.spatialReference;if(t&&(!oe(t)||j())){for(;this._vertices.length>e.length;){const{handle:e,manipulator:t}=this._vertices.pop();e.remove(),this.manipulators.remove(t)}for(let r=this._vertices.length;r<e.length;r++){const[s,i]=e[r],a=new J({x:s,y:i,spatialReference:t}),n=ie(a,this.view,this._manipulatorLayer);this.manipulators.add(n);const o=E.fromGeometry(a,q.Local);o.on(\"vertex-update\",(e=>{const t=e.vertices.at(0);t&&(this._vertices[r].coord=[t.pos[0],t.pos[1]],this._updateGraphics())}));const m=D(n,((e,t,r,s)=>{const i=this._getSnappingContext(s),a=this._snappingManager,n=this._updatingHandles,{snappingStep:m}=V({snappingContext:i,snappingManager:a,updatingHandles:n});t.next(H(this.view)).next((t=>{if(\"start\"===t.action){const r=new J(t.mapStart);e.graphic.geometry=r,o.trySetGeometry(r)}return t})).next(...m).next(U({operations:o})).next((()=>{e.graphic.geometry=o.data.geometry}))}));this._vertices.push({manipulator:n,coord:[s,i],handle:m})}if(this._vertices.length){const r=this._vertices.length-1,s=this._vertices[r],[i,a]=e[r];s.coord[0]===i&&s.coord[1]===a||(s.coord=[i,a],s.manipulator.graphic.geometry=new J({x:i,y:a,spatialReference:t}));const n=this._drawActive?this._vertices[r].manipulator:null;this.manipulators.forEach((({manipulator:e})=>{e.interactive=null==n||e!==n}))}this._updateGraphics()}}_updateGraphics(){if(this._vertices.length<2)return void this._measurementLayer.removeAll();const e=ae(this._vertices.map((({coord:e})=>e)),this.view.spatialReference,this.geodesicDistanceThreshold);if(!e)return;const{measurement:a,fillGeometry:n,outlineGeometry:o}=e;this._set(\"measurement\",a);const m=a?me(this.messages,a,this.unit):null;if(this._set(\"measurementLabel\",m),!n&&!o)return;let l,p,c;const{graphics:u}=this._measurementLayer,h=3===u.length,{effectiveTheme:d}=this.view;h?(l=u.at(0),p=u.at(1),c=u.at(2)):(l=new t({symbol:new K({color:r(d.accentColor,.3),outline:null})}),p=new t({symbol:new Q({color:d.accentColor,width:2})}),c=new t({symbol:new X({color:d.textColor,font:new Y({size:14,family:\"sans-serif\"}),haloColor:r(s(d.textColor,i.Low),.5),haloSize:2})}),u.removeAll(),u.addMany([l,p,c])),l.geometry=n,p.geometry=o,c.geometry=n?.centroid,c.symbol.text=m?.area??\"\"}};function ie(e,s,i){const a=8,n={style:\"circle\",color:r(s.effectiveTheme.accentColor,.5),outline:{type:\"simple-line\",width:0}},o=new Z({...n,size:a}),m=new Z({...n,size:1.5*a}),l=new t({geometry:e,symbol:o});return new O({view:s,layer:i,graphic:l,focusedSymbol:m})}function ae(e,t,r){if(2===e.length){const s=new $({paths:e,spatialReference:t});let i;if(t?.isGeographic)if(G(t))i=M(s,re);else{const e=S(s,ee.WGS84),r=M(e,re);i=S(r,t)}else if(t?.isWebMercator)i=y(s,re,\"meters\");else{if(f(s,\"meters\")>=pe(r)){const e=S(s,ee.WGS84),r=M(e,re);i=S(r,t)}else i=s}return{measurement:null,fillGeometry:null,outlineGeometry:i}}e.push(e[0]);const s=new $({paths:[e],spatialReference:t}),i=new te({rings:[e],spatialReference:t});let a,n,o=null,m=null;if(t?.isGeographic)if(G(t)){if(o=M(s,re),m=M(i,re),m=_(m),!m)return null;a=A([s],\"meters\")[0],n=x([m],\"square-meters\")[0]}else{const e=ee.WGS84,r=S(s,e),l=S(i,e);if(o=M(r,re),m=M(l,re),m=_(m),!m)return null;a=A([r],\"meters\")[0],n=x([m],\"square-meters\")[0],o=S(o,t),m=S(m,t)}else if(t?.isWebMercator){if(o=y(s,re,\"meters\"),m=y(i,re,\"meters\"),m=_(m),!m)return null;a=w(s,\"meters\"),n=b(m,\"square-meters\")}else{const e=f(s,\"meters\");if(e>=pe(r)){const e=ee.WGS84,r=S(s,e),l=S(i,e);if(o=M(r,re),m=M(l,re),m=_(m),!m)return null;a=A([r],\"meters\")[0],n=x([m],\"square-meters\")[0],o=S(o,t),m=S(m,t)}else{if(o=s,m=_(i),!m)return null;a=e,n=L(m,\"square-meters\")}}return{measurement:{geometry:m,area:n,perimeter:a},fillGeometry:m,outlineGeometry:o}}function ne(e){return null!=e}function oe(e){if(!e)return!1;const{isGeographic:t,isWebMercator:r,isWGS84:s}=e;return t&&!s&&!G(e)||!t&&!r}function me(e,t,r){if(!t||!e)return null;const s={area:null,perimeter:null},{area:i,perimeter:a}=t;switch(r){case\"metric\":s.area=p(e,i,\"square-meters\");break;case\"imperial\":s.area=l(e,i,\"square-meters\");break;default:{const t=h(i,\"square-meters\",r);s.area=m(e,t,r);break}}const n=le(r);if(n)switch(n){case\"metric\":s.perimeter=u(e,a,\"meters\");break;case\"imperial\":s.perimeter=c(e,a,\"meters\");break;default:{const t=h(a,\"meters\",n);s.perimeter=m(e,t,n);break}}else s.perimeter=\"\";return s}function le(e){switch(e){case\"metric\":case\"ares\":case\"hectares\":return\"metric\";case\"imperial\":case\"acres\":return\"imperial\";case\"square-inches\":return\"inches\";case\"square-feet\":return\"feet\";case\"square-yards\":return\"yards\";case\"square-miles\":return\"miles\";case\"square-us-feet\":return\"us-feet\";case\"square-meters\":return\"meters\";case\"square-kilometers\":return\"kilometers\";case\"square-millimeters\":return\"millimeters\";case\"square-centimeters\":return\"centimeters\";case\"square-decimeters\":return\"decimeters\";default:return null}}function pe(e){return e??1/0}e([d()],se.prototype,\"_drawActive\",void 0),e([d({readOnly:!0})],se.prototype,\"cursor\",null),e([d({value:!0})],se.prototype,\"editable\",null),e([d({type:Number})],se.prototype,\"geodesicDistanceThreshold\",void 0),e([d({readOnly:!0})],se.prototype,\"measurement\",void 0),e([d({readOnly:!0})],se.prototype,\"measurementLabel\",void 0),e([d()],se.prototype,\"messages\",void 0),e([d()],se.prototype,\"unit\",void 0),e([d()],se.prototype,\"updating\",null),e([d({constructOnly:!0})],se.prototype,\"view\",void 0),se=e([g(\"esri.widgets.AreaMeasurement2D.AreaMeasurement2DTool\")],se);export{se as AreaMeasurement2DTool,ae as createAreaMeasurementInfo2D,me as createAreaMeasurementLabel,oe as isProjectionEngineRequired,ne as isSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../../core/deprecate.js\";import s from\"../../core/Logger.js\";import{watch as i,initial as o,whenOnce as r}from\"../../core/reactiveUtils.js\";import{measurementAreaUnits as n}from\"../../core/unitUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{load as u}from\"../../geometry/projection.js\";import{defaultUnitPropertyMetadata as c}from\"../../properties/defaultUnit.js\";import{isSupported as d,isProjectionEngineRequired as h,AreaMeasurement2DTool as p}from\"./AreaMeasurement2DTool.js\";import{InteractiveToolViewModel as m}from\"../support/InteractiveToolViewModel.js\";let g=class extends m{constructor(e){super(e),this.supportedViewType=\"2d\",this.unsupportedErrorMessage=\"AreaMeasurement2DViewModel is only supported in 2D views.\"}initialize(){this.addHandles([i((()=>this.view?.spatialReference),(()=>this.clear())),i((()=>this.unit),(e=>{null!=this.tool&&(this.tool.unit=e)}),o),i((()=>this.geodesicDistanceThreshold),(e=>{null!=this.tool&&(this.tool.geodesicDistanceThreshold=e)}),o)])}get geodesicDistanceThreshold(){return this._get(\"geodesicDistanceThreshold\")}set geodesicDistanceThreshold(e){t(s.getLogger(this),\"geodesicDistanceThreshold\",{version:\"4.29\",warnOnce:!0}),this._set(\"geodesicDistanceThreshold\",e)}get measurement(){return null!=this.tool?this.tool.measurement:null}get measurementLabel(){return null!=this.tool?this.tool.measurementLabel:null}get state(){return this.disabled||null==this.view||!d(this.view.spatialReference)?\"disabled\":this.tool?.measurement?this.tool.active?\"measuring\":\"measured\":\"ready\"}get unit(){return this._validateUnit(this.defaultUnit)}set unit(e){this._overrideIfSome(\"unit\",this._validateUnit(e))}get unitOptions(){return n}set unitOptions(e){this._overrideIfSome(\"unitOptions\",this._validateUnits(e))}async start(){const e=this.view;null!=e&&(await r((()=>e.ready)),h(e.spatialReference)&&await u()),this.createTool({interactive:!0})}clear(){this.removeTool()}constructTool(){return new p({view:this.view,visible:this.visible,geodesicDistanceThreshold:this.geodesicDistanceThreshold,unit:this.unit})}_validateUnit(e){const{unitOptions:t,defaultUnit:s}=this;return null!=e&&t.includes(e)?e:t.includes(s)?s:t.length>0?t[0]:s}_validateUnits(e){if(null==e)return[];const t=e.filter((e=>n.includes(e)));return 0===t.length?n.slice():t}};e([l(c)],g.prototype,\"defaultUnit\",void 0),e([l()],g.prototype,\"geodesicDistanceThreshold\",null),e([l({readOnly:!0})],g.prototype,\"measurement\",null),e([l({readOnly:!0})],g.prototype,\"measurementLabel\",null),e([l({readOnly:!0})],g.prototype,\"state\",null),e([l({type:String})],g.prototype,\"unit\",null),e([l({type:[String]})],g.prototype,\"unitOptions\",null),g=e([a(\"esri.widgets.AreaMeasurement2D.AreaMeasurement2DViewModel\")],g);const f=g;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./Widget.js\";import r from\"./AreaMeasurement2D/AreaMeasurement2DViewModel.js\";import{globalCss as n}from\"./support/globalCss.js\";import{MeasurementWidgetContent as a}from\"./support/MeasurementWidgetContent.js\";import\"./support/widgetUtils.js\";import{messageBundle as l}from\"./support/decorators/messageBundle.js\";import{tsx as p}from\"./support/jsxFactory.js\";const u=\"esri-area-measurement-2d\",m={base:u,newMeasurementButton:`${u}__clear-button`};let d=class extends i{constructor(e,t){super(e,t),this.messages=null,this.messagesUnits=null,this.messagesCommon=null,this.viewModel=new r}get active(){return this.viewModel.active}get icon(){return\"measure-area\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get unit(){return this.viewModel.unit}set unit(e){this.viewModel.unit=e}get unitOptions(){return this.viewModel.unitOptions}set unitOptions(e){this.viewModel.unitOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}render(){const{messages:e,messagesCommon:s,messagesUnits:o,unit:i,unitOptions:r,viewModel:l,visible:u}=this,{active:d,measurementLabel:c,state:v,supported:g}=l;return p(\"div\",{\"aria-label\":e.widgetLabel,class:this.classes(m.base,n.widget,n.panel),key:this,role:\"presentation\"},u?p(a,{active:d,measurementItems:[{key:\"area\",title:o?.measures.area,value:c?.area},{key:\"perimeter\",title:e.perimeter,value:c?.perimeter}],messages:{...e,notApplicable:s.notApplicable},newMeasurementButtonClass:m.newMeasurementButton,state:v,supported:g,unit:i,unitOptions:r,onNewMeasurementClick:()=>{t(l.start())},onUnitChange:e=>{this.unit=e}}):null)}};e([s({readOnly:!0})],d.prototype,\"active\",null),e([s()],d.prototype,\"icon\",null),e([s()],d.prototype,\"label\",null),e([s(),l(\"esri/widgets/AreaMeasurement2D/t9n/AreaMeasurement2D\")],d.prototype,\"messages\",void 0),e([s(),l(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([s(),l(\"esri/t9n/common\")],d.prototype,\"messagesCommon\",void 0),e([s()],d.prototype,\"uiStrings\",void 0),e([s()],d.prototype,\"unit\",null),e([s()],d.prototype,\"unitOptions\",null),e([s()],d.prototype,\"view\",null),e([s({type:r})],d.prototype,\"viewModel\",void 0),e([s({type:Boolean})],d.prototype,\"visible\",null),d=e([o(\"esri.widgets.AreaMeasurement2D\")],d);const c=d;export{c as default};\n"],"names":["re","se","W","constructor","e","super","this","_drawActive","_measurementLayer","k","internal","listMode","visible","_manipulatorLayer","_snappingLayer","_updatingHandles","v","_vertices","geodesicDistanceThreshold","measurement","measurementLabel","initialize","B","then","messages","view","_draw","R","map","addMany","focus","_snappingManagerResult","F","addHandles","N","async","n","unit","_updateGraphics","o","effectiveTheme","accentColor","textColor","length","_ref","coord","handle","t","remove","removeAll","manipulators","_updateSketch","snappingOptions","featureSources","layer","enabled","I","destroy","a","removeMany","_set","_resetVertices","_snappingManager","snappingManager","cursor","editable","reset","options","updating","onActivate","_startSketch","onShow","onHide","_getSnappingContext","P","elevationInfo","mode","offset","pointer","editGeometryOperations","E","z","T","spatialReference","q","Local","visualizer","C","create","on","vertices","_stopSketch","forEach","_ref2","manipulator","interactive","finishToolCreation","oe","j","pop","r","s","i","J","x","y","ie","add","fromGeometry","at","pos","m","D","snappingStep","V","snappingContext","updatingHandles","next","H","action","mapStart","graphic","geometry","trySetGeometry","U","operations","data","push","_ref3","_m$area","$","paths","isGeographic","G","M","S","ee","WGS84","isWebMercator","f","pe","fillGeometry","outlineGeometry","te","rings","_","A","l","w","b","L","area","perimeter","ae","_ref4","p","h","le","u","c","me","graphics","d","symbol","K","color","outline","Q","width","X","font","Y","size","family","haloColor","Low","haloSize","centroid","text","style","type","Z","O","focusedSymbol","isWGS84","prototype","readOnly","value","Number","constructOnly","g","supportedViewType","unsupportedErrorMessage","_this$view","clear","tool","_get","getLogger","version","warnOnce","state","_this$tool","disabled","active","_validateUnit","defaultUnit","_overrideIfSome","unitOptions","_validateUnits","start","ready","createTool","removeTool","constructTool","includes","filter","slice","String","base","newMeasurementButton","concat","messagesUnits","messagesCommon","viewModel","icon","label","_this$messages$widget","_this$messages","widgetLabel","render","supported","class","classes","widget","panel","key","role","measurementItems","title","measures","notApplicable","newMeasurementButtonClass","onNewMeasurementClick","onUnitChange","Boolean"],"sourceRoot":""}