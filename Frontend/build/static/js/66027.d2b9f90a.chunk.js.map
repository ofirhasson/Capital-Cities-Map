{"version":3,"file":"static/js/66027.d2b9f90a.chunk.js","mappings":"yLAIA,MAAMA,EAAE,CAAC,CAAC,SAAS,2BAA2B,MAAM,KAAK,SAASC,EAAED,EAAEC,GAAE,IAAAC,EAAC,OAAO,MAAMC,EAAEF,EAAEG,KAAwB,QAApBF,EAAE,OAADF,QAAC,IAADA,OAAC,EAADA,EAAGK,wBAAgB,IAAAH,EAAAA,EAAE,GAAG,CAAC,SAASI,EAAEN,EAAEC,GAAE,IAAAM,EAAC,IAAIP,EAAE,OAAM,EAAG,MAAMM,EAAEE,EAAEP,EAAoB,QAAnBM,EAACP,EAAEK,wBAAgB,IAAAE,EAAAA,EAAE,IAAI,OAAO,MAAMD,GAAGN,EAAES,YAAYC,SAASJ,EAAE,CAAC,SAASK,EAAEX,GAAE,IAAAY,EAAC,OAAOC,EAAqB,QAApBD,EAAE,OAADZ,QAAC,IAADA,OAAC,EAADA,EAAGK,wBAAgB,IAAAO,EAAAA,EAAE,IAAIE,QAAQC,GAAGC,KAAKhB,GAAC,IAAAiB,OAAMjB,IAAK,CAAqN,SAASkB,EAAElB,EAAEC,GAAG,OAAOkB,EAA4M,SAAWnB,EAAEC,GAAG,MAAMK,EAAEN,EAAEoB,cAAc,OAAOP,EAAEZ,GAAGoB,MAAMrB,GAAGsB,EAAEtB,KAAKM,GAAG,CAAjRiB,CAAEvB,EAAEC,GAAG,CAAC,SAASuB,EAAExB,EAAEC,GAAG,OAAOkB,EAAEhB,EAAEH,EAAEC,GAAG,CAAC,SAASwB,EAAEzB,EAAEC,GAAG,OAAOqB,EAA0F,SAAWtB,EAAEC,GAAG,OAAOY,EAAEZ,GAAGoB,MAAMpB,GAAGkB,EAAElB,KAAKD,GAAG,CAAvI0B,CAAE1B,EAAEC,GAAG,CAAC,SAASO,EAAER,EAAEC,GAAE,IAAA0B,EAAC,OAAkB,QAAlBA,EAAOH,EAAExB,EAAEI,KAAKH,UAAE,IAAA0B,EAAAA,EAAET,EAAElB,EAAE4B,KAAK3B,EAAE,CAAC,SAASY,EAAEZ,GAAG,MAAM,IAAID,KAAKC,EAAE,CAAyH,SAASE,EAAEH,EAAEC,GAAG,MAAMK,EAAEN,EAAEoB,cAAc,OAAOP,EAAEZ,GAAGoB,MAAMrB,GAAGe,EAAEf,GAAG6B,MAAM7B,GAAGM,EAAEwB,SAAS9B,MAAM,CAAC,SAASmB,EAAEnB,GAAG,OAAQ,OAADA,QAAC,IAADA,OAAC,EAADA,EAAI,EAAE,CAAC,SAASsB,EAAEtB,GAAG,OAAQ,OAADA,QAAC,IAADA,OAAC,EAADA,EAAI,GAAGoB,aAAa,CAAC,SAASL,EAAEf,GAAE,IAAA+B,EAAC,OAAkD,QAAlDA,EAAQ,OAAD/B,QAAC,IAADA,OAAC,EAADA,EAAI,GAAGgC,MAAM,KAAKhB,KAAKhB,GAAGA,EAAEoB,uBAAe,IAAAW,EAAAA,EAAE,EAAE,CAA6B,SAASE,EAAEjC,GAAE,IAAAkC,EAAC,OAAe,QAAfA,EAAOlC,EAAEmC,cAAM,IAAAD,OAAA,EAARA,EAAUb,MAAMrB,GAAG,cAAcA,EAAEoC,MAAM,C,qECA9iCC,eAAerC,EAAEA,EAAEC,EAAEwB,GAAE,IAAAa,EAAsC,KAA5B,OAADC,EAAAA,SAAC,IAADA,EAAAA,QAAC,EAADA,EAAAA,GAAGC,eAAexC,EAAEyC,UAAe,OAAO,KAAK,GAAG,WAAWzC,EAAE0C,YAAY,KAAKzC,GAAS,QAARqC,EAAEtC,EAAE2C,YAAI,IAAAL,GAANA,EAAQM,aAAY,IAAKnB,EAAE,OAAOzB,EAAE2C,KAAKC,WAAW,MAAMjC,EAAE,CAACkC,aAAa,OAAOC,MAAM,CAACpB,EAAE,SAAS,GAAGD,IAAId,EAAEmC,MAAMC,iCAAgC,GAAI,KAAK9C,EAAE,CAAC,MAAMsC,QAAQjC,EAAAA,EAAAA,GAAEN,EAAEyC,QAAQ,kBAAkB9B,GAAG,GAAG4B,EAAES,KAAK,CAAC,MAAM1C,EAAEiC,EAAES,KAAK,GAAI,OAAD1C,QAAC,IAADA,GAAAA,EAAG2C,SAAS,OAAO3C,CAAC,CAAC,OAAO,IAAI,CAAC,MAAMkB,QAAQlB,EAAAA,EAAAA,GAAEN,EAAEyC,QAAQ,oBAAoBxC,EAAEU,GAAG,GAAGa,EAAEwB,KAAK,CAAC,MAAMT,EAAEf,EAAEwB,KAAK,OAAOT,EAAEW,MAAM,KAAKX,CAAC,CAAC,OAAO,IAAI,CAACF,eAAepC,EAAEsC,EAAEjC,EAAEL,GAAE,IAAAkD,EAAAC,EAAC,MAAM3B,QAAQzB,EAAEuC,EAAEjC,GAAE,GAAI,OAAgD,QAAhD6C,EAAQ,OAAD1B,QAAC,IAADA,GAA4B,QAA3B2B,EAAD3B,EAAG4B,iCAAyB,IAAAD,OAAA,EAA5BA,EAA8B1C,SAAST,UAAE,IAAAkD,GAAAA,CAAI,C,wcCA2zC,SAASG,EAAEf,EAAEtC,GAAG,MAAMwB,EAAExB,EAAEsD,GAAG,MAAM,CAACA,GAAG9B,EAAErB,KAAKH,EAAEG,KAAKoD,IAAG,GAAAvC,OAAIsB,EAAC,KAAAtB,OAAIQ,GAAIG,KAAK3B,EAAE2B,MAAM,QAAQ,CAAkG,SAAS6B,EAAElB,GAAG,MAAM,CAACmB,iBAAgBC,EAAAA,EAAAA,IAAEpB,EAAE,oBAAmB,GAAI,CAAC,SAASqB,EAAErB,EAAEtC,GAAG,MAAMwB,EAAEc,EAAEA,EAAEnB,cAAcY,MAAM,KAAKhB,KAAKuB,GAAGA,EAAEsB,SAAS,GAAGvD,EAAEmB,EAAEf,SAAS,SAASc,EAAEC,EAAEf,SAAS,aAAaT,EAAE6D,uBAAuB,IAAIjD,EAAEW,GAAGC,EAAEf,SAAS,UAAUC,EAAEa,GAAGC,EAAEf,SAAS,UAAUV,EAAEwB,GAAGC,EAAEf,SAAS,UAAU,OAAOc,KAAKX,GAAGF,GAAGX,KAAKa,EAAEF,EAAEX,GAAE,GAAI,CAAC+D,YAAYlD,EAAEmD,eAAerD,EAAEsD,gBAAgBzC,EAAE0C,uBAAuBzC,EAAEf,SAAS,kBAAkByD,cAAc7D,EAAE8D,2BAA0BT,EAAAA,EAAAA,IAAE1D,EAAE,6BAA4B,GAAIoE,sBAAqBV,EAAAA,EAAAA,IAAE1D,EAAE,wBAAuB,GAAIqE,+BAA8BX,EAAAA,EAAAA,IAAE1D,EAAE,iCAAgC,GAAIsE,aAAa9C,EAAEf,SAAS,QAAQ8D,eAAexE,EAAE,CAAC,SAASyE,EAAElC,GAAG,MAAM,CAACmC,sBAAqBC,EAAAA,EAAAA,IAAEpC,EAAE,4BAAuB,GAAQqC,gBAAeD,EAAAA,EAAAA,IAAEpC,EAAE,sBAAiB,GAAQ,CAAC,SAASsC,EAAEtC,GAAG,MAAMtC,EAAG,OAADsC,QAAC,IAADA,OAAC,EAADA,EAAGuC,4BAA4B,MAAM,CAACC,kBAAiBpB,EAAAA,EAAAA,IAAEpB,EAAE,mCAAkC,GAAIyC,oDAAmDrB,EAAAA,EAAAA,IAAE1D,EAAE,wCAAuC,GAAIgF,eAActB,EAAAA,EAAAA,IAAE1D,EAAE,iBAAgB,GAAIiF,yBAAwBvB,EAAAA,EAAAA,IAAE1D,EAAE,2BAA0B,GAAI,CAAC,SAASkF,EAAE5C,GAAG,MAAMtC,EAAG,OAADsC,QAAC,IAADA,OAAC,EAADA,EAAG6C,iBAAiB3D,EAAG,OAADxB,QAAC,IAADA,OAAC,EAADA,EAAGoF,yBAAyB,MAAM,CAACC,eAAc3B,EAAAA,EAAAA,IAAE1D,EAAE,iBAAgB,GAAIoF,yBAAyB,CAACE,cAAc,GAAG9D,GAAG+D,aAAa,GAAG/D,GAAGgE,mBAAmB,GAAGhE,GAAGiE,iBAAiB,GAAGjE,GAAGkE,uBAAuB,IAAIlE,GAAGmE,sBAAsB,IAAInE,GAAGoE,mBAAmB,IAAIpE,GAAGqE,8BAA8B,KAAKrE,GAAGsE,qBAAqB,KAAKtE,IAAI,CAAC,IAAIuE,EAAE,eAAchG,EAAAA,EAAAA,KAAEW,EAAAA,EAAAA,IAAEO,EAAAA,KAAK+E,WAAAA,CAAY1D,GAAG2D,MAAM3D,GAAG4D,KAAK3C,IAAI,KAAK2C,KAAKvD,WAAW,KAAKuD,KAAKC,8BAA6B,EAAGD,KAAKE,6BAA4B,EAAGF,KAAKG,mBAAmB,GAAGH,KAAKI,WAAW,KAAKJ,KAAKK,WAAW,KAAKL,KAAKM,aAAa,IAAI,CAACC,IAAAA,CAAKnE,EAAEtC,GAAGkG,KAAKvD,WAAWL,EAAE2D,MAAMQ,KAAKnE,EAAEtC,EAAE,CAAC,qBAAI0G,GAAoB,GAAGR,KAAKvD,WAAW,IAAI,MAAML,KAAK4D,KAAKvD,WAAWgE,OAAO,GAAG,0BAA0BrE,EAAEX,KAAK,SAAAX,OAASkF,KAAK3C,IAAG,KAAAvC,OAAIsB,EAAEgB,IAAK,OAAO,IAAI,CAAC,+BAAIsD,GAA6B,IAAAC,EAAC,OAAsB,QAAfA,EAAAX,KAAKvD,kBAAU,IAAAkE,GAAfA,EAAiBC,uBAAuBZ,KAAK3C,IAAIwD,QAAQ,mBAAmB,4BAA4B,IAAI,CAACC,cAAAA,CAAe1E,EAAEtC,GAAG,OAAOA,EAAE2G,QAAQ,IAAI5F,KAAKuB,IAAI,MAAMX,KAAK3B,EAAEiH,aAAazF,GAAGc,EAAE,MAAM,IAAIe,EAAE6C,KAAK3C,IAAIjB,GAAGX,KAAK3B,GAAG,gBAAgBiH,aAAazF,EAAE,GAAG,CAAC0F,cAAAA,CAAe5E,EAAEtC,GAAG,OAAOA,EAAEkC,QAAQ,IAAInB,KAAKuB,GAAGe,EAAE6C,KAAK3C,IAAIjB,IAAI,CAAC6E,gBAAAA,CAAiB7E,EAAEtC,GAAG,OAAp4E,SAAWsC,GAAG,MAAM,CAACS,KAAKS,EAAElB,GAAG8E,KAAKlC,EAAE5C,GAAG+E,WAAW1D,EAAErB,EAAEkE,aAAalE,GAAGO,MAAM2B,EAAElC,GAAGgF,QAAQ1C,EAAEtC,GAAG,CAA2yEiF,CAAEvH,EAAE,CAAC,yBAAIwH,GAAwB,MAAMlF,EAAE4D,KAAKM,aAAa,IAAIlE,EAAE,OAAO,KAAK,MAAMtC,GAAEqB,EAAAA,EAAAA,IAAEiB,IAAI+E,WAAW7F,GAAGxB,EAAE,OAAOkG,KAAKE,6BAA6B5E,EAAEsC,YAAYtC,EAAEuC,eAAevC,EAAEwC,gBAAgBxC,EAAE0C,cAAc1C,EAAE+C,gBAAe,EAAGvE,IAAIkG,KAAKC,8BAA8B3E,EAAEwC,kBAAkBxC,EAAEsC,YAAYtC,EAAEuC,eAAevC,EAAE+C,gBAAe,GAAIvE,EAAE,CAACyH,IAAAA,CAAKnF,GAAG,OAAO4D,KAAKwB,oBAAoBxB,KAAKyB,cAAczB,KAAK3C,IAAIjB,GAAGsF,MAAM,IAAI1B,KAAK2B,mBAAmBvF,MAAMwF,QAAQC,QAAQ7B,KAAK,CAAC,6BAAM8B,CAAwB1F,GAAG,aAAa4D,KAAKuB,KAAKnF,GAAG4D,KAAK+B,+BAAL/B,KAAK+B,6BAA+B/B,KAAKgC,sBAAsBhC,KAAK3C,OAAKjC,EAAAA,EAAAA,IAAEgB,GAAG4D,KAAK+B,4BAA4B,CAAC,gBAAME,CAAW7F,EAAEtC,GAAG,IAAIwB,EAAE,KAAK,IAAI,MAAM4G,QAAQ/H,EAAEgI,MAAM9G,EAAE+G,eAAe1H,SAASsF,KAAKqC,oBAAoBjG,EAAEtC,GAAGU,EAAE4B,GAAGA,EAAEkG,QAAQlG,IAAIA,EAAEW,QAAQlC,IAAIM,EAAAA,IAAG,IAAItB,EAAE,EAAE,OAAOM,EAAEU,KAAKuB,IAAId,GAAEiH,EAAAA,EAAAA,IAAEvC,KAAK3C,IAAIjB,EAAEgB,GAAI,OAADtD,QAAC,IAADA,OAAC,EAADA,EAAG0I,YAAW,GAAI,MAAMrI,EAAE,CAACgI,MAAM9G,EAAExB,GAAG4I,cAAcjI,EAAE4B,EAAEsG,mBAAmBC,gBAAgBnI,EAAE4B,EAAEwG,sBAAsBC,gBAAgBrI,EAAE4B,EAAE0G,sBAAsBC,iBAAiBvI,EAAE4B,EAAE4G,sBAAsBC,mBAAmBzI,EAAE4B,EAAE8G,yBAAyBC,mBAAmB3I,EAAE4B,EAAEgH,yBAAyBC,uBAAsB,EAAGC,eAAelH,EAAEmH,WAAW,IAAIC,KAAKpH,EAAEmH,YAAY,MAAM1J,GAAG,EAAEa,EAAE+I,OAAO,IAAItJ,EAAEiI,eAAe1H,GAAGY,EAAEuG,QAAQ1H,GAAGmB,EAAE,IAAI,IAAInB,CAAC,CAAC,MAAMA,GAAG,MAAMmB,GAAGA,EAAEoI,OAAOvJ,GAAGA,CAAC,CAAC,CAAC,wBAAMwH,CAAmBvF,GAAG,GAAGtC,EAAAA,QAAE6J,sBAAsB,IAAI,MAAMC,UAAUC,SAAS/J,GAAGgK,SAASC,WAAWzI,UAAU0E,KAAKgE,qBAAqBhE,KAAKvD,WAAWwH,cAAc7H,GAAG4D,KAAKkE,KAAK,+BAA+BpK,GAAGkG,KAAKkE,KAAK,8BAA8B5I,EAAE,CAAC,MAAMA,IAAGtB,EAAAA,EAAAA,IAAEsB,EAAE,CAAC,CAAC,0BAAM0I,CAAqB5H,EAAEtC,GAAG,MAAMK,GAAE,EAAGkB,GAAE,EAAGX,GAAE,EAAG,IAAI0B,EAAE,MAAM,CAACwH,SAAS,CAACO,KAAKhK,EAAE0J,SAASxI,GAAGyI,QAAQ,CAACC,WAAWrJ,IAAI,IAAIF,EAAEX,EAAEsB,EAAE,IAAIX,QAAQ4J,EAAAA,EAAAA,IAAEpE,KAAK3C,IAAIvD,EAAE,CAAC,MAAMiB,IAAGf,EAAAA,EAAAA,IAAEe,EAAE,CAAC,IAAI,MAAMqB,EAAE,MAAMtC,EAAEA,EAAEuK,OAAO,KAAKxK,QAAS,OAADyB,EAAAA,SAAC,IAADA,EAAAA,QAAC,EAADA,EAAAA,GAAGgJ,cAAc,GAADxJ,OAAIN,EAAC,YAAW,CAAC+J,QAAO,EAAGF,OAAOjI,IAAI,CAAC,MAAMrB,IAAGf,EAAAA,EAAAA,IAAEe,EAAE,CAAC,IAAIlB,EAAE,MAAM,CAAC+J,SAAS,CAACO,KAAKhK,EAAE0J,SAASxI,GAAGyI,QAAQ,CAACC,WAAWrJ,IAAI,IAAI,GAAGS,EAAE,IAAIqJ,EAAAA,QAAE,CAACpH,GAAGhB,EAAEqI,OAAO,CAACpH,IAAI7C,WAAWW,EAAEoG,KAAKzH,GAAGqB,EAAEsJ,OAAOjI,KAAK,OAAOkI,EAAAA,EAAAA,IAAEvJ,EAAE,CAAC,MAAMJ,IAAGf,EAAAA,EAAAA,IAAEe,EAAE,CAAC,MAAM,CAAC6I,SAAS,CAACO,KAAKhK,EAAE0J,SAASxI,GAAGyI,QAAQ,CAACC,WAAWrJ,GAAG,CAAC,yBAAM2H,CAAoBjG,EAAEtC,GAAE,IAAA6K,QAAOC,EAAAA,EAAAA,IAAE5E,KAAK3C,KAAK,MAAM/B,EAAiB,QAAhBqJ,EAAE,OAAD7K,QAAC,IAADA,OAAC,EAADA,EAAG+K,oBAAY,IAAAF,GAAAA,EAAKjK,EAAEa,EAAAA,EAAEuJ,SAAS9E,KAAKvD,WAAWsI,mBAAmB5C,MAAM3H,EAAEwK,QAAQnL,SAASmG,KAAKiF,yBAAyB7I,EAAEtC,GAAGqB,QAAQyG,QAAQsD,IAAI1K,EAAEK,KAAKqB,UAAS,IAAAiJ,EAAAC,EAAAC,EAAAC,EAAC,MAAMxL,EAAyD,QAAxDqL,EAAc,QAAdC,EAAChJ,EAAEmJ,mBAAW,IAAAH,OAAA,EAAbA,EAAevK,KAAKuB,IAAGoJ,EAAAA,EAAAA,IAAE,CAACT,iBAAiBrK,GAAG0B,EAAE,eAAO,IAAA+I,EAAAA,EAAE,GAAGhL,SAASyH,QAAQsD,IAAIpL,IAAIwI,OAAOjH,EAAAA,IAAGb,EAAEL,EAAEsJ,OAAO,EAAEtJ,EAAE,KAAKN,EAA4D,QAA3DwL,EAAiB,QAAjBC,EAAClJ,EAAEqJ,sBAAc,IAAAH,OAAA,EAAhBA,EAAkBzK,KAAKuB,IAAGoJ,EAAAA,EAAAA,IAAE,CAACT,iBAAiBrK,GAAG0B,EAAE,eAAO,IAAAiJ,EAAAA,EAAE,GAAGlK,SAASyG,QAAQsD,IAAIrL,IAAIyI,OAAOjH,EAAAA,IAAGN,EAAEI,EAAEsI,OAAO,EAAEtI,EAAE,KAAKC,GAAEsK,EAAAA,EAAAA,IAAEtJ,EAAEuJ,iBAAiBvJ,EAAEwJ,eAAetK,GAAGtB,EAAEoB,EAAEqI,OAAO,EAAErI,EAAE,MAAKyK,EAAAA,EAAAA,GAAErL,EAAEO,EAAEL,GAAG,MAAML,QAAQyL,EAAAA,EAAAA,IAAE1J,EAAEuJ,iBAAiBvJ,GAAG,IAAIpB,EAAE,KAA0I,OAAlIX,IAAGW,EAAE,CAAC+K,KAAK1L,EAAE0L,KAAKtC,OAAO,EAAEpJ,EAAE0L,UAAK,EAAOC,QAAQ3L,EAAE2L,QAAQvC,OAAO,EAAEpJ,EAAE2L,aAAQ,EAAOC,QAAQ5L,EAAE4L,QAAQxC,OAAO,EAAEpJ,EAAE4L,aAAQ,IAAc,CAAC7I,GAAGhB,EAAEgB,GAAG2I,KAAKvL,EAAEwL,QAAQjL,EAAEkL,QAAQjM,EAAEkM,YAAYlL,EAAE,KAAKD,EAAE,CAACyH,WAAY,OAAD3I,QAAC,IAADA,OAAC,EAADA,EAAG2I,WAAW2D,mBAAkB,EAAGC,aAAa9K,EAAE+K,kBAAiB,EAAGC,qBAAsB,OAADzM,QAAC,IAADA,OAAC,EAADA,EAAGyM,qBAAqBC,sBAAuB,OAAD1M,QAAC,IAADA,OAAC,EAADA,EAAG0M,sBAAsBC,8BAA6B,EAAGC,yBAAyB,6BAA6BvK,OAAM,SAAUwK,EAAAA,EAAAA,IAAE1G,KAAK3C,IAAK,OAADvD,QAAC,IAADA,OAAC,EAADA,EAAG0I,YAAW,GAAI,MAAMpH,GAAEuL,EAAAA,EAAAA,IAAE3G,KAAK3C,KAAK,OAADvD,QAAC,IAADA,OAAC,EAADA,EAAG0I,aAAY,MAAMzH,EAAEoH,MAAMyE,KAAKC,UAAU1L,GAAG,MAAMnB,GAAE8M,EAAAA,EAAAA,IAAE9G,KAAK3C,KAAKhD,GAAE0M,EAAAA,EAAAA,IAAE/M,EAAE2C,MAAM,CAACA,OAAMqK,EAAAA,EAAAA,IAAE,IAAIjM,EAAEQ,EAAE,SAAS0L,OAAO,SAAS,IAAIjM,EAAEI,IAAIf,EAAE6M,SAAS,YAAY7M,EAAEsC,MAAMwK,UAAUC,EAAAA,IAAG,IAAIpM,QAAQb,EAAAA,EAAAA,GAAE6F,KAAK3C,IAAI,cAAchD,EAAE,CAAC,MAAMgN,GAAG,KAAIC,EAAAA,EAAAA,IAAED,GAAG,MAAMA,EAAEhN,EAAE6M,SAAS,YAAYlM,QAAQb,EAAAA,EAAAA,GAAE6F,KAAK3C,IAAI,cAAchD,EAAE,CAAC,MAAM,IAAIkN,EAAEvM,GAAGmH,MAAM3H,EAAE,CAAC,8BAAMyK,CAAyB7I,EAAEtC,GAAG,MAAMwB,EAAE,IAAIxB,GAAG,MAAM,CAACqI,YAAYP,QAAQsD,IAAI9I,EAAEvB,KAAKqB,UAAU,MAAMZ,EAAE0E,KAAKsB,sBAAsBnH,EAAEiC,IAAIA,EAAEmJ,aAAanJ,EAAEqJ,gBAAgBrJ,EAAEwJ,gBAAgBvK,EAAEe,IAAIA,EAAEoL,gBAAgBpL,EAAEqL,mBAAmBrL,EAAEsL,mBAAmB,IAAGC,EAAAA,EAAAA,IAAEvL,EAAEd,EAAExB,IAAIK,IAAIkB,EAAE,oBAAoBC,EAAEuB,KAAKU,iBAAkB,OAADzD,QAAC,IAADA,GAAAA,EAAG0I,WAAW,MAAM,IAAI9H,EAAAA,EAAE,oCAAoC,8GAA8G,MAAMF,GAAEI,EAAAA,EAAAA,IAAEwB,EAAEd,EAAE,mBAAmB,MAAM,UAAUQ,EAAAA,EAAAA,IAAEtB,GAAG4C,GAAGhB,EAAEgB,GAAGuI,iBAAiBvJ,EAAEuJ,iBAAiB,KAAKX,QAAQ1J,EAAE,CAAC,mBAAMmG,CAAcrF,EAAEtC,GAAG,GAAGkG,KAAKvD,WAAW,YAAYuD,KAAKO,KAAKP,KAAKvD,WAAW,CAACY,KAAIyJ,EAAAA,EAAAA,IAAE1K,KAAK,MAAMd,QAAQnB,EAAAA,EAAAA,GAAEiC,EAAE,CAACM,aAAa,OAAOC,MAAM,CAACpB,EAAE,WAAWzB,IAAIkG,KAAKO,KAAKjF,EAAEuB,KAAK,CAACQ,KAAIyJ,EAAAA,EAAAA,IAAE1K,IAAI,CAAC,2BAAM4F,CAAsB5F,GAAG,MAAMtC,EAAC,GAAAgB,OAAIsB,EAAC,WAAUd,QAAQnB,EAAAA,EAAAA,GAAEL,EAAE,CAAC4C,aAAa,OAAOC,MAAM,CAACpB,EAAE,UAAU,MAAM,CAACkF,OAAOnF,EAAEuB,KAAK4D,OAAO5F,KAAKuB,IAAI,MAAMX,KAAK3B,EAAEiH,aAAazF,GAAGc,EAAEjC,EAAEgD,EAAE6C,KAAK3C,IAAIjB,GAAGf,GAAEuM,EAAAA,EAAAA,GAAExL,EAAEjC,EAAEkD,KAAK,MAAM,IAAIlD,EAAEsB,KAAK3B,GAAG,gBAAgBiH,aAAazF,EAAEgF,aAAajF,EAAE,IAAIW,OAAOV,EAAEuB,KAAKb,OAAOnB,KAAKuB,IAAI,MAAMtC,EAAEqD,EAAE6C,KAAK3C,IAAIjB,GAAGd,GAAEsM,EAAAA,EAAAA,GAAExL,EAAEtC,EAAEuD,KAAK,MAAM,IAAIvD,EAAEwG,aAAahF,EAAE,IAAI,GAAG,SAASiM,EAAEnL,GAAG,MAAMtC,EAAEsC,EAAES,KAAKvB,EAAE,GAAG,MAAM,CAAC4G,QAAQpI,EAAEe,KAAKuB,IAAG,IAAAyL,EAAAC,EAAAC,EAAC,MAAMjO,EAAE,CAACkO,WAAuB,QAAbH,EAACzL,EAAE4L,kBAAU,IAAAH,EAAAA,EAAE,GAAGI,cAA6B,QAAhBH,EAAC1L,EAAE6L,qBAAa,IAAAH,EAAAA,EAAE,GAAGI,cAA6B,QAAhBH,EAAC3L,EAAE8L,qBAAa,IAAAH,EAAAA,EAAE,GAAG7B,YAAY9J,EAAE8J,YAAY3C,WAAWnH,EAAEmH,YAAYpJ,GAAEgO,EAAAA,EAAAA,IAAErO,GAAGuB,EAAEe,EAAEgG,eAAe1H,EAAG,OAADW,QAAC,IAADA,GAAAA,EAAG0J,iBAAiB,IAAIxJ,EAAAA,EAAE,CAAC6M,KAAM,OAAD/M,QAAC,IAADA,OAAC,EAADA,EAAG0J,iBAAiBqD,KAAKC,IAAK,OAADhN,QAAC,IAADA,OAAC,EAADA,EAAG0J,iBAAiBsD,IAAIC,WAAY,OAADjN,QAAC,IAADA,OAAC,EAADA,EAAG0J,iBAAiBuD,WAAWC,cAAe,OAADlN,QAAC,IAADA,OAAC,EAADA,EAAG0J,iBAAiBwD,cAAcC,QAAS,OAADnN,QAAC,IAADA,OAAC,EAADA,EAAG0J,iBAAiByD,UAAU,KAAKhO,EAAEa,GAAEoN,EAAAA,EAAAA,IAAEpN,EAAEX,GAAG,KAAK,OAAOF,GAAGc,EAAEoN,KAAK,CAACC,QAAQvM,EAAEgB,GAAGgF,eAAe5H,IAAI,CAAC4C,GAAGhB,EAAEgB,GAAGgF,eAAe5H,KAAKL,EAAE,IAAIiI,eAAe9G,EAAE,EAACc,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,OAAKwF,EAAE+I,UAAU,WAAM,IAAQxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,OAAKwF,EAAE+I,UAAU,kBAAa,IAAQxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,OAAKwF,EAAE+I,UAAU,oCAA+B,IAAQxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,OAAKwF,EAAE+I,UAAU,mCAA8B,IAAQxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,IAAE,CAACwO,UAAS,KAAMhJ,EAAE+I,UAAU,oBAAoB,OAAMxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,IAAE,CAACwO,UAAS,KAAMhJ,EAAE+I,UAAU,8BAA8B,OAAMxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,OAAKwF,EAAE+I,UAAU,0BAAqB,IAAQxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,IAAE,CAACyO,KAAK,CAACvI,KAAK,CAACwI,OAAO,CAAC,eAAelJ,EAAE+I,UAAU,kBAAa,IAAQxM,EAAAA,EAAAA,GAAE,EAACpB,EAAAA,EAAAA,GAAE,aAAa,CAAC,YAAY6E,EAAE+I,UAAU,iBAAiB,OAAMxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,IAAE,CAACyO,KAAK,CAACvI,KAAK,CAACwI,OAAO,CAAC,eAAelJ,EAAE+I,UAAU,kBAAa,IAAQxM,EAAAA,EAAAA,GAAE,EAACpB,EAAAA,EAAAA,GAAE,aAAa,CAAC,YAAY6E,EAAE+I,UAAU,iBAAiB,OAAMxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,IAAE,CAACwO,UAAS,EAAGC,KAAK,CAACvI,KAAK,CAACwI,OAAO,CAAC,mBAAmB,eAAe,4BAA4B,uBAAuB,gCAAgC,uBAAuB,iBAAiB,8BAA8B,kCAAkC,mBAAmB,+BAA+BlJ,EAAE+I,UAAU,oBAAe,IAAQxM,EAAAA,EAAAA,GAAE,EAACpB,EAAAA,EAAAA,GAAE,eAAe,CAAC,mBAAmB,eAAe,4BAA4B,uBAAuB,gCAAgC,uBAAuB,iBAAiB,8BAA8B,kCAAkC,mBAAmB,4BAA4B6E,EAAE+I,UAAU,mBAAmB,OAAMxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,EAAAA,IAAE,CAACwO,UAAS,KAAMhJ,EAAE+I,UAAU,wBAAwB,MAAM/I,GAAEzD,EAAAA,EAAAA,GAAE,EAACiL,EAAAA,EAAAA,GAAE,4CAA4CxH,GAAG,MAAMmJ,EAAEnJ,E,eCAn5V,MAAM/F,EAAEA,CAACwB,EAAEd,KAAK,IAAI,MAAMO,KAAKO,EAAE,GAAG,YAAYP,EAAEU,MAAM,kBAAkBV,EAAEU,KAAK,CAAC,IAAIV,EAAEsC,IAAI,SAAS,MAAMvD,GAAEsC,EAAAA,EAAAA,IAAErB,EAAEsC,KAAKA,IAAI4L,KAAK3N,EAAEd,EAAE0O,IAAIpP,GAAG,GAAGwB,EAAEA,EAAEmF,OAAOiI,KAAK3N,OAAO,CAAC,MAAMqB,EAAE,IAAIjC,EAAE,CAACkD,IAAIvD,IAAIwB,EAAE,CAACP,GAAGP,EAAE2O,IAAIrP,EAAE,CAACsP,eAAehN,EAAEqE,OAAOnF,GAAG,CAAC,KAAK,UAAUP,EAAEU,MAAM3B,EAAEiB,EAAE0F,OAAOjG,EAAE,EAAE,SAASc,EAAEc,GAAG,MAAMjC,EAAE,IAAIkP,IAAI,OAAOvP,EAAEsC,EAAEjC,GAAGA,CAAC,C,0BCA0B,IAAIE,EAAE,eAAciB,EAAAA,EAAAA,IAAED,EAAAA,IAAIyE,WAAAA,CAAY1D,GAAG2D,MAAM3D,GAAG4D,KAAKsJ,yBAAyB,KAAKtJ,KAAKuJ,kBAAkB,KAAKvJ,KAAK3C,IAAI,KAAK2C,KAAKwJ,eAAe,KAAKxJ,KAAKyJ,mBAAmB,KAAKzJ,KAAK0J,aAAa,GAAG1J,KAAK2J,iBAAiB,IAAI7P,EAAAA,EAAEkG,KAAK4J,2BAA0B,EAAG5J,KAAK6J,MAAM,WAAW,CAACC,UAAAA,GAAa9J,KAAK3C,IAAI2C,KAAKsJ,yBAAyBjM,IAAI2C,KAAKuJ,kBAAkBvJ,KAAK3C,IAAIwD,QAAQ,6BAA6B,kBAAkBb,KAAK+J,WAAW,CAAC/J,KAAK2J,iBAAiBK,GAAG,cAAc5N,IAAI,GAAGA,EAAE6N,KAAKV,kBAAkBtO,gBAAgB+E,KAAKuJ,kBAAkBtO,cAAc,OAAOmB,EAAE8N,sBAAsBrQ,EAAAA,EAAEsQ,UAAUnK,MAAMjD,MAAM,SAAS,gEAAgE,IAAIiD,KAAK2J,iBAAiBK,GAAG,iBAAiB5N,IAAI,GAAG,IAAI4D,KAAK2J,iBAAiBS,MAAM3G,QAAQzD,KAAKwJ,gBAAgB,SAASxJ,KAAKwJ,gBAAgB,SAASxJ,KAAKsJ,yBAAyBe,YAAYrK,KAAKwJ,gBAAgB,OAAOpN,EAAE8N,sBAAsBrQ,EAAAA,EAAEsQ,UAAUnK,MAAMjD,MAAM,YAAY,qCAAqC,KAAK,CAACwE,IAAAA,CAAKnF,GAAG,OAAO4D,KAAKwB,oBAAoBxB,KAAKsK,YAAYlO,IAAIwF,QAAQC,QAAQ7B,KAAK,CAAC,4BAAIuK,GAA2B,OAAOvK,KAAKsJ,yBAAyBiB,wBAAwB,CAAC,aAAIC,GAAY,OAAOxK,KAAKwJ,kBAAkBxJ,KAAKwJ,gBAAgB,SAASxJ,KAAKwJ,gBAAgBxJ,KAAKwJ,eAAevP,OAAO+F,KAAKuK,yBAAyBtQ,IAAI,CAAC,qBAAMwQ,GAAsB,OAALC,UAAAjH,OAAA,QAAAkH,IAAAD,UAAA,IAAAA,UAAA,KAAgB1K,KAAK0J,mBAAmB1J,KAAKsJ,yBAAyBmB,mBAAmBzK,KAAK0J,YAAY,CAAC,kBAAMkB,CAAaxO,EAAEtC,GAAG,GAAGkG,KAAKwJ,gBAAgB,SAASxJ,KAAKwJ,gBAAgBpN,EAAEyO,OAAO7K,KAAKwJ,eAAeqB,KAAK,OAAM,EAAG,MAAM1Q,QAAQ6F,KAAKsJ,yBAAyBsB,aAAaxO,EAAEtC,GAAG,OAAOK,SAAS6F,KAAKyK,iBAAgB,GAAItQ,CAAC,CAAC,mBAAM2Q,CAAc1O,GAAG,GAAG4D,KAAKwJ,gBAAgB,SAASxJ,KAAKwJ,gBAAgBpN,EAAEyO,OAAO7K,KAAKwJ,eAAeqB,KAAK,OAAM,EAAG,MAAM/Q,QAAQkG,KAAKsJ,yBAAyBwB,cAAc1O,GAAG,OAAOtC,SAASkG,KAAKyK,iBAAgB,GAAI3Q,CAAC,CAAC,4BAAMiR,GAAyB,OAAO/K,KAAKwJ,gBAAgB,SAASxJ,KAAKwJ,eAAexJ,KAAKsJ,yBAAyByB,uBAAuB/K,KAAKwJ,gBAAgBxJ,KAAKsJ,yBAAyByB,uBAAuB/K,KAAKuK,yBAAyB,CAAC,kBAAMS,GAAe,GAAGhL,KAAKiL,8BAA8B,MAAM,CAACC,SAAQ,GAAI,IAAIlL,KAAK4J,0BAA0B,CAAC,MAAMxN,QAAQ4D,KAAKsJ,yBAAyB6B,uBAAuBnL,KAAKwJ,gBAAgB,IAAIpN,EAAE8O,QAAQ,OAAO9O,EAAE4D,KAAK6J,MAAM,WAAW,CAAC,MAAMzN,QAAQ4D,KAAKsJ,yBAAyB8B,uBAAuBpL,KAAKwJ,gBAAgB,OAAOpN,EAAE8O,UAAUlL,KAAK6J,MAAM,cAAczN,CAAC,CAAC,iBAAMiP,CAAYjP,GAAG,GAAG4D,KAAKiL,8BAA8B,MAAM,CAACC,SAAQ,GAAI,MAAMpR,QAAQkG,KAAKsJ,yBAAyBgC,sBAAsBtL,KAAKwJ,eAAepN,GAAG,IAAItC,EAAEoR,QAAQ,OAAOpR,EAAE,GAAGkG,KAAK6J,MAAM,aAAa7J,KAAK4J,0BAA0B,CAAC,MAAMxN,QAAQ4D,KAAKsJ,yBAAyBiC,sBAAsBvL,KAAKwJ,gBAAgB,OAAOpN,EAAE8O,UAAUlL,KAAK6J,MAAM,aAAazN,CAAC,CAAC,OAAOtC,CAAC,CAAC,mBAAM0R,CAAcpP,GAAE,IAAAqP,EAAC,IAAI3R,EAAE,KAAK,GAAGkG,KAAK4J,0BAA0B,KAAA8B,EAAC,GAAG1L,KAAKiL,4BAA4B7O,GAAGA,GAAG,SAASA,GAAGtC,QAAQkG,KAAKsJ,yBAAyByB,uBAAuB3O,GAAG4D,KAAK6J,MAAM,YAAY,QAAJ6B,EAAG5R,SAAC,IAAA4R,OAAA,EAADA,EAAGC,QAAO,YAAY,aAAa3L,KAAK6J,MAAM,iBAAiB,UAAU7J,KAAKsJ,yBAAyBsC,aAAaxP,GAAG,MAAM,IAAIjC,EAAAA,EAAE,4CAA4CiC,GAAG4D,KAAKiL,4BAA4BjL,KAAKwJ,uBAAuBxJ,KAAKsJ,yBAAyBuC,YAAY7L,KAAKwJ,eAAe,CAAC,MAAMlO,QAAQ0E,KAAKsJ,yBAAyBwC,wBAAwB9L,KAAK2J,iBAAiB3J,KAAKwJ,eAAepN,GAAG,IAAIf,GAAE,EAAG,OAAOC,EAAEyQ,SAAS,CAAC3P,EAAEtC,KAAKuB,EAAEA,GAAGe,EAAE8O,OAAO,IAAI7P,IAAI2E,KAAKwJ,eAAepN,EAAE4D,KAAKyJ,mBAAmB3P,SAASkG,KAAK+K,yBAAyB/K,KAAKiL,8BAA8BjL,KAAKwJ,gBAAgB,SAASxJ,KAAKwJ,eAAexJ,KAAK6J,MAAM,YAAkC,QAA1B4B,EAAGzL,KAAKyJ,0BAAkB,IAAAgC,OAAA,EAAvBA,EAAyBE,QAAO,YAAY,YAAY3L,KAAK6J,MAAM,YAAY7J,KAAK6J,MAAM,SAAS7J,KAAKsJ,yBAAyBe,YAAYrK,KAAKwJ,gBAAgB,YAAY,aAAalO,CAAC,CAAC,UAAM0Q,GAAO,OAAOhM,KAAKiL,8BAA8B,CAACC,SAAQ,IAAKlL,KAAKsJ,yBAAyB0C,KAAKhM,KAAKwJ,gBAAgB,CAAC0B,SAAQ,GAAI,CAAC,UAAMe,GAAO,OAAOjM,KAAKiL,8BAA8B,CAACC,SAAQ,IAAKlL,KAAKsJ,yBAAyB2C,KAAKjM,KAAKwJ,gBAAgB,CAAC0B,SAAQ,GAAI,CAAC,iBAAMZ,CAAYlO,GAAE,IAAA8P,QAAOlM,KAAKsJ,yBAAyB/H,KAAKnF,GAAG4D,KAAK6J,MAAM,YAAY7J,KAAKyJ,yBAAyBzJ,KAAK+K,yBAAyB/K,KAAK2J,iBAAiBoC,SAAS3P,IAAI4D,KAAKwJ,eAAe,SAASxJ,KAAKwJ,gBAAgBpN,EAAEoG,WAAWxC,KAAKwJ,eAAevP,KAAKmC,EAAEkH,eAAe,OAAOlH,EAAEkH,eAAetD,KAAKwJ,eAAepN,EAAEoG,WAAW,OAAOpG,EAAEoG,WAAW,KAAKpG,EAAEkH,eAAe,KAAK,IAAItD,KAAK4J,4BAA4B5J,KAAKiL,8BAA8BjL,KAAKwJ,gBAAgB,SAASxJ,KAAKwJ,eAAexJ,KAAK6J,MAAM,YAAkC,QAA1BqC,EAAGlM,KAAKyJ,0BAAkB,IAAAyC,OAAA,EAAvBA,EAAyBP,QAAO,YAAY,YAAY3L,KAAK6J,MAAM,kBAAkB7J,KAAKsJ,yBAAyBsC,aAAa5L,KAAKwJ,kBAAkBxJ,KAAK6J,MAAM,aAAa,CAACoB,2BAAAA,GAAkD,IAAtB7O,EAACsO,UAAAjH,OAAA,QAAAkH,IAAAD,UAAA,GAAAA,UAAA,GAAC1K,KAAKwJ,eAAgB,QAAQpN,GAAG,SAASA,IAAIA,EAAEnC,OAAO+F,KAAKsJ,yBAAyBiB,yBAAyBtQ,IAAI,IAAGmC,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,gCAA2B,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,yBAAoB,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,WAAM,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,sBAAiB,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,0BAAqB,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,oBAAe,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,wBAAmB,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,iCAA4B,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,OAAKH,EAAEuO,UAAU,aAAQ,IAAQxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,IAAE,CAACqO,UAAS,KAAMxO,EAAEuO,UAAU,2BAA2B,OAAMxM,EAAAA,EAAAA,GAAE,EAAC5B,EAAAA,EAAAA,IAAE,CAACqO,UAAS,KAAMxO,EAAEuO,UAAU,YAAY,MAAMvO,GAAE+B,EAAAA,EAAAA,GAAE,EAAC1B,EAAAA,EAAAA,GAAE,2CAA2CL,GAAG,MAAMU,EAAEV,E,gBCAziM,MAAMP,GAAEgG,WAAAA,CAAYhG,GAAGkG,KAAKmM,QAAQ,GAAGnM,KAAKoM,eAAe,GAAGpM,KAAKmM,QAAQzD,KAAK5O,EAAE,CAAC4O,IAAAA,CAAK5O,GAAG,OAAOkG,KAAKoM,eAAe3I,OAAOzD,KAAKmM,QAAQzD,KAAK5O,EAAE,CAACuS,GAAAA,GAAM,KAAKrM,KAAKoM,eAAe3I,OAAO,GAAG,OAAOzD,KAAKmM,QAAQE,KAAK,CAACL,IAAAA,GAAO,IAAIhM,KAAKsM,UAAU,OAAO,MAAMxS,EAAEkG,KAAKmM,QAAQE,MAAM,OAAOrM,KAAKoM,eAAe1D,KAAK5O,GAAGA,CAAC,CAACyS,IAAAA,GAAO,OAAOvM,KAAKmM,QAAQK,IAAI,EAAE,CAACF,OAAAA,GAAU,OAAOtM,KAAKmM,QAAQ1I,OAAO,CAAC,CAACgJ,OAAAA,GAAU,OAAOzM,KAAK0M,iBAAiB,CAACT,IAAAA,GAAO,IAAIjM,KAAKyM,UAAU,OAAO,MAAM3S,EAAEkG,KAAKoM,eAAeC,MAAM,OAAOrM,KAAKmM,QAAQzD,KAAK5O,GAAGA,CAAC,CAAC6S,IAAAA,GAAO,OAAO3M,KAAKmM,QAAQ1I,OAAOzD,KAAKoM,eAAe3I,MAAM,CAACiJ,eAAAA,GAAkB,OAAO1M,KAAKoM,eAAe3I,OAAO,CAAC,CAACmJ,iBAAAA,GAAoB5M,KAAKoM,eAAe,EAAE,E,2CCAnT,MAAMtS,GAAEgG,WAAAA,CAAY1D,GAAG4D,KAAK6M,gBAAgBzQ,EAAE4D,KAAKvE,KAAK,cAAc,CAAC,cAAI+G,GAAa,OAAOxC,KAAK6M,gBAAgBrK,UAAU,CAAC,cAAIA,CAAWpG,GAAG4D,KAAK6M,gBAAgBrK,WAAWpG,CAAC,CAAC,kBAAIkH,GAAiB,OAAOtD,KAAK6M,gBAAgBvJ,cAAc,CAAC,kBAAIA,CAAelH,GAAG4D,KAAK6M,gBAAgBvJ,eAAelH,CAAC,CAAC,qBAAImN,GAAyD,OAAOvJ,KAAK6M,gBAAgBxP,IAAIwD,QAA7D,6BAAuE,KAAK,GAAEzE,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAAC0O,UAAS,KAAM/O,GAAE8O,UAAU,YAAO,IAAQxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,OAAKL,GAAE8O,UAAU,aAAa,OAAMxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAACsB,KAAK+H,QAAQ1J,GAAE8O,UAAU,iBAAiB,OAAMxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAAC0O,UAAS,KAAM/O,GAAE8O,UAAU,oBAAoB,MCA/lB,MAAM9O,GAAEgG,WAAAA,CAAY1D,GAAG4D,KAAK6M,gBAAgBzQ,EAAE4D,KAAKvE,KAAK,SAAS,CAAC,cAAI+G,GAAa,OAAOxC,KAAK6M,gBAAgBrK,UAAU,CAAC,cAAIA,CAAWpG,GAAG4D,KAAK6M,gBAAgBrK,WAAWpG,CAAC,CAAC,kBAAIkH,GAAiB,OAAOtD,KAAK6M,gBAAgBvJ,cAAc,CAAC,kBAAIA,CAAelH,GAAG4D,KAAK6M,gBAAgBvJ,eAAelH,CAAC,CAAC,qBAAImN,GAAoB,OAAOvJ,KAAK6M,gBAAgBtD,iBAAiB,GAAEnN,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAAC0O,UAAS,KAAM/O,GAAE8O,UAAU,YAAO,IAAQxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,OAAKL,GAAE8O,UAAU,aAAa,OAAMxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAACsB,KAAK+H,QAAQ1J,GAAE8O,UAAU,iBAAiB,OAAMxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAAC0O,UAAS,KAAM/O,GAAE8O,UAAU,oBAAoB,MCAnjB,MAAM9O,GAAEgG,WAAAA,CAAY1D,GAAG4D,KAAK6M,gBAAgBzQ,EAAE4D,KAAKvE,KAAK,mBAAmB,CAAC,cAAI+G,GAAa,OAAOxC,KAAK6M,gBAAgBrK,UAAU,CAAC,cAAIA,CAAWpG,GAAG4D,KAAK6M,gBAAgBrK,WAAWpG,CAAC,CAAC,kBAAIkH,GAAiB,OAAOtD,KAAK6M,gBAAgBvJ,cAAc,CAAC,kBAAIA,CAAelH,GAAG4D,KAAK6M,gBAAgBvJ,eAAelH,CAAC,CAAC,qBAAImN,GAAyD,OAAOvJ,KAAK6M,gBAAgBxP,IAAIwD,QAA7D,6BAAuE,KAAK,ECAje,SAAShH,GAAEA,GAAG,MAAM,sBAAsBA,EAAE,IAAIC,GAAED,GAAG,YAAYA,EAAE4B,OAAMW,EAAAA,GAAAA,GAAEvC,GAAG,kBAAkBA,EAAE4B,OAAMW,EAAAA,GAAAA,GAAEvC,GAAG,KAAK,IAAIW,GAAEX,GAAG,IAAIM,GAAEN,EAAE,CAAC,SAASuB,GAAEgB,GAAG,MAAMjC,EAAE,GAAG,IAAI,MAAML,KAAKsC,EAAE,GAAG,UAAUtC,EAAE2B,KAAK,CAAC,MAAMW,EAAEtC,EAAEU,EAAE4B,EAAE0Q,UAAUhS,OAAOsB,EAAE2Q,WAAW,IAAI,MAAMjT,KAAKU,EAAE,GAAG,YAAYV,EAAE2B,MAAM,kBAAkB3B,EAAE2B,KAAK,CAAC,MAAMW,EAAEvC,GAAEC,GAAGsC,GAAGjC,EAAEuO,KAAKtM,EAAE,CAAC,KAAK,CAAC,MAAMA,EAAEvC,GAAEC,GAAGsC,GAAGjC,EAAEuO,KAAKtM,EAAE,CAAC,OAAOjC,CAAC,EDAgHiC,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAAC0O,UAAS,KAAM/O,GAAE8O,UAAU,YAAO,IAAQxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,OAAKL,GAAE8O,UAAU,aAAa,OAAMxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAACsB,KAAK+H,QAAQ1J,GAAE8O,UAAU,iBAAiB,OAAMxM,EAAAA,EAAAA,GAAE,EAACjC,EAAAA,EAAAA,IAAE,CAAC0O,UAAS,KAAM/O,GAAE8O,UAAU,oBAAoB,MEAmD,IAAIhO,GAAE,eAAcU,EAAAA,EAAAA,IAAED,EAAAA,IAAIyE,WAAAA,CAAY1D,GAAG2D,MAAM3D,GAAG4D,KAAK3C,IAAI,KAAK2C,KAAKvD,WAAW,KAAKuD,KAAK/F,KAAK,KAAK+F,KAAKuK,yBAAyB,KAAKvK,KAAKM,aAAa,KAAKN,KAAKgN,WAAW5Q,IAAIA,GAAGA,IAAI4D,KAAKuK,yBAAyBtQ,KAAK+F,KAAKiN,YAAY,CAAC7Q,EAAEtC,KAAKsC,IAAItC,MAAMsC,IAAItC,IAAIsC,EAAE8Q,gBAAgBpT,EAAEoT,cAAclN,KAAKmN,mBAAmB/Q,IAAI,MAAMgR,WAAWtT,EAAE0I,WAAWrI,EAAEkT,OAAO/R,GAAGc,EAAEtC,IAAIkG,KAAKsN,oBAAoBhS,EAAEoG,MAAMtF,IAAI,MAAMtC,EAAEsC,EAAEkH,eAAexJ,GAAGkG,KAAKuN,wBAAwBpT,EAAEL,EAAE,GAAG,CAAC,CAACgQ,UAAAA,GAAY,IAAA0D,EAACxN,KAAK3C,KAAIxD,EAAAA,EAAAA,IAAEmG,KAAK3C,KAAK2C,KAAKsN,mBAAmBtN,KAAK3C,IAAIwD,QAAQ,6BAA6B,kBAAkB2E,EAAAA,GAAEiI,IAAIzN,KAAK3C,MAAMmI,EAAAA,GAAE2D,IAAInJ,KAAK3C,IAAI,IAAIgM,KAAK,MAAMjN,GAAkB,QAAhBoR,EAACpS,EAAAA,GAAE8N,IAAIlJ,KAAK3C,YAAI,IAAAmQ,EAAAA,EAAE,GAAG,EAAEpS,EAAAA,GAAE+N,IAAInJ,KAAK3C,IAAIjB,GAAG4D,KAAK0N,OAAOhM,MAAM,IAAI1B,KAAK+J,YAAW/P,EAAAA,EAAAA,IAAEgG,KAAKmN,uBAAuB,QAAQ,CAACQ,OAAAA,GAAS,IAAAC,EAAC,MAAMxR,GAAkB,QAAhBwR,EAACxS,EAAAA,GAAE8N,IAAIlJ,KAAK3C,YAAI,IAAAuQ,EAAAA,EAAE,GAAG,EAAExS,EAAAA,GAAE+N,IAAInJ,KAAK3C,IAAIjB,GAAG,IAAIA,GAAGoJ,EAAAA,GAAEqI,OAAO7N,KAAK3C,KAAKwI,EAAAA,GAAEgI,OAAO7N,KAAKsN,mBAAmB,CAAC/M,IAAAA,CAAKnE,EAAEtC,GAAGkG,KAAKvD,WAAWL,EAAE2D,MAAMQ,KAAKnE,EAAEtC,EAAE,CAACgU,4BAAAA,CAA6B1R,EAAEtC,GAAG,MAAM,CAACG,KAAKH,EAAEiU,mBAAmBlD,KAAK/Q,EAAEkU,mBAAmB,CAACC,6BAAAA,CAA8B7R,EAAEtC,GAAGA,EAAEiU,mBAAmB3R,EAAEnC,KAAKH,EAAEkU,mBAAmB5R,EAAEyO,IAAI,CAACtJ,IAAAA,CAAKnF,GAAG,OAAO4D,KAAKwB,oBAAoBxB,KAAKyB,cAAczB,KAAK3C,IAAIjB,IAAIwF,QAAQC,QAAQ7B,KAAK,CAAC,mBAAMkO,CAAc9R,GAAG,OAAO8R,cAAcpU,IAAIqU,QAAQhU,UAAUyH,QAAQsD,IAAI,CAAC,iCAAqD,mCAAyE5J,EAAEnB,EAAEiU,KAAKhS,GAAG,OAAOtC,EAAEkG,KAAK3C,IAAI/B,EAAE,CAAC,mBAAMwP,CAAc1O,GAAE,IAAAiS,EAAC,OAAOvD,cAAchR,IAAIqU,QAAQhU,UAAUyH,QAAQsD,IAAI,CAAC,iCAAqD,mCAAyE,IAAI5J,EAAEc,EAAEyO,OAAqB,QAAjBwD,EAAE7I,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAAgR,OAAA,EAAfA,EAAiBZ,IAAIrR,EAAEyO,SAAQvP,EAAG,OAADwK,EAAAA,SAAC,IAADA,EAAAA,GAAAA,EAAAA,QAAG,GAAQ,MAAMzK,EAAE,IAAIlB,EAAE,CAACmU,YAAYlS,EAAEnC,KAAKkN,UAAU7L,IAAI,OAAOxB,EAAEkG,KAAK3C,IAAIhC,EAAE,CAAC,4BAAM0P,CAAuB3O,GAAG,MAAMmS,WAAWzU,SAAS,iCAAkD,OAAOA,EAAEkG,KAAK3C,IAAIjB,EAAEyO,KAAK,CAAC,qBAAMJ,GAAqB,IAALrO,EAACsO,UAAAjH,OAAA,QAAAkH,IAAAD,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG,OAAOD,gBAAgB3Q,IAAIqU,QAAQhU,UAAUyH,QAAQsD,IAAI,CAAC,iCAAuD,mCAA2E5J,EAAEnB,EAAEiU,KAAKhS,GAAG,OAAOtC,EAAEkG,KAAK3C,IAAI/B,EAAE,CAAC,eAAMkT,CAAUpS,GAAO,IAALtC,EAAC4Q,UAAAjH,OAAA,QAAAkH,IAAAD,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG,OAAO8D,UAAUrU,IAAIgU,QAAQ7S,UAAUsG,QAAQsD,IAAI,CAAC,iCAA4D,iCAAgF7J,EAAEC,EAAE8S,KAAKtU,GAAG,OAAOuB,EAAE8L,UAAUrB,EAAAA,GAAE3L,EAAE6F,KAAK3C,IAAIjB,EAAEyO,KAAKxP,EAAE,CAAC,UAAMoT,CAAKrS,GAAG,OAAOqS,KAAK3U,IAAIqU,QAAQhU,UAAUyH,QAAQsD,IAAI,CAAC,iCAAuD,mCAA2E5J,EAAEnB,EAAEiU,KAAK,CAACjH,UAAUrB,EAAAA,KAAI,OAAOhM,EAAEkG,KAAK3C,IAAIjB,EAAEyO,KAAKvP,EAAE,CAAC,kBAAMsP,CAAaxO,EAAEtC,GAAG,OAAO8Q,aAAazQ,IAAIgU,QAAQ7S,UAAUsG,QAAQsD,IAAI,CAAC,iCAA+D,mCAAmF7J,EAAEC,EAAE8S,KAAKtU,GAAG,OAAOK,EAAE6F,KAAK3C,IAAIjB,EAAEyO,KAAKxP,EAAE,CAAC,kBAAMuQ,CAAaxP,GAAG,aAAa4D,KAAKmL,uBAAuB/O,IAAI8O,OAAO,CAAC,4BAAMC,CAAuB/O,GAAG,MAAMwP,aAAa9R,SAAS,iCAA+DK,QAAQL,EAAEkG,KAAK3C,IAAIjB,EAAEyO,KAAK/E,EAAAA,IAAG,GAAG3L,EAAE+Q,QAAQ,CAAC,MAAMpR,QAAQkG,KAAK+K,uBAAuB3O,GAAGjC,EAAE,IAAIqJ,KAAK1J,EAAE4U,cAAcpT,EAAE,CAACrB,KAAKH,EAAE6U,kBAAkB1U,KAAK2U,OAAOzU,EAAE0U,SAAS,QAAQ7O,KAAK8O,iBAAiB1S,EAAEyO,KAAKvP,IAAGN,EAAAA,EAAAA,IAAEgF,KAAKsN,mBAAmB,KAAKlR,EAAEnC,KAAKE,EAAE,CAAC,OAAOA,CAAC,CAAC,iBAAM0R,CAAYzP,GAAG,aAAa4D,KAAKuL,sBAAsBnP,IAAI8O,OAAO,CAAC,2BAAMK,CAAsBnP,GAAE,IAAA2S,EAAC,MAAMlD,YAAY/R,SAAS,iCAA8DK,QAAQL,EAAEkG,KAAK3C,IAAIjB,EAAEyO,KAAK/E,EAAAA,IAAG,OAAO3L,EAAE+Q,UAAyB,QAAf6D,EAAAvJ,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAA0R,GAAfA,EAAiBlB,OAAOzR,EAAEyO,OAAM7P,EAAAA,EAAAA,IAAEgF,KAAKsN,mBAAmB,KAAKlR,EAAEnC,KAAK,OAAOE,CAAC,CAAC,kBAAM6Q,CAAa5O,GAAG,aAAa4D,KAAKoL,uBAAuBhP,IAAI8O,OAAO,CAAC,4BAAME,CAAuBhP,GAAG,MAAM4O,aAAalR,SAAS,iCAA+DK,QAAQL,EAAEkG,KAAK3C,IAAIjB,EAAEyO,KAAK/E,EAAAA,IAAG,GAAG3L,EAAE+Q,QAAQ,CAAC,MAAMpR,QAAQkG,KAAK+K,uBAAuB3O,GAAGjC,EAAE,IAAIqJ,KAAK1J,EAAE4U,cAAcpT,EAAE,IAAIoK,GAAEvL,GAAGkB,EAAE,CAACpB,KAAKmC,EAAEnC,KAAK2U,OAAOzU,EAAE0U,SAAS,OAAOG,MAAM1T,GAAG0E,KAAK8O,iBAAiB1S,EAAEyO,KAAKxP,IAAGL,EAAAA,EAAAA,IAAEgF,KAAKsN,mBAAmB,KAAKlR,EAAEnC,KAAKE,EAAE,CAAC,OAAOA,CAAC,CAAC,iBAAMkR,CAAYjP,EAAEtC,GAAG,aAAakG,KAAKsL,sBAAsBlP,EAAEtC,IAAIoR,OAAO,CAAC,2BAAMI,CAAsBlP,EAAEtC,GAAG,GAAGA,EAAE,KAAAmV,EAAAC,EAAC,MAAMpV,EAAiB,QAAhBmV,EAACzJ,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAA4R,OAAA,EAAfA,EAAiB/F,IAAI9M,EAAEyO,MAAM,GAAI,OAAD/Q,QAAC,IAADA,GAAQ,QAAPoV,EAADpV,EAAGkV,aAAK,IAAAE,GAARA,EAAUzC,UAAU,CAAC,OAAO0C,mBAAmBhV,IAAIgU,QAAQ7S,UAAUsG,QAAQsD,IAAI,CAAC,+BAAqE,mCAAyF7J,QAAQlB,EAAE6F,KAAK3C,IAAIjB,EAAEyO,KAAK,IAAIvP,EAAE,CAAC6L,UAAUrB,EAAAA,GAAE8I,OAAO9U,EAAE8U,UAAU,IAAIvT,EAAE6P,QAAQ,OAAO7P,CAAC,CAAC,CAAC,MAAMgQ,YAAYlR,SAAS,iCAA8DmB,QAAQnB,EAAE6F,KAAK3C,IAAIjB,EAAEyO,KAAK/E,EAAAA,GAAEhM,GAAG,GAAGwB,EAAE4P,QAAQ,CAAC,MAAMpR,QAAQkG,KAAK+K,uBAAuB3O,GAAGjC,EAAE,IAAIqJ,KAAK1J,EAAE4U,cAAc1O,KAAK8O,iBAAiB1S,EAAEyO,KAAK,CAAC5Q,KAAKmC,EAAEnC,KAAK2U,OAAOzU,EAAE0U,SAAS,OAAOO,qBAAgB,KAASpU,EAAAA,EAAAA,IAAEgF,KAAKsN,mBAAmB,KAAKlR,EAAEnC,KAAKE,EAAE,CAAC,OAAOmB,CAAC,CAAC+O,WAAAA,CAAYjO,GAAE,IAAAiT,EAAC,MAAMvV,EAAiB,QAAhBuV,EAAC7J,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAAgS,GAAa,QAAbA,EAAfA,EAAiBnG,IAAI9M,EAAEyO,aAAK,IAAAwE,OAAA,EAA5BA,EAA8BR,SAAS,OAAQ,OAAD/U,QAAC,IAADA,EAAAA,EAAG,MAAM,CAAC,mBAAM0R,CAAcpP,EAAEtC,EAAEwB,GAAG,GAAGA,GAAG,SAASA,UAAU0E,KAAK+K,uBAAuBzP,GAAG,MAAM,IAAInB,EAAAA,EAAE,6CAA6C,0BAA0B,GAAG,sBAAsBiC,GAAG,GAAG4D,KAAKsN,mBAAmBrS,gBAAgBmB,EAAEmN,kBAAkBtO,cAAc,OAAO+E,KAAKsP,uBAAuBlT,EAAEtC,EAAEwB,OAAO,CAAC,IAAInB,EAAE,WAAWiC,GAAGjC,EAAEiC,EAAE0Q,UAAUhS,OAAOsB,EAAE2Q,WAAW3Q,EAAEmT,iBAAiBnT,EAAEmT,gBAAgBxD,SAAS3P,IAAI4D,KAAKsN,mBAAmBrS,gBAAgBmB,EAAEmN,kBAAkBtO,eAAe+E,KAAKsP,uBAAuBlT,EAAEtC,EAAEwB,EAAE,KAAKnB,EAAEiC,EAAE,IAAI,MAAMA,KAAKjC,EAAE,GAAG,YAAYiC,EAAEX,MAAM,kBAAkBW,EAAEX,KAAK,CAAC,MAAMtB,EAAE,6BAA6BkB,EAAEe,EAAEiB,IAAIwD,QAAQ1G,EAAE,MAAM,GAAG6F,KAAKsN,mBAAmBrS,gBAAgBI,EAAEJ,gBAAgB+E,KAAKsP,uBAAuBlT,EAAEtC,EAAEwB,GAAG,OAAM,CAAE,MAAM,GAAG,UAAUc,EAAEX,KAAK,CAAC,MAAMtB,EAAEiC,EAAE0Q,UAAUhS,OAAOsB,EAAE2Q,WAAW,IAAI,MAAM3Q,KAAKjC,EAAE,GAAG,YAAYiC,EAAEX,MAAM,kBAAkBW,EAAEX,KAAK,CAAC,MAAMtB,EAAE,6BAA6BkB,EAAEe,EAAEiB,IAAIwD,QAAQ1G,EAAE,MAAM,GAAG6F,KAAKsN,mBAAmBrS,gBAAgBI,EAAEJ,gBAAgB+E,KAAKsP,uBAAuBlT,EAAEtC,EAAEwB,GAAG,OAAM,CAAE,CAAC,CAAC,CAAC,OAAM,CAAE,CAAC,6BAAMwQ,CAAwB1P,EAAEtC,EAAEK,GAAG,IAAImB,EAAE,GAAG,WAAWc,EAAE,CAAC,MAAMtC,EAAEuN,GAAEjL,EAAE0Q,UAAUhS,OAAOsB,EAAE2Q,WAAWzK,QAAQlG,GAAG,UAAUA,EAAEX,OAAO+T,WAAWpT,EAAEmT,iBAAiBnT,EAAEmT,gBAAgBxD,SAAS3P,IAAI,MAAMjC,EAAEkN,GAAE,CAACjL,IAAItC,EAAE4O,QAAQvO,EAAE,IAAImB,EAAExB,CAAC,MAAMwB,EAAEc,EAAE,GAAGjC,GAAG,SAASA,UAAa6F,KAAK+K,uBAAuB5Q,GAAG,CAAC,MAAMiC,EAAE,IAAIiN,IAAI,IAAI,MAAMvP,KAAKwB,EAAEc,EAAE+M,IAAIrP,EAAE,CAACoR,SAAQ,IAAK,OAAO9O,CAAC,CAAE,GAAGtC,GAAG,SAASA,GAAM,SAASkG,KAAKqK,YAAYvQ,GAAG,CAAC,MAAMsC,EAAE,IAAIiN,IAAI,IAAI,MAAMvP,KAAKwB,EAAEc,EAAE+M,IAAIrP,EAAE,CAACoR,SAAQ,IAAK,OAAO9O,CAAC,CAAE,MAAMf,EAAE,IAAIgO,IAAI,IAAI,MAAMxP,KAAKyB,EAAE,GAAGzB,EAAE,GAAGA,EAAE0P,kBAAkBtO,gBAAgB+E,KAAKsN,mBAAmBrS,cAAc,CAAC,MAAMmB,EAAE4D,KAAKyP,iCAAiC5V,EAAEC,EAAEK,GAAGkB,EAAE8N,IAAItP,EAAEuC,EAAE,MAAMf,EAAE8N,IAAItP,EAAE,CAACqR,SAAQ,IAAK,OAAO7P,CAAC,CAAC,kCAAMqU,CAA6BtT,GAAG,IAAG,IAAAuT,EAAwD,OAAgD,QAAzCA,SAAhD3P,KAAKyK,gBAAgB,CAACmF,eAAc,KAAc1U,MAAMpB,GAAGA,EAAE6U,kBAAkB1U,OAAOmC,WAAG,IAAAuT,OAAA,EAAzCA,EAA2ChB,oBAAmB,IAAI,CAAC,MAAM,OAAO,IAAI,CAAC,CAAC,kCAAMkB,CAA6BzT,GAAG,MAAMmS,WAAWzU,SAAS,iCAAkD,IAAI,aAAaA,EAAEkG,KAAK3C,IAAIjB,IAAIuS,iBAAiB,CAAC,MAAM,OAAO,IAAI,CAAC,CAACrC,OAAAA,CAAQlQ,GAAE,IAAA0T,EAAAC,EAAC,MAAMjW,EAAiB,QAAhBgW,EAACtK,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAAyS,OAAA,EAAfA,EAAiB5G,IAAI9M,EAAEyO,MAAM,QAAS,OAAD/Q,QAAC,IAADA,GAAQ,QAAPiW,EAADjW,EAAGkV,aAAK,IAAAe,IAARA,EAAUzD,UAAS,CAACG,OAAAA,CAAQrQ,GAAE,IAAA4T,EAAAC,EAAC,MAAMnW,EAAiB,QAAhBkW,EAACxK,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAA2S,OAAA,EAAfA,EAAiB9G,IAAI9M,EAAEyO,MAAM,QAAS,OAAD/Q,QAAC,IAADA,GAAQ,QAAPmW,EAADnW,EAAGkV,aAAK,IAAAiB,IAARA,EAAUxD,UAAS,CAACT,IAAAA,CAAK5P,GAAE,IAAA8T,EAAAC,EAAC,MAAMrW,EAAiB,QAAhBoW,EAAC1K,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAA6S,OAAA,EAAfA,EAAiBhH,IAAI9M,EAAEyO,MAAM1Q,GAAG,OAADL,QAAC,IAADA,GAAQ,QAAPqW,EAADrW,EAAGkV,aAAK,IAAAmB,OAAA,EAARA,EAAUnE,cAAQ,EAAO,GAAGlS,GAAGK,EAAE,KAAAiW,EAAC,MAAMjW,EAAEL,EAAEkV,MAAMzC,QAAOvR,EAAAA,EAAAA,IAAEgF,KAAKsN,mBAAmB,KAAKlR,EAAEnC,KAAKE,GAAkB,QAAhBiW,EAAC5K,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAA+S,GAAfA,EAAiBjH,IAAI/M,EAAEyO,KAAK,IAAI/Q,EAAE8U,OAAOzU,GAAG,CAAC,CAAC8R,IAAAA,CAAK7P,GAAE,IAAAiU,EAAAC,EAAAC,EAAC,MAAMzW,EAAiB,QAAhBuW,EAAC7K,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAAgT,OAAA,EAAfA,EAAiBnH,IAAI9M,EAAEyO,MAAM1Q,GAAG,OAADL,QAAC,IAADA,GAAQ,QAAPwW,EAADxW,EAAGkV,aAAK,IAAAsB,OAAA,EAARA,EAAUrE,cAAQ,EAAOnS,GAAGK,KAAIa,EAAAA,EAAAA,IAAEgF,KAAKsN,mBAAmB,KAAKlR,EAAEnC,KAAKE,GAAkB,QAAhBoW,EAAC/K,EAAAA,GAAE0D,IAAIlJ,KAAK3C,YAAI,IAAAkT,GAAfA,EAAiBpH,IAAI/M,EAAEyO,KAAK,IAAI/Q,EAAE8U,OAAOzU,IAAI,CAACqW,UAAAA,CAAWpU,EAAEtC,GAAG,IAAIwB,EAAE,KAAKD,EAAE,KAAKxB,EAAE,KAAKW,EAAE,KAAK,MAAME,EAAE0B,IAAG,IAAAqU,EAAAC,EAAC,MAAM5W,EAAG,OAAD0L,EAAAA,SAAC,IAADA,EAAAA,IAAgB,QAAfiL,EAADjL,EAAAA,GAAG0D,IAAIlJ,KAAK3C,YAAI,IAAAoT,OAAA,EAAhBA,EAAkBvH,IAAI9M,EAAEyO,MAAMhR,EAAEuC,EAAEnC,KAAKO,EAAW,QAAVkW,EAAE,OAAD5W,QAAC,IAADA,OAAC,EAADA,EAAG8U,cAAM,IAAA8B,EAAAA,EAAE,IAAI,EAAE,GAAGtU,GAAG,SAASA,EAAE,CAAC,GAAG,SAAS4D,KAAKqK,YAAYjO,GAAG,MAAM,IAAIjC,EAAAA,EAAE,4CAA4C,qBAAqBmB,EAAEc,EAAEnC,KAAKoB,EAAE,KAAKvB,GAAG,SAASA,EAAEY,EAAEZ,IAAID,EAAEmG,KAAKuK,yBAAyBtQ,KAAKO,EAAEV,EAAE,MAAMwB,EAAE0E,KAAKuK,yBAAyBtQ,KAAKoB,EAAEe,EAAEtC,GAAG,SAASA,EAAEY,EAAEZ,IAAID,EAAEmG,KAAKuK,yBAAyBtQ,KAAKO,EAAEV,GAAG,MAAM,CAAC6W,gBAAgBrV,EAAEsV,WAAWvV,EAAEwV,cAAchX,EAAEiX,SAAStW,EAAE,CAAC8U,sBAAAA,CAAuBlT,EAAEtC,EAAEK,GAAG,IAAI,MAAMwW,gBAAgBrV,EAAEsV,WAAWvV,EAAEwV,cAAchX,EAAEiX,SAAStW,GAAGwF,KAAKwQ,WAAW1W,EAAEK,IAAI6F,KAAKgN,WAAW1R,IAAI0E,KAAKgN,WAAW5Q,EAAEoG,aAAaxC,KAAKiN,YAAY7Q,EAAEkH,eAAejI,IAAIC,IAAIc,EAAEoG,YAAYxC,KAAKiN,YAAY7Q,EAAEkH,eAAejI,MAAMe,EAAEoG,WAAW3I,EAAEuC,EAAEkH,eAAe9I,EAAE,CAAC,MAAMc,GAAG,OAAM,CAAE,CAAC,OAAM,CAAE,CAACmU,gCAAAA,CAAiCrT,EAAEtC,EAAEK,GAAG,IAAI,MAAMwW,gBAAgBrV,EAAEsV,WAAWvV,EAAEwV,cAAchX,EAAEiX,SAAStW,GAAGwF,KAAKwQ,WAAW1W,EAAEK,GAAG,OAAO6F,KAAKgN,WAAW1R,IAAI0E,KAAKgN,WAAW5Q,EAAEoG,aAAaxC,KAAKiN,YAAY7Q,EAAEkH,eAAejI,IAAIC,IAAIc,EAAEoG,YAAYxC,KAAKiN,YAAY7Q,EAAEkH,eAAejI,IAAIe,EAAEoG,WAAW3I,EAAEuC,EAAEkH,eAAe9I,EAAE,CAAC0Q,SAAQ,IAAK,CAACA,SAAQ,EAAG,CAAC,MAAM5P,GAAG,MAAM,CAAC4P,SAAQ,EAAG,CAAC,CAACqC,uBAAAA,CAAwBnR,EAAEtC,GAAG,MAAMK,EAAEqL,EAAAA,GAAE0D,IAAIlJ,KAAK3C,KAAK,GAAGlD,EAAE,IAAI,MAAMmB,EAAED,KAAKlB,EAAGkB,EAAEpB,OAAOmC,GAAG4D,KAAK+Q,YAAYzV,EAAExB,EAAG,CAACiX,WAAAA,CAAY3U,EAAEtC,GAAG,MAAMK,EAAEqL,EAAAA,GAAE0D,IAAIlJ,KAAK3C,KAAK/B,EAAG,OAADnB,QAAC,IAADA,OAAC,EAADA,EAAG+O,IAAI9M,GAAG,QAAS,OAADd,QAAC,IAADA,IAAAA,EAAG0T,SAAsf,SAAW5S,EAAEtC,GAAG,GAAGsC,EAAG,OAAOA,EAAE4U,UAAUlX,EAAEkX,UAAU,OAAM,CAAE,CAA3iBzO,CAAEjH,EAAE0T,MAAMzC,OAAOzS,IAAIwB,EAAE0T,MAAMtG,KAAK5O,GAAGK,EAAEgP,IAAI/M,EAAE,IAAId,EAAEsT,OAAO9U,KAAI,EAAG,CAACgV,gBAAAA,CAAiB1S,EAAEtC,GAAG,MAAMK,EAAEqL,EAAAA,GAAE0D,IAAIlJ,KAAK3C,KAAK/B,EAAG,OAADnB,QAAC,IAADA,OAAC,EAADA,EAAG+O,IAAI9M,GAAG,OAAOd,GAAGnB,EAAEgP,IAAI/M,EAAE,IAAId,KAAKxB,KAAI,MAAOA,EAAEG,OAAOH,EAAE+U,YAAa,OAAD1U,QAAC,IAADA,GAAAA,EAAGgP,IAAI/M,EAAE,IAAItC,EAAE+U,SAAS/U,EAAE+U,YAAW,EAAG,CAAC,mBAAMpN,CAAcrF,EAAEjC,GAAG,GAAG6F,KAAKvD,WAAW,CAACuD,KAAKO,KAAKP,KAAKvD,WAAW,CAACwU,OAAO,UAAU5T,KAAI9B,EAAAA,EAAAA,IAAEa,KAAK,MAAMtC,EAAE,IAAIU,EAAAA,GAAEwF,KAAK3C,KAAK6T,KAAK,YAAYrL,EAAAA,GAAEsD,IAAIrP,EAAEkG,KAAKuK,yBAAyBtQ,KAAK,CAAC,MAAMqB,QAAQxB,EAAAA,EAAAA,GAAEsC,EAAE,CAACM,aAAa,OAAOC,MAAM,CAACpB,EAAE,WAAWpB,IAAI6F,KAAKO,KAAKjF,EAAEuB,KAAK,IAAiET,EAAAA,EAAAA,GAAE,EAAC1B,EAAAA,EAAAA,OAAKE,GAAEgO,UAAU,WAAM,IAAQxM,EAAAA,EAAAA,GAAE,EAAC1B,EAAAA,EAAAA,OAAKE,GAAEgO,UAAU,kBAAa,IAAQxM,EAAAA,EAAAA,GAAE,EAAC1B,EAAAA,EAAAA,IAAE,CAACe,KAAK0V,OAAOrI,KAAK,CAACsI,OAAM,MAAOxW,GAAEgO,UAAU,YAAO,IAAQxM,EAAAA,EAAAA,GAAE,EAAC1B,EAAAA,EAAAA,IAAE,CAACoO,KAAK,CAACsI,MAAM,CAACC,OAAO,CAACtD,mBAAmB,CAACtS,KAAK0V,QAAQnD,mBAAmB,CAACvS,KAAK0V,UAAU5Q,KAAK,CAACwI,OAAO,CAAC,qBAAqB,2BAA2BnO,GAAEgO,UAAU,gCAA2B,IAAQxM,EAAAA,EAAAA,GAAE,EAACrB,EAAAA,EAAAA,GAAE,2BAA2B,CAAC,qBAAqB,wBAAwBH,GAAEgO,UAAU,+BAA+B,OAAMxM,EAAAA,EAAAA,GAAE,EAAC/B,EAAAA,GAAAA,GAAE,2BAA2B,CAAC0T,mBAAmB,CAACtS,KAAK0V,QAAQnD,mBAAmB,CAACvS,KAAK0V,WAAWvW,GAAEgO,UAAU,gCAAgC,OAAMxM,EAAAA,EAAAA,GAAE,EAAC1B,EAAAA,EAAAA,IAAE,CAACoO,KAAK,CAACsI,OAAM,MAAOxW,GAAEgO,UAAU,oBAAe,GAAQhO,IAAEwB,EAAAA,EAAAA,GAAE,EAACjB,EAAAA,EAAAA,GAAE,oDAAoDP,IAAG,MAAMuN,GAAEvN,GCAtuU,MAAMO,GAAE,IAAIkO,IAAInN,eAAeX,GAAEa,GAAO,IAALvC,EAAC6Q,UAAAjH,OAAA,QAAAkH,IAAAD,UAAA,IAAAA,UAAA,GAAK,MAAMpP,QAArpBY,eAAiB/B,EAAEL,GAAG,IAAIU,EAAE,GAAG,WAAWL,EAAE,CAAC,MAAMiC,EAAE1B,GAAEP,EAAE2S,UAAUhS,OAAOX,EAAE4S,WAAWzK,QAAQlG,GAAG,UAAUA,EAAEX,OAAO+T,WAAWrV,EAAEoV,iBAAiBpV,EAAEoV,gBAAgBxD,SAAS5R,IAAI,MAAML,EAAEY,GAAE,CAACP,IAAIiC,EAAEsM,QAAQ5O,EAAE,IAAIU,EAAE4B,CAAC,MAAM5B,EAAE,IAAI4B,EAAAA,EAAEjC,GAAG,MAAME,EAAE,IAAIgP,IAAI,IAAI,MAAMxP,KAAKW,EAAE,CAAC,MAAML,EAAEE,EAAE6O,IAAIrP,EAAE0P,mBAAmBpP,EAAEA,EAAEuO,KAAK7O,GAAGQ,EAAE8O,IAAItP,EAAE0P,kBAAkB,IAAInN,EAAAA,EAAE,CAACvC,IAAI,CAAC,MAAMsB,EAAE,IAAIiB,EAAAA,EAAE,IAAI,MAAMA,EAAE1B,KAAKL,EAAE,CAAC,MAAMF,EAAE,IAAIN,EAAE,CAACwD,IAAIjB,IAAI,SAASjC,EAAEoH,QAAQpH,EAAEuG,4BAA4B,SAAS,MAAMlG,EAAE,IAAIa,GAAE,CAACgC,IAAIlD,EAAEuG,8BAA8BvF,EAAEuN,KAAK,IAAIpN,EAAE,CAACgO,yBAAyB9O,EAAEmP,iBAAiBjP,EAAEkP,0BAA0B9P,IAAI,CAAC,OAAOqB,CAAC,CAAwDd,CAAE+B,EAAEvB,IAAIhB,GAAG,OAAOW,EAAAA,EAAAA,IAAEW,GAAEiB,GAAG,KAAKA,EAAE2N,YAAW5P,EAAAA,EAAAA,KAAG,KAAKgB,GAAE0S,OAAOzR,GAAGd,EAAEyQ,SAAS3P,GAAGA,EAAEuR,WAAW,KAAKrS,EAAEyQ,SAAS3P,GAAGA,EAAEmF,OAAO+P,OAAOlV,IAAItC,EAAAA,EAAEqQ,UAAU,0CAA0CpN,MAAM,kCAAkCX,EAAE,MAAMd,IAAI,CCA1F,IAAI8L,GAAE,cAAcjN,EAAAA,QAAE2F,WAAAA,CAAY1D,GAAG2D,MAAM3D,GAAG4D,KAAKuR,cAAc,IAAIlI,IAAIrJ,KAAKwR,qBAAqB,IAAI1L,EAAAA,EAAE9F,KAAKyR,wBAAwB,IAAI3L,EAAAA,EAAE9F,KAAK0R,uCAAuC,IAAIrI,IAAIrJ,KAAK2R,oBAAe,EAAO3R,KAAK4R,qBAAqB,IAAIvI,IAAIrJ,KAAK6R,eAAU,EAAO7R,KAAK8R,oBAAoB,IAAIzI,IAAIrJ,KAAK+R,kBAAkB,IAAI1I,IAAIrJ,KAAKgS,WAAW,IAAI3I,IAAIrJ,KAAKiS,wBAAwB,IAAI5I,IAAIrJ,KAAKkS,kBAAkB,IAAI7I,IAAIrJ,KAAKmS,+BAA+B,IAAI9I,IAAIrJ,KAAKoS,sBAAsB,IAAI/I,IAAIrJ,KAAKqS,KAAK,KAAKrS,KAAKsS,iBAAiB,IAAI,CAACxI,UAAAA,GAAa9J,KAAKuS,oBAAoBvS,KAAK+J,WAAW,EAAClQ,EAAAA,EAAAA,QAAG,IAAImG,KAAKqS,OAAO,KAAKrS,KAAKwS,4BAA4BxS,KAAKuS,mBAAmB,KAAI1Y,EAAAA,EAAAA,QAAG,IAAImG,KAAKsS,mBAAmB,KAAKtS,KAAKyS,mCAAmCzS,KAAK0S,6BAA6B,KAAK,CAAC/E,OAAAA,GAAU3N,KAAKwR,qBAAqB7D,UAAU3N,KAAKyR,wBAAwB9D,SAAS,CAAC,SAAI9D,GAAQ,OAAO7J,KAAKwR,qBAAqBmB,SAAS,UAAU3S,KAAK6R,UAAU,WAAW7R,KAAKyR,wBAAwBkB,SAAS,YAAY3S,KAAK2R,eAAe,SAAS,OAAO,CAAC,kBAAM/G,CAAaxO,GAAG,OAAO4D,KAAKyR,wBAAwBmB,WAAW5S,KAAK6S,sBAAsBzW,GAAG,CAAC,mBAAMoP,CAAcpP,EAAEjC,EAAEK,GAAG,OAAOwF,KAAKyR,wBAAwBmB,WAAW5S,KAAKsP,uBAAuBlT,EAAEjC,EAAEK,GAAG,CAAC,mBAAM0T,CAAc9R,GAAG,OAAO4D,KAAKyR,wBAAwBmB,WAAW5S,KAAK8S,uBAAuB1W,GAAG,CAAC,mBAAM0O,CAAc1O,EAAEjC,EAAEK,GAAG,OAAOwF,KAAKyR,wBAAwBmB,WAAW5S,KAAK+S,uBAAuB3W,EAAEjC,EAAEK,GAAG,CAAC,qBAAMiQ,CAAgBrO,GAAG,OAAO4D,KAAKyR,wBAAwBmB,WAAW5S,KAAKgT,yBAAyB5W,GAAG,CAAC,2BAAMyW,CAAsBzW,GAAG,GAAG,aAAa4D,KAAK6J,MAAM,MAAM7J,KAAKiT,UAAU,2CAA2CjT,KAAK6R,WAAW,IAAI/X,EAAAA,EAAE,2CAA2CkG,KAAK6R,WAAW7R,KAAKkT,qBAAqB,MAAM/Y,EAAE6F,KAAKoS,sBAAsBlJ,IAAI9M,EAAE+W,kBAAkB,IAAIhZ,EAAE,MAAM6F,KAAKiT,UAAU,gDAAgD,6BAA6B,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,IAAI3R,KAAK8R,oBAAoBrE,IAAIrR,EAAE+W,mBAAmBnT,KAAK8R,oBAAoB5I,IAAI9M,EAAE+W,mBAAmB,KAAK,MAAMnT,KAAKiT,UAAU,gDAAgD,+BAA+B,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,IAAI3R,KAAK0R,uCAAuCxI,IAAI9M,EAAE+W,kBAAkB,MAAMnT,KAAKiT,UAAU,gDAAgD,2CAA2C,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,MAAMwB,iBAAiB3Y,EAAEmU,kBAAkBtT,KAAKxB,GAAGuC,EAAEd,QAAQnB,EAAEyQ,aAAavP,EAAExB,GAAGyX,OAAOlV,IAAI,MAAM4D,KAAKoT,mBAAmBhX,GAAGA,CAAC,IAAI,aAAa4D,KAAKyK,gBAAgBjQ,GAAGc,CAAC,CAAC,4BAAMgU,CAAuBlT,EAAEjC,EAAEK,GAAG,GAAG,aAAawF,KAAK6J,MAAM,MAAM7J,KAAKiT,UAAU,2CAA2CjT,KAAK6R,WAAW,IAAI/X,EAAAA,EAAE,2CAA2CkG,KAAK6R,WAAW7R,KAAKkT,qBAAqB,MAAM7X,EAAE2E,KAAKoS,sBAAsBlJ,IAAI9M,GAAG,IAAIf,EAAE,MAAM2E,KAAKiT,UAAU,gDAAgD,6BAA6B,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,MAAM9X,EAAE,CAACI,KAAKE,EAAE0Q,KAAKrQ,GAAG,aAAaa,EAAEmQ,cAAc3R,GAAGyX,OAAOlV,IAAI,MAAM4D,KAAKoT,mBAAmBhX,GAAGA,CAAC,GAAG,CAACiX,uBAAAA,CAAwBjX,GAAG4D,KAAKwR,qBAAqBoB,WAAW,WAAWnK,GAAErM,EAAEkX,OAAOvH,SAAS3P,IAAI,MAAMjC,EAAEiC,EAAEmN,kBAAkB/O,EAAEwF,KAAKoS,sBAAsBlJ,IAAI/O,GAAGK,IAAIA,EAAEmP,iBAAiBzO,MAAMf,GAAGA,EAAE0S,kBAAkBzQ,EAAEyQ,mBAAmBrS,EAAEmP,iBAAiB4J,IAAInX,GAAG,IAAIqM,GAAErM,EAAEoX,SAASzH,SAAS3P,IAAI,MAAMjC,EAAEiC,EAAEmN,kBAAkB/O,EAAEwF,KAAKoS,sBAAsBlJ,IAAI/O,GAAG,IAAIK,EAAE,YAAYwF,KAAKiT,UAAU,gDAAgD,uCAAuC,MAAMnZ,EAAEU,EAAEmP,iBAAiBzO,MAAMf,GAAGA,EAAE0S,kBAAkBzQ,EAAEyQ,kBAAkB/S,GAAGU,EAAEmP,iBAAiB8J,OAAO3Z,EAAE,GAAI,EAA3gB,GAA+gB,CAAC,4BAAMgZ,CAAuB1W,GAAE,IAAAsX,EAAAC,EAAAC,EAAAC,EAAAC,EAAC,GAAG,aAAa9T,KAAK6J,MAAM,MAAM7J,KAAKiT,UAAU,2CAA2CjT,KAAK6R,WAAW,IAAI/X,EAAAA,EAAE,2CAA2CkG,KAAK6R,WAAW7R,KAAKkT,qBAAqB,MAAM/Y,EAAEiC,EAAE+W,iBAAiB3Y,EAAEwF,KAAKoS,sBAAsBlJ,IAAI/O,GAAG,IAAIK,EAAE,MAAMwF,KAAKiT,UAAU,gDAAgD,6BAA6B,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,MAAMtW,EAAE2E,KAAK0R,uCAAuCxI,IAAI9M,EAAE+W,kBAAkBtZ,EAAEmG,KAAKgS,WAAW9I,IAAI/O,GAAG4Z,cAAczY,EAAE0E,KAAKgU,eAAe5X,EAAE6X,WAAWpa,EAAa,QAAZ6Z,EAACtX,EAAE6X,iBAAS,IAAAP,OAAA,EAAXA,EAAahW,OAAOqW,cAAc,GAAGzY,IAAIzB,EAAE,CAAC,GAAGmG,KAAK8R,oBAAoB5I,IAAI/O,IAAI,KAAK,MAAM6F,KAAKiT,UAAU,gDAAgD,wBAAwB,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,IAAItW,EAAE,MAAM2E,KAAKiT,UAAU,gDAAgD,2CAA2C,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,eAAe,CAAC,IAAIjX,QAAyC,QAAvCiZ,EAAM3T,KAAKoS,sBAAsBlJ,IAAI/O,UAAE,IAAAwZ,OAAA,EAAjCA,EAAmClJ,mBAAmB,GAAG,SAAS,OAADnP,QAAC,IAADA,OAAC,EAADA,EAAGyY,gBAAe,YAAY3X,EAAEkS,YAAYyF,eAAgB,QAAHH,EAAElZ,SAAC,IAAAkZ,GAADA,EAAG1Y,MAAMf,GAAGA,EAAEwU,kBAAkB1U,KAAK8Z,iBAAiBzY,EAAE,IAAIc,EAAEkS,aAAayF,eAAe5Z,EAAEwU,kBAAkB1U,KAAK8Z,iBAAiBla,EAAE,IAAIuC,EAAEkS,aAAayF,gBAAgB,MAAM/T,KAAKiT,UAAU,gDAAgD,yBAAyB,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,MAAM3X,QAAQQ,EAAE8O,yBAAyB4E,cAAc,CAACI,YAAYlS,EAAEkS,YAAY3C,OAAOrQ,IAAIzB,EAAE,SAASuC,EAAEuP,OAAOuI,YAAY9X,EAAE8X,cAAc5C,OAAOlV,IAAI,MAAM4D,KAAKoT,mBAAmBhX,GAAGA,CAAC,IAAI,GAAGd,IAAIzB,EAAE,CAAC,MAAMgR,KAAKrQ,EAAEP,KAAKH,GAAGE,EAAE2U,kBAAkBtT,EAAE,CAAC8X,iBAAiBhZ,EAAEwU,kBAAkB,CAAC9D,KAAKrQ,EAAEP,KAAKH,GAAG6R,OAAOvP,EAAEuP,OAAOsI,UAAU3Y,SAAS0E,KAAK4K,aAAavP,IAAI2E,KAAK8K,cAAc3Q,EAAEN,EAAE,IAAIuC,EAAEkS,YAAYtU,EAAE2U,kBAAkB9D,KAAK,CAAC,aAAa7K,KAAKyK,gBAAgBtQ,GAAGO,QAAyC,QAAvCmZ,EAAM7T,KAAKoS,sBAAsBlJ,IAAI/O,UAAE,IAAA0Z,OAAA,EAAjCA,EAAmCpJ,mBAAoB,QAAFqJ,EAACpZ,SAAC,IAAAoZ,OAAA,EAADA,EAAG5Y,MAAMkB,GAAGA,EAAEuS,kBAAkB9D,OAAO7Q,EAAE2U,kBAAkB9D,MAAM,CAAC,4BAAMkI,CAAuB3W,EAAEjC,EAAEK,GAAG,GAAG,aAAawF,KAAK6J,MAAM,MAAM7J,KAAKiT,UAAU,2CAA2CjT,KAAK6R,WAAW,IAAI/X,EAAAA,EAAE,2CAA2CkG,KAAK6R,WAAW7R,KAAKkT,qBAAqB,MAAM7X,EAAE2E,KAAKoS,sBAAsBlJ,IAAI9M,GAAG,IAAIf,EAAE,MAAM2E,KAAKiT,UAAU,gDAAgD,6BAA6B,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,GAAG3R,KAAK8R,oBAAoB5I,IAAI9M,IAAI,KAAK,MAAM4D,KAAKiT,UAAU,gDAAgD,wBAAwB,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,IAAI3R,KAAK0R,uCAAuCxI,IAAI9M,GAAG,MAAM4D,KAAKiT,UAAU,gDAAgD,2CAA2C,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgB,MAAM9X,EAAE,CAACI,KAAKE,EAAE0Q,KAAKrQ,GAAG,aAAaa,EAAEyP,cAAcjR,GAAGyX,OAAOlV,IAAI,MAAM4D,KAAKoT,mBAAmBhX,GAAG,IAAItC,EAAAA,EAAE,gDAAgDkG,KAAK2R,eAAe,GAAG,CAAC,8BAAMqB,CAAyB5W,GAAE,IAAA+X,EAAAC,EAAAC,EAAC,GAAG,aAAarU,KAAK6J,MAAM,MAAM7J,KAAKiT,UAAU,2CAA2CjT,KAAK6R,WAAW,IAAI/X,EAAAA,EAAE,2CAA2CkG,KAAK6R,WAAW7R,KAAKkT,qBAAqB,MAAM/Y,EAAkC,QAAjCga,EAACnU,KAAK4R,qBAAqB1I,IAAI9M,UAAE,IAAA+X,OAAA,EAAhCA,EAAkC/K,eAAe,IAAIjP,EAAE,MAAM6F,KAAKiT,UAAU,gDAAgD,4BAA4B,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAAgBxX,EAAEma,cAAcna,EAAEoH,OAAO+P,OAAOlV,IAAI,MAAM4D,KAAKoT,mBAAmBhX,GAAGA,CAAC,IAAI,MAAM5B,EAAEL,EAAEkD,IAAI2C,KAAK8R,oBAAoB3I,IAAI3O,EAA8B,QAA7B4Z,EAAa,QAAbC,EAACla,EAAEsC,kBAAU,IAAA4X,OAAA,EAAZA,EAAc7K,sBAAc,IAAA4K,EAAAA,EAAE,GAAGpU,KAAK8R,oBAAoB5I,IAAI1O,IAAI,MAAMwF,KAAK0R,uCAAuCvI,IAAI3O,GAAE,GAAI,MAAMa,EAAE2E,KAAKgS,WAAW9I,IAAI9M,GAAG4D,KAAKuR,cAAcrI,IAAI9M,IAAIf,EAAE2E,KAAK0R,uCAAuCvI,IAAI3O,QAAQgL,EAAAA,EAAAA,GAAExF,KAAKuR,cAAcrI,IAAI9M,GAAGf,EAAE,eAAe2E,KAAK0R,uCAAuCvI,IAAI3O,GAAE,GAAI,MAAMX,EAAEmG,KAAKoS,sBAAsBlJ,IAAI9M,GAAG,IAAIvC,EAAE,MAAMmG,KAAKiT,UAAU,gDAAgD,6BAA6B,IAAInZ,EAAAA,EAAE,gDAAgDkG,KAAK2R,gBAA0F,OAA1E9X,EAAEya,cAAcza,EAAE0H,OAAO+P,OAAOlV,IAAI,MAAM4D,KAAKoT,mBAAmBhX,GAAGA,CAAC,UAAiBvC,EAAE4Q,iBAAgB,GAAI6G,OAAOlV,IAAI,MAAM4D,KAAKoT,mBAAmBhX,GAAGA,CAAC,GAAG,CAAC4X,cAAAA,CAAe5X,GAAG,OAAOA,GAAG,IAAIA,EAAEsB,OAAO+F,MAAM,CAACwP,SAAAA,CAAU7W,EAAEjC,GAAG,OAAOkB,EAAAA,EAAE8O,UAAUnK,MAAMjD,MAAM,IAAIjD,EAAAA,EAAEsC,EAAEjC,IAAIiC,GAAG,IAAI,2CAA2C4D,KAAKuU,cAAcpa,GAAG,MAAM,IAAI,gDAAgD6F,KAAKkT,mBAAmB/Y,GAAG,CAACiZ,kBAAAA,CAAmBhX,GAAG4D,KAAKiT,UAAU,gDAAgD7W,EAAEoY,QAAQ,CAAC,uBAAMjC,GAAoBvS,KAAKwR,qBAAqBoB,WAAW,WAAW,GAAG5S,KAAKuU,iBAAiBvU,KAAKqS,KAAK,YAAYrS,KAAKuU,cAAc,oBAAoB,GAAGvU,KAAKqS,MAAM,OAAOrS,KAAKqS,KAAK5W,KAAK,YAAYuE,KAAKiT,UAAU,2CAA2C,2BAA2BjT,KAAKyU,cAAc,qBAAqBzU,KAAK+J,WAAW,EAAClQ,EAAAA,EAAAA,QAAG,SAAA6a,EAAA,OAAa,QAAbA,EAAI1U,KAAKqS,YAAI,IAAAqC,OAAA,EAATA,EAAW7Z,GAAG,IAAG,KAAKmF,KAAKwS,4BAA4BxS,KAAK2U,iBAAiB3U,KAAKsS,iBAAiB,KAAK,qBAAqB,MAAMlW,QAAQ4D,KAAK4U,6BAA6B5U,KAAK2U,iBAAiBvY,EAAG,EAA5e,GAAgf,CAAC,sBAAMuY,CAAiBvY,GAAG4D,KAAKwR,qBAAqBoB,WAAW,WAAW5S,KAAKuU,gBAAgBvU,KAAKyU,cAAc,mCAAmCzU,KAAK+J,WAAW,EAACzO,EAAAA,EAAAA,KAAG,SAAAuZ,EAAA,OAAa,QAAbA,EAAI7U,KAAKqS,YAAI,IAAAwC,OAAA,EAATA,EAAWha,IAAIkS,SAAS,GAAE,UAAU3Q,KAAKA,EAAEkX,MAAM5X,MAAMoZ,IAAA,IAAErZ,KAAKW,GAAE0Y,EAAA,MAAG,YAAY1Y,CAAC,KAAIA,EAAEoX,QAAQ9X,MAAMqZ,IAAA,IAAEtZ,KAAKW,GAAE2Y,EAAA,MAAG,YAAY3Y,CAAC,KAAIA,EAAEkX,MAAM5X,MAAMsZ,IAAA,IAAEvZ,KAAKW,GAAE4Y,EAAA,MAAG,kBAAkB5Y,CAAC,KAAIA,EAAEoX,QAAQ9X,MAAMuZ,IAAA,IAAExZ,KAAKW,GAAE6Y,EAAA,MAAG,kBAAkB7Y,CAAC,OAAM4D,KAAKkV,uCAAuClV,KAAKmV,0BAA0BnV,KAAKsS,kBAAkBtS,KAAKqT,wBAAwBjX,GAAG,KAAId,EAAAA,EAAAA,KAAG,SAAA8Z,EAAA,OAAa,QAAbA,EAAIpV,KAAKqS,YAAI,IAAA+C,OAAA,EAATA,EAAWva,IAAIiS,SAAS,GAAE,UAAU1Q,KAAKA,EAAEkX,MAAM5X,MAAM2Z,IAAA,IAAE5Z,KAAKW,GAAEiZ,EAAA,MAAG,YAAYjZ,CAAC,KAAIA,EAAEoX,QAAQ9X,MAAM4Z,IAAA,IAAE7Z,KAAKW,GAAEkZ,EAAA,MAAG,YAAYlZ,CAAC,KAAIA,EAAEkX,MAAM5X,MAAM6Z,IAAA,IAAE9Z,KAAKW,GAAEmZ,EAAA,MAAG,kBAAkBnZ,CAAC,KAAIA,EAAEoX,QAAQ9X,MAAM8Z,IAAA,IAAE/Z,KAAKW,GAAEoZ,EAAA,MAAG,kBAAkBpZ,CAAC,OAAM4D,KAAKkV,uCAAuClV,KAAKmV,0BAA0BnV,KAAKsS,kBAAkBtS,KAAKqT,wBAAwBjX,GAAG,KAAK,yCAAyC4D,KAAKmV,0BAA0B/Y,EAAG,EAA35B,GAA+5B,CAAC,+BAAM+Y,CAA0B/Y,GAAG4D,KAAKwR,qBAAqBoB,WAAW,WAAW,MAAMzY,EAAEiC,GAAG,YAAYA,EAAEX,MAAMsR,UAAUvS,EAAEsS,UAAUhT,GAAGkG,KAAKqS,KAAKxX,IAAI,GAAGmF,KAAKuU,gBAAgBvU,KAAK4R,qBAAqB5W,EAAE,IAAIR,EAAE8H,OAAOnI,MAAML,EAAEwI,OAAOnI,KAAK6F,KAAK4R,qBAAqBjF,KAAK,CAAC3M,KAAKyV,4BAA4BrZ,GAAG4D,KAAK+R,kBAAkB,IAAI1I,IAAI,IAAI,MAAMjN,KAAK4D,KAAK4R,qBAAqB8D,SAAS,CAAC,MAAMtM,eAAejP,EAAEiP,gBAAgB/L,IAAI7C,IAAI4B,EAAE,IAAI4D,KAAK+R,kBAAkBtE,IAAIjT,GAAG,KAAAmb,EAAC,GAAGxb,EAAEma,cAAcna,EAAEoH,OAAO+P,OAAOlV,IAAIf,EAAAA,EAAE8O,UAAUnK,MAAMjD,MAAMX,EAAE,KAAKjC,EAAEuG,4BAA4B,CAACV,KAAK4R,qBAAqB/D,OAAOrT,GAAG,QAAQ,CAAC,MAAM4B,QAAQhB,EAAAA,EAAAA,IAAEZ,GAAGV,EAAE,IAAIqB,EAAAA,EAAE,CAAC+L,SAAS,YAAY7J,IAAIjB,UAAUtC,EAAEyH,OAAO+P,OAAOlV,IAAIf,EAAAA,EAAE8O,UAAUnK,MAAMjD,MAAMX,EAAE,IAAI,MAAMvC,EAAQ,QAAP8b,EAAC7b,EAAE0C,YAAI,IAAAmZ,OAAA,EAANA,EAAQ7Y,SAAS,IAAI3C,EAAEma,SAASxa,EAAEwa,SAASza,EAAE,SAASmG,KAAK+R,kBAAkB5I,KAAIzO,EAAAA,EAAAA,IAAEF,GAAGA,EAAEqB,MAAM,KAAK2Q,IAAI,IAAIxM,KAAKgS,WAAW7I,IAAI3O,EAAEX,GAAGmG,KAAKuR,cAAcpI,IAAI3O,EAAEV,EAAE,CAAC,CAACkG,KAAKyU,cAAc,mCAAmCrY,EAAE2P,SAAS3P,GAAG4D,KAAK4V,mCAAmCxZ,WAAW4D,KAAK6V,wBAAwBzZ,GAAG4D,KAAKsS,iBAAiBlW,CAAC,MAAM4D,KAAKiT,UAAU,2CAA2C,sBAAuB,EAAjkC,GAAqkC,CAACwC,2BAAAA,CAA4BrZ,GAAG,IAAI,MAAMjC,KAAKiC,EAAE,CAAC,MAAMA,EAAEjC,EAAEoP,kBAAkB,IAAIvJ,KAAK4R,qBAAqBnE,IAAIrR,GAAG,CAAC,MAAM5B,EAAE,IAAIH,EAAE,CAACgD,IAAIjB,IAAItC,EAAEK,EAAEwP,iBAAiB6F,UAAU7U,SAASyB,GAAG,YAAYA,EAAEX,KAAK,KAAKW,EAAEyQ,kBAAkB7M,KAAK4R,qBAAqBzI,IAAI/M,EAAE,CAACgN,eAAe5O,EAAEiG,OAAO3G,GAAG,CAAC,CAAC,CAAC,6BAAM+b,CAAwBzZ,GAAG,IAAI,MAAMjC,KAAK6F,KAAK4R,qBAAqB8D,SAAS,CAAC,MAAM5b,EAAEK,EAAEiP,eAAe,GAAItP,EAAE4G,4BAAN,CAA2C,IAAItE,EAAElB,MAAMkB,GAAGA,EAAEmN,oBAAoBzP,EAAEuD,OAAOvD,EAAE4G,4BAA4B,CAAC,MAAMrF,EAAE,IAAIb,EAAAA,EAAEiO,GAAEtO,EAAEsG,SAAS5G,EAAE,IAAIe,EAAE,CAAC0O,yBAAyB,IAAI/N,GAAE,CAAC8B,IAAIvD,EAAE4G,8BAA8BiJ,iBAAiBtO,IAAIe,EAAEmX,IAAI1Z,GAAGmG,KAAK4V,mCAAmC/b,EAAE,OAAOmG,KAAKyK,gBAAgB3Q,EAAEuD,IAA5R,CAAgS,CAAC,CAAC,0BAAMuX,GAAuB,OAAO5U,KAAKsS,kBAAkBtS,KAAKsS,iBAAiB7O,OAAOzD,KAAKsS,iBAAiBtS,KAAKqS,WAAW3M,GAAE1F,KAAKqS,MAAK,IAAKrS,KAAKiT,UAAU,2CAA2C,oBAAoB,IAAIzY,EAAAA,EAAE,CAACob,kCAAAA,CAAmCxZ,GAAE,IAAA0Z,EAAC9V,KAAKoS,sBAAsBjJ,IAAI/M,EAAEmN,kBAAkBnN,GAAG4D,KAAK+V,6BAA6B3Z,GAAG4D,KAAKiS,wBAAwB9I,IAAI/M,EAAEmN,kBAAsC,QAArBuM,EAAC1Z,EAAEqN,0BAAkB,IAAAqM,OAAA,EAApBA,EAAsBnH,mBAAmB3O,KAAKmS,+BAA+BhJ,IAAI/M,EAAEmN,kBAAkBnN,EAAEkN,yBAAyB,CAAC,iCAAMoJ,GAA8B1S,KAAKwR,qBAAqBoB,WAAW,WAAW5S,KAAKsS,mBAAmBtS,KAAKyU,cAAc,mCAAmCzU,KAAKyV,4BAA4BzV,KAAKsS,kBAAkBtS,KAAKsS,iBAAiBvG,SAAS3P,GAAG4D,KAAK4V,mCAAmCxZ,WAAW4D,KAAK6V,wBAAwB7V,KAAKsS,kBAAmB,EAA3R,GAA+R,CAACyD,4BAAAA,CAA6B3Z,GAAG4D,KAAK+J,WAAW,EAAClQ,EAAAA,EAAAA,QAAG,IAAIuC,EAAEsN,eAAe,KAAK1J,KAAKkS,kBAAkB/I,IAAI/M,EAAEmN,kBAAkBnN,EAAEsN,aAAa,KAAI7P,EAAAA,EAAAA,QAAG,SAAAmc,EAAA,OAAwB,QAAxBA,EAAI5Z,EAAEqN,0BAAkB,IAAAuM,OAAA,EAApBA,EAAsBrH,iBAAiB,IAAG,KAAI,IAAAsH,EAACjW,KAAKiS,wBAAwB9I,IAAI/M,EAAEmN,kBAAsC,QAArB0M,EAAC7Z,EAAEqN,0BAAkB,IAAAwM,OAAA,EAApBA,EAAsBtH,kBAAkB,KAAK,kCAAkC,CAAC8D,gCAAAA,GAAmCzS,KAAKiS,wBAAwB,IAAI5I,IAAIrJ,KAAKkS,kBAAkB,IAAI7I,IAAIrJ,KAAKmS,+BAA+B,IAAI9I,IAAIrJ,KAAKoS,sBAAsB,IAAI/I,GAAG,CAACmJ,yBAAAA,GAA4BxS,KAAKuR,cAAc,IAAIlI,IAAIrJ,KAAK0R,uCAAuC,IAAIrI,IAAIrJ,KAAK8R,oBAAoB,IAAIzI,IAAIrJ,KAAKgS,WAAW,IAAI3I,IAAIrJ,KAAKsS,iBAAiB,IAAI9X,EAAAA,EAAEwF,KAAKyS,mCAAmCzS,KAAKkV,sCAAsC,CAACA,oCAAAA,GAAuClV,KAAK4R,qBAAqB,IAAIvI,IAAIrJ,KAAK+R,kBAAkB,IAAI1I,GAAG,CAAC6J,kBAAAA,CAAmB9W,GAAG4D,KAAKkE,KAAK,iBAAiB9H,EAAE,CAACmY,aAAAA,CAAcnY,GAAG4D,KAAKkE,KAAK,YAAY9H,EAAE,IAAGA,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,qBAAgB,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,8CAAyC,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,IAAE,CAAC6O,UAAS,KAAMzB,GAAEwB,UAAU,sBAAiB,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,4BAAuB,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,IAAE,CAAC6O,UAAS,KAAMzB,GAAEwB,UAAU,iBAAY,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,2BAAsB,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,yBAAoB,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,IAAE,CAAC6O,UAAS,KAAMzB,GAAEwB,UAAU,QAAQ,OAAMxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,kBAAa,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,+BAA0B,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,yBAAoB,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,sCAAiC,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,6BAAwB,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,YAAO,IAAQxM,EAAAA,EAAAA,GAAE,EAACpC,EAAAA,EAAAA,OAAKoN,GAAEwB,UAAU,wBAAmB,GAAQxB,IAAEhL,EAAAA,EAAAA,GAAE,EAACrB,EAAAA,EAAAA,GAAE,8DAA8DqM,IAAG,MAAMV,GAAEU,E","sources":["../node_modules/@arcgis/core/layers/support/infoFor3D.js","../node_modules/@arcgis/core/portal/support/utils.js","../node_modules/@arcgis/core/rest/featureService/FeatureService.js","../node_modules/@arcgis/core/rest/featureService/utils.js","../node_modules/@arcgis/core/versionManagement/VersioningState.js","../node_modules/@arcgis/core/versionManagement/support/EditMomentStack.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/FeatureLayerVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/NetworkVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/SubTypeGroupLayerVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/utils.js","../node_modules/@arcgis/core/versionManagement/VersionManagementService.js","../node_modules/@arcgis/core/versionManagement/utils.js","../node_modules/@arcgis/core/widgets/VersionManagement/VersionManagementViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n=[[\"binary\",\"application/octet-stream\",\"bin\",\"\"]];function t(n,t){return null!=d(t.name,n?.supportedFormats??[])}function r(n,t){if(!n)return!1;const r=c(t,n.supportedFormats??[]);return null!=r&&n.editFormats.includes(r)}function o(n){return a(n?.supportedFormats??[]).flatMap(w).map((n=>`.${n}`))}function e(n){const t={};for(const r of a(n?.supportedFormats??[])){const[n,o]=l(r).split(\";\"),e=n.trim().toLowerCase(),u=w(r).map((n=>`.${n}`));t[e]??=[],t[e].push(...u)}return{description:\"3D Models\",accept:t}}function u(n,t){return m(p(n,t))}function i(n,t){return m(d(n,t))}function s(n,t){return l(f(n,t))}function c(n,t){return i(n.name,t)??u(n.type,t)}function a(t){return[...n,...t]}function f(n,t){return a(t).find((t=>m(t)===n))}function p(n,t){const r=n.toLowerCase();return a(t).find((n=>l(n)===r))}function d(n,t){const r=n.toLowerCase();return a(t).find((n=>w(n).some((n=>r.endsWith(n)))))}function m(n){return n?.[0]}function l(n){return n?.[1].toLowerCase()}function w(n){return n?.[2].split(\",\").map((n=>n.toLowerCase()))??[]}function C(n){return n?.[3]}function F(n){return n.tables?.find((n=>\"assetMaps\"===n.role))}export{F as getAssetMapTable,c as getFileFormatId,e as getFilePickerAcceptType,i as getFilenameFormatId,C as getFormatDescription,w as getFormatExtensions,m as getFormatId,s as getFormatIdMimeType,l as getFormatMimeType,u as getMimeTypeFormatId,o as getSupportedExtensions,r as isFileEditFormat,t as isFileSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import r from\"../../request.js\";async function n(n,t,s){const u=e?.findCredential(n.restUrl);if(!u)return null;if(\"loaded\"===n.loadStatus&&\"\"===t&&n.user?.sourceJSON&&!1===s)return n.user.sourceJSON;const o={responseType:\"json\",query:{f:\"json\"}};if(s&&(o.query.returnUserLicenseTypeExtensions=!0),\"\"===t){const e=await r(n.restUrl+\"/community/self\",o);if(e.data){const r=e.data;if(r?.username)return r}return null}const i=await r(n.restUrl+\"/community/users/\"+t,o);if(i.data){const e=i.data;return e.error?null:e}return null}async function t(e,r,t){const s=await n(e,r,!0);return s?.userLicenseTypeExtensions?.includes(t)??!1}export{t as hasUserTypeExtension,n as lookupUser};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../config.js\";import{id as s}from\"../../kernel.js\";import r from\"../../request.js\";import{isSome as i}from\"../../core/arrayUtils.js\";import a from\"../../core/Error.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{JSONSupportMixin as n}from\"../../core/JSONSupport.js\";import{clone as l}from\"../../core/lang.js\";import u from\"../../core/Loadable.js\";import{throwIfAborted as p,throwIfAbortError as d}from\"../../core/promiseUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{reader as m}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import f from\"../../geometry/SpatialReference.js\";import{getFeatureJSON as h,getFeatureIds as g,getAttachmentEditsJSON as v,isProtectedOrPrivateVersionError as b,unpackEditResultData as S,createEditedFeatures as E}from\"../../layers/graphics/applyEditsUtils.js\";import{checkEditingCapabilities as j,normalizeEdits as w,normalizeGeometries as F}from\"../../layers/graphics/editingSupport.js\";import{emitApplyEditsEvent as I}from\"../../layers/mixins/EditBusLayer.js\";import{ensureCredentialIfSignedIn as R}from\"../../layers/support/featureLayerUtils.js\";import{getOwningPortalUrl as A}from\"../../layers/support/layerUtils.js\";import{getFeatureLayerCapabilities as C}from\"../../layers/support/serviceCapabilitiesUtils.js\";import U from\"../../portal/PortalItem.js\";import{getUserPrivileges as P}from\"../../portal/support/portalItemUtils.js\";import{parseUrl as O,asValidOptions as k,encode as T}from\"../utils.js\";import{unapplyEditsZUnitScaling as V}from\"../query/operations/editsZScale.js\";import{readBoolean as D,readNumber as N}from\"../support/jsonUtils.js\";import{isSafeToEditVersion as L,isVersionInEditSession as M,currentSessionId as _}from\"../../versionManagement/support/versionManagementUtils.js\";function x(e,t){const s=t.id;return{id:s,name:t.name,url:`${e}/${s}`,type:t.type||\"Table\"}}function Q(e){return{data:J(e),sync:$(e),operations:q(e.capabilities,e),query:W(e),editing:H(e)}}function J(e){return{isDataVersioned:D(e,\"hasVersionedData\",!1)}}function q(e,t){const s=e?e.toLowerCase().split(\",\").map((e=>e.trim())):[],r=s.includes(\"query\"),i=s.includes(\"editing\")&&!t.datesInUnknownTimezone;let a=i&&s.includes(\"create\"),o=i&&s.includes(\"delete\"),n=i&&s.includes(\"update\");return i&&!(a||o||n)&&(a=o=n=!0),{supportsAdd:a,supportsDelete:o,supportsEditing:i,supportsChangeTracking:s.includes(\"changetracking\"),supportsQuery:r,supportsQueryDataElements:D(t,\"supportsQueryDataElements\",!1),supportsQueryDomains:D(t,\"supportsQueryDomains\",!1),supportsQueryContingentValues:D(t,\"supportsQueryContingentValues\",!1),supportsSync:s.includes(\"sync\"),supportsUpdate:n}}function W(e){return{maxRecordCountFactor:N(e,\"maxRecordCountFactor\",void 0),maxRecordCount:N(e,\"maxRecordCount\",void 0)}}function H(e){const t=e?.advancedEditingCapabilities;return{supportsGlobalId:D(e,\"supportsApplyEditsWithGlobalIds\",!1),supportsReturnServiceEditsInSourceSpatialReference:D(t,\"supportsReturnServiceEditsInSourceSR\",!1),supportsSplit:D(t,\"supportsSplit\",!1),supportsAsyncApplyEdits:D(t,\"supportsAsyncApplyEdits\",!1)}}function $(e){const t=e?.syncCapabilities,s=t?.supportedSyncDataOptions;return{supportsAsync:D(t,\"supportsAsync\",!1),supportedSyncDataOptions:{annotations:!(1&~s),dimensions:!(2&~s),contingentValues:!(4&~s),attributeRules:!(8&~s),utilityNetworkSystem:!(16&~s),annotationFullModel:!(32&~s),include3DObjects:!(64&~s),utilityNetworkMissingLayers:!(128&~s),preserveTrueCurves:!(256&~s)}}}let G=class extends(n(o(u))){constructor(e){super(e),this.url=null,this.sourceJSON=null,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1,this.userTypeExtensions=[],this.layerInfos=null,this.tableInfos=null,this.capabilities=null}read(e,t){this.sourceJSON=e,super.read(e,t)}get utilityNetworkUrl(){if(this.sourceJSON)for(const e of this.sourceJSON.layers)if(\"Utility Network Layer\"===e.type)return`${this.url}/${e.id}`;return null}get versionManagementServiceUrl(){return this.sourceJSON?.hasBranchVersionedData?this.url.replace(/\\/FeatureServer/i,\"/VersionManagementServer\"):null}readLayerInfos(e,t){return(t.layers||[]).map((e=>{const{type:t,geometryType:s}=e;return{...x(this.url,e),type:t||\"Feature Layer\",geometryType:s}}))}readTableInfos(e,t){return(t.tables||[]).map((e=>x(this.url,e)))}readCapabilities(e,t){return Q(t)}get effectiveCapabilities(){const e=this.capabilities;if(!e)return null;const t=l(e),{operations:s}=t;return this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=!0,t):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=!0),t)}load(e){return this.addResolvingPromise(this._fetchService(this.url,e).then((()=>this._setUserPrivileges(e)))),Promise.resolve(this)}async fetchAllLayersAndTables(e){return await this.load(e),this._fetchLayersAndTablesPromise||=this._fetchLayersAndTables(this.url),p(e),this._fetchLayersAndTablesPromise}async applyEdits(e,t){let s=null;try{const{results:r,edits:i,editedFeatures:a}=await this._internalApplyEdits(e,t),o=e=>e.filter((e=>!e.error)).map(l);let n=0;return r.map((e=>{s=I(this.url,e.id,t?.gdbVersion,!0);const r={edits:i[n],addedFeatures:o(e.addFeatureResults),updatedFeatures:o(e.updateFeatureResults),deletedFeatures:o(e.deleteFeatureResults),addedAttachments:o(e.addAttachmentResults),updatedAttachments:o(e.updateAttachmentResults),deletedAttachments:o(e.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:e.editMoment?new Date(e.editMoment):null};n+=1,a.length>0&&(r.editedFeatures=a),s.resolve(r),s=null})),r}catch(r){throw s&&s.reject(r),r}}async _setUserPrivileges(e){if(t.userPrivilegesApplied)try{const{features:{fullEdit:t},content:{updateItem:s}}=await this._fetchUserPrivileges(this.sourceJSON.serviceItemId,e);this._set(\"userHasFullEditingPrivileges\",t),this._set(\"userHasUpdateItemPrivileges\",s)}catch(s){d(s)}}async _fetchUserPrivileges(e,t){const r=!0,i=!1,a=!1;if(!e)return{features:{edit:r,fullEdit:i},content:{updateItem:a}};let o,n,l;try{o=await A(this.url,t)}catch(u){d(u)}try{const e=null!=t?t.signal:null;n=await(s?.getCredential(`${o}/sharing`,{prompt:!1,signal:e}))}catch(u){d(u)}if(!n)return{features:{edit:r,fullEdit:i},content:{updateItem:a}};try{if(l=new U({id:e,portal:{url:o}}),await l.load(t),l.portal.user)return P(l)}catch(u){d(u)}return{features:{edit:r,fullEdit:i},content:{updateItem:a}}}async _internalApplyEdits(e,t){await R(this.url);const s=t?.globalIdUsed??!1,a=f.fromJSON(this.sourceJSON.spatialReference),{edits:o,options:n}=await this._processApplyEditsParams(e,t),l=await Promise.all(o.map((async e=>{const t=e.addFeatures?.map((e=>h({spatialReference:a},e,null)))??[],r=(await Promise.all(t)).filter(i),o=r.length>0?r:null,n=e.updateFeatures?.map((e=>h({spatialReference:a},e,null)))??[],l=(await Promise.all(n)).filter(i),u=l.length>0?l:null,p=g(e.identifierFields,e.deleteFeatures,s),d=p.length>0?p:null;V(o,u,a);const c=await v(e.identifierFields,e);let m=null;if(c){m={adds:c.adds.length>0?c.adds:void 0,updates:c.updates.length>0?c.updates:void 0,deletes:c.deletes.length>0?c.deletes:void 0}}return{id:e.id,adds:o,updates:u,deletes:d,attachments:m}}))),u={gdbVersion:n?.gdbVersion,rollbackOnFailure:!0,useGlobalIds:s,returnEditMoment:!0,honorSequenceOfEdits:n?.honorSequenceOfEdits,usePreviousEditMoment:n?.usePreviousEditMoment,returnServiceEditsInSourceSR:!1,returnServiceEditsOption:\"originalAndCurrentFeatures\",async:!1};await L(this.url,t?.gdbVersion,!0);const p=M(this.url,t?.gdbVersion||null);u.edits=JSON.stringify(l);const d=O(this.url),c=k(d.query,{query:T({...u,f:\"json\"}),method:\"post\"});let m;p&&(c.authMode=\"immediate\",c.query.sessionId=_);try{m=await r(this.url+\"/applyEdits\",c)}catch(y){if(!b(y))throw y;c.authMode=\"immediate\",m=await r(this.url+\"/applyEdits\",c)}return{...z(m),edits:o}}async _processApplyEditsParams(e,t){const s={...t};return{edits:await Promise.all(e.map((async e=>{const s=this.effectiveCapabilities,r=e&&(e.addFeatures||e.updateFeatures||e.deleteFeatures),i=e&&(e.addAttachments||e.updateAttachments||e.deleteAttachments);if(j(e,s,t,!!r,!!i,\"feature-service\"),!s.data.isDataVersioned&&t?.gdbVersion)throw new a(\"feature-service:invalid-parameter\",\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");const o=w(e,s,\"feature-service\");return{...await F(o),id:e.id,identifierFields:e.identifierFields}}))),options:s}}async _fetchService(e,t){if(this.sourceJSON)return void this.read(this.sourceJSON,{url:O(e)});const s=await r(e,{responseType:\"json\",query:{f:\"json\"},...t});this.read(s.data,{url:O(e)})}async _fetchLayersAndTables(e){const t=`${e}/layers`,s=await r(t,{responseType:\"json\",query:{f:\"json\"}});return{layers:s.data.layers.map((e=>{const{type:t,geometryType:s}=e,r=x(this.url,e),i=C(e,r.url);return{...r,type:t||\"Feature Layer\",geometryType:s,capabilities:i}})),tables:s.data.tables.map((e=>{const t=x(this.url,e),s=C(e,t.url);return{...t,capabilities:s}}))}}};function z(e){const t=e.data,s=[];return{results:t.map((e=>{const t={addResults:e.addResults??[],updateResults:e.updateResults??[],deleteResults:e.deleteResults??[],attachments:e.attachments,editMoment:e.editMoment},r=S(t),i=e.editedFeatures,a=i?.spatialReference?new f({wkid:i?.spatialReference.wkid,wkt:i?.spatialReference.wkt,latestWkid:i?.spatialReference.latestWkid,latestVcsWkid:i?.spatialReference.latestVcsWkid,vcsWkid:i?.spatialReference.vcsWkid}):null,o=i?E(i,a):null;return o&&s.push({layerId:e.id,editedFeatures:o}),{id:e.id,editedFeatures:o,...r}})),editedFeatures:s}}e([c()],G.prototype,\"url\",void 0),e([c()],G.prototype,\"sourceJSON\",void 0),e([c()],G.prototype,\"userHasFullEditingPrivileges\",void 0),e([c()],G.prototype,\"userHasUpdateItemPrivileges\",void 0),e([c({readOnly:!0})],G.prototype,\"utilityNetworkUrl\",null),e([c({readOnly:!0})],G.prototype,\"versionManagementServiceUrl\",null),e([c()],G.prototype,\"userTypeExtensions\",void 0),e([c({json:{read:{source:[\"layers\"]}}})],G.prototype,\"layerInfos\",void 0),e([m(\"layerInfos\",[\"layers\"])],G.prototype,\"readLayerInfos\",null),e([c({json:{read:{source:[\"tables\"]}}})],G.prototype,\"tableInfos\",void 0),e([m(\"tableInfos\",[\"tables\"])],G.prototype,\"readTableInfos\",null),e([c({readOnly:!0,json:{read:{source:[\"hasVersionedData\",\"capabilities\",\"supportsQueryDataElements\",\"supportsQueryDomains\",\"supportsQueryContingentValues\",\"maxRecordCountFactor\",\"maxRecordCount\",\"advancedEditingCapabilities\",\"supportsApplyEditsWithGlobalIds\",\"syncCapabilities\",\"datesInUnknownTimezone\"]}}})],G.prototype,\"capabilities\",void 0),e([m(\"capabilities\",[\"hasVersionedData\",\"capabilities\",\"supportsQueryDataElements\",\"supportsQueryDomains\",\"supportsQueryContingentValues\",\"maxRecordCountFactor\",\"maxRecordCount\",\"advancedEditingCapabilities\",\"supportsApplyEditsWithGlobalIds\",\"syncCapabilities\",\"datesInUnknownTimezone\"])],G.prototype,\"readCapabilities\",null),e([c({readOnly:!0})],G.prototype,\"effectiveCapabilities\",null),G=e([y(\"esri.rest.featureService.FeatureService\")],G);const B=G;export{B as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{parse as e}from\"../../layers/support/arcgisLayerUrl.js\";import r from\"./FeatureService.js\";const t=(s,o)=>{for(const u of s)if(\"feature\"===u.type||\"subtype-group\"===u.type){if(!u.url)continue;const t=e(u.url).url.path,s=o.get(t);if(s)s.layers.push(u);else{const e=new r({url:t}),s=[u];o.set(t,{featureService:e,layers:s})}}else\"group\"===u.type&&t(u.layers,o)};function s(e){const r=new Map;return t(e,r),r}export{s as createFeatureServices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Collection.js\";import r from\"../core/Error.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import i from\"../core/Loadable.js\";import n from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";let c=class extends(s(i)){constructor(e){super(e),this.versionManagementService=null,this.featureServiceUrl=null,this.url=null,this.currentVersion=null,this.currentVersionInfo=null,this.versionInfos=[],this.versionableItems=new t,this.usePersistentReadSessions=!1,this.state=\"lock-none\"}initialize(){this.url=this.versionManagementService.url,this.featureServiceUrl=this.url.replace(/\\/VersionManagementServer/i,\"/FeatureServer\"),this.addHandles([this.versionableItems.on(\"before-add\",(e=>{if(e.item.featureServiceUrl.toLowerCase()!==this.featureServiceUrl.toLowerCase())return e.preventDefault(),void n.getLogger(this).error(\"#add()\",\"Cannot add versionAdapter, feature service urls do not match.\")})),this.versionableItems.on(\"before-remove\",(e=>{if(0===this.versionableItems.items.length&&this.currentVersion&&\"name\"in this.currentVersion&&\"none\"!==this.versionManagementService.getLockType(this.currentVersion))return e.preventDefault(),void n.getLogger(this).error(\"#remove()\",\"Cannot remove last versionAdapter.\")}))])}load(e){return this.addResolvingPromise(this._setUpState(e)),Promise.resolve(this)}get defaultVersionIdentifier(){return this.versionManagementService.defaultVersionIdentifier}get isDefault(){return!this.currentVersion||!!this.currentVersion&&\"name\"in this.currentVersion&&this.currentVersion.name===this.defaultVersionIdentifier.name}async getVersionInfos(e=!1){return e&&(this.versionInfos=await this.versionManagementService.getVersionInfos()),this.versionInfos}async alterVersion(e,t){if(this.currentVersion&&\"guid\"in this.currentVersion&&e.guid===this.currentVersion.guid)return!1;const r=await this.versionManagementService.alterVersion(e,t);return r&&await this.getVersionInfos(!0),r}async deleteVersion(e){if(this.currentVersion&&\"guid\"in this.currentVersion&&e.guid===this.currentVersion.guid)return!1;const t=await this.versionManagementService.deleteVersion(e);return t&&await this.getVersionInfos(!0),t}async getVersionInfoExtended(){return this.currentVersion&&\"name\"in this.currentVersion?this.versionManagementService.getVersionInfoExtended(this.currentVersion):this.versionManagementService.getVersionInfoExtended(this.defaultVersionIdentifier)}async startEditing(){if(this._isDefaultOrHistoricVersion())return{success:!1};if(!this.usePersistentReadSessions){const e=await this.versionManagementService.startReadingWithResult(this.currentVersion);if(!e.success)return e;this.state=\"lock-read\"}const e=await this.versionManagementService.startEditingWithResult(this.currentVersion);return e.success&&(this.state=\"lock-write\"),e}async stopEditing(e){if(this._isDefaultOrHistoricVersion())return{success:!1};const t=await this.versionManagementService.stopEditingWithResult(this.currentVersion,e);if(!t.success)return t;if(this.state=\"lock-read\",!this.usePersistentReadSessions){const e=await this.versionManagementService.stopReadingWithResult(this.currentVersion);return e.success&&(this.state=\"lock-none\"),e}return t}async changeVersion(e){let t=null;if(this.usePersistentReadSessions){if(this._isDefaultOrHistoricVersion(e))e&&\"name\"in e?(t=await this.versionManagementService.getVersionInfoExtended(e),this.state=\"public\"===t?.access?\"lock-none\":\"lock-read\"):this.state=\"lock-read\";else if(!await this.versionManagementService.startReading(e))throw new r(\"Failed to acquire read lock for version: \"+e);this._isDefaultOrHistoricVersion(this.currentVersion)||await this.versionManagementService.stopReading(this.currentVersion)}const s=await this.versionManagementService.changeVersionWithResult(this.versionableItems,this.currentVersion,e);let i=!1;return s.forEach(((e,t)=>{i=i||e.success})),i&&(this.currentVersion=e,this.currentVersionInfo=t||await this.getVersionInfoExtended(),this._isDefaultOrHistoricVersion()?this.currentVersion&&\"name\"in this.currentVersion?this.state=\"public\"===this.currentVersionInfo?.access?\"lock-none\":\"lock-read\":this.state=\"lock-read\":this.state=\"read\"!==this.versionManagementService.getLockType(this.currentVersion)?\"lock-none\":\"lock-read\"),s}async undo(){return this._isDefaultOrHistoricVersion()?{success:!1}:(this.versionManagementService.undo(this.currentVersion),{success:!0})}async redo(){return this._isDefaultOrHistoricVersion()?{success:!1}:(this.versionManagementService.redo(this.currentVersion),{success:!0})}async _setUpState(e){await this.versionManagementService.load(e),this.state=\"lock-none\",this.currentVersionInfo=await this.getVersionInfoExtended(),this.versionableItems.forEach((e=>{this.currentVersion?\"name\"in this.currentVersion?(e.gdbVersion=this.currentVersion.name,e.historicMoment=null):(e.historicMoment=this.currentVersion,e.gdbVersion=null):(e.gdbVersion=null,e.historicMoment=null)})),this.usePersistentReadSessions&&(this._isDefaultOrHistoricVersion()?this.currentVersion&&\"name\"in this.currentVersion?this.state=\"public\"===this.currentVersionInfo?.access?\"lock-none\":\"lock-read\":this.state=\"lock-read\":await this.versionManagementService.startReading(this.currentVersion)&&(this.state=\"lock-read\"))}_isDefaultOrHistoricVersion(e=this.currentVersion){return!(e&&\"name\"in e)||e.name===this.versionManagementService.defaultVersionIdentifier.name}};e([o()],c.prototype,\"versionManagementService\",void 0),e([o()],c.prototype,\"featureServiceUrl\",void 0),e([o()],c.prototype,\"url\",void 0),e([o()],c.prototype,\"currentVersion\",void 0),e([o()],c.prototype,\"currentVersionInfo\",void 0),e([o()],c.prototype,\"versionInfos\",void 0),e([o()],c.prototype,\"versionableItems\",void 0),e([o()],c.prototype,\"usePersistentReadSessions\",void 0),e([o()],c.prototype,\"state\",void 0),e([o({readOnly:!0})],c.prototype,\"defaultVersionIdentifier\",null),e([o({readOnly:!0})],c.prototype,\"isDefault\",null),c=e([a(\"esri.versionManagement.VersioningState\")],c);const u=c;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.moments=[],this.forwardMoments=[],this.moments.push(t)}push(t){return this.forwardMoments.length,this.moments.push(t)}pop(){if(!(this.forwardMoments.length>0))return this.moments.pop()}undo(){if(!this.canUndo())return;const t=this.moments.pop();return this.forwardMoments.push(t),t}peek(){return this.moments.at(-1)}canUndo(){return this.moments.length>1}canRedo(){return this.hasForwardEdits()}redo(){if(!this.canRedo())return;const t=this.forwardMoments.pop();return this.moments.push(t),t}size(){return this.moments.length+this.forwardMoments.length}hasForwardEdits(){return this.forwardMoments.length>0}clearForwardEdits(){this.forwardMoments=[]}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"featureLayer\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){const e=/^(.*\\/FeatureServer)\\/\\d+$/;return this.versionableItem.url.replace(e,\"$1\")}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as FeatureLayerVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"network\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){return this.versionableItem.featureServiceUrl}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as NetworkVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"subtypeGroupLayer\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){const e=/^(.*\\/FeatureServer)\\/\\d+$/;return this.versionableItem.url.replace(e,\"$1\")}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as SubTypeGroupLayerVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isLayerFromCatalog as e}from\"../../layers/catalog/catalogUtils.js\";import{FeatureLayerVersionAdapter as r}from\"./FeatureLayerVersionAdapter.js\";import{NetworkVersionAdapter as t}from\"./NetworkVersionAdapter.js\";import{SubTypeGroupLayerVersionAdapter as o}from\"./SubTypeGroupLayerVersionAdapter.js\";function n(n){return\"networkServiceUrl\"in n?new t(n):\"feature\"!==n.type||e(n)?\"subtype-group\"!==n.type||e(n)?null:new o(n):new r(n)}function p(e){const r=[];for(const t of e)if(\"group\"===t.type){const e=t,o=e.allTables.concat(e.allLayers);for(const t of o)if(\"feature\"===t.type||\"subtype-group\"===t.type){const e=n(t);e&&r.push(e)}}else{const e=n(t);e&&r.push(e)}return r}export{p as createVersionAdapters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import i from\"../core/Loadable.js\";import{removeTrailingSlash as n,Url as o}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../core/accessorSupport/decorators/writer.js\";import{onApplyEditsEvent as d,emitUpdateMomentEvent as m}from\"../layers/mixins/EditBusLayer.js\";import{parseUrl as f}from\"../rest/utils.js\";import g from\"./support/EditMomentStack.js\";import{versionCollection as h,versionCollectionCount as p,defaultVersionNameLookup as V,currentSessionId as v}from\"./support/versionManagementUtils.js\";import{createVersionAdapters as y}from\"./versionAdapters/utils.js\";let w=class extends(s(i)){constructor(e){super(e),this.url=null,this.sourceJSON=null,this.name=null,this.defaultVersionIdentifier=null,this.capabilities=null,this._isDefault=e=>!e||e===this.defaultVersionIdentifier.name,this._dateEquals=(e,t)=>!e&&!t||!(!e||!t)&&e.toISOString()===t.toISOString(),this._applyEditsHandler=e=>{const{serviceUrl:t,gdbVersion:r,result:s}=e;t===this._featureServiceUrl&&s.then((e=>{const t=e.historicMoment;t&&this._addMomentToVersionItem(r,t)}))}}initialize(){this.url=n(this.url),this._featureServiceUrl=this.url.replace(/\\/VersionManagementServer/i,\"/FeatureServer\"),h.has(this.url)||h.set(this.url,new Map);const e=(p.get(this.url)??0)+1;p.set(this.url,e),this.when().then((()=>this.addHandles(d(this._applyEditsHandler))),(()=>{}))}destroy(){const e=(p.get(this.url)??1)-1;p.set(this.url,e),0===e&&h.delete(this.url),V.delete(this._featureServiceUrl)}read(e,t){this.sourceJSON=e,super.read(e,t)}readDefaultVersionIdentifier(e,t){return{name:t.defaultVersionName,guid:t.defaultVersionGuid}}writeDefaultVersionIdentifier(e,t){t.defaultVersionName=e.name,t.defaultVersionGuid=e.guid}load(e){return this.addResolvingPromise(this._fetchService(this.url,e)),Promise.resolve(this)}async createVersion(e){const[{createVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/createVersion.js\"),import(\"../rest/versionManagement/support/CreateVersionParameters.js\")]),s=r.from(e);return t(this.url,s)}async deleteVersion(e){const[{deleteVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/deleteVersion.js\"),import(\"../rest/versionManagement/support/DeleteVersionParameters.js\")]);let s;e.guid&&h.get(this.url)?.has(e.guid)&&(s=v??void 0);const i=new r({versionName:e.name,sessionId:s});return t(this.url,i)}async getVersionInfoExtended(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");return t(this.url,e.guid)}async getVersionInfos(e={}){const[{getVersionInfos:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/getVersionInfos.js\"),import(\"../rest/versionManagement/support/GetVersionInfosParameters.js\")]),s=r.from(e);return t(this.url,s)}async reconcile(e,t={}){const[{reconcile:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/reconcile.js\"),import(\"../rest/versionManagement/gdbVersion/support/ReconcileParameters.js\")]),i=s.from(t);return i.sessionId=v,r(this.url,e.guid,i)}async post(e){const[{post:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/post.js\"),import(\"../rest/versionManagement/gdbVersion/support/PostParameters.js\")]),s=r.from({sessionId:v});return t(this.url,e.guid,s)}async alterVersion(e,t){const[{alterVersion:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/alterVersion.js\"),import(\"../rest/versionManagement/gdbVersion/support/AlterVersionParameters.js\")]),i=s.from(t);return r(this.url,e.guid,i)}async startReading(e){return(await this.startReadingWithResult(e)).success}async startReadingWithResult(e){const{startReading:t}=await import(\"../rest/versionManagement/gdbVersion/startReading.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s={name:t.versionIdentifier.name,moment:r,lockType:\"read\"};this._addOrUpdateItem(e.guid,s),m(this._featureServiceUrl,null,e.name,r)}return r}async stopReading(e){return(await this.stopReadingWithResult(e)).success}async stopReadingWithResult(e){const{stopReading:t}=await import(\"../rest/versionManagement/gdbVersion/stopReading.js\"),r=await t(this.url,e.guid,v);return r.success&&(h.get(this.url)?.delete(e.guid),m(this._featureServiceUrl,null,e.name,null)),r}async startEditing(e){return(await this.startEditingWithResult(e)).success}async startEditingWithResult(e){const{startEditing:t}=await import(\"../rest/versionManagement/gdbVersion/startEditing.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s=new g(r),i={name:e.name,moment:r,lockType:\"edit\",stack:s};this._addOrUpdateItem(e.guid,i),m(this._featureServiceUrl,null,e.name,r)}return r}async stopEditing(e,t){return(await this.stopEditingWithResult(e,t)).success}async stopEditingWithResult(e,t){if(t){const t=h.get(this.url)?.get(e.guid);if(t?.stack?.canRedo()){const[{deleteForwardEdits:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(\"../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),i=await r(this.url,e.guid,new s({sessionId:v,moment:t.moment}));if(!i.success)return i}}const{stopEditing:r}=await import(\"../rest/versionManagement/gdbVersion/stopEditing.js\"),s=await r(this.url,e.guid,v,t);if(s.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate);this._addOrUpdateItem(e.guid,{name:e.name,moment:r,lockType:\"read\",editMomentStack:void 0}),m(this._featureServiceUrl,null,e.name,r)}return s}getLockType(e){const t=h.get(this.url)?.get(e.guid)?.lockType;return t??\"none\"}async changeVersion(e,t,s){if(s&&\"name\"in s&&!await this.getVersionInfoExtended(s))throw new r(\"version-management-service:invalid-version\",\"version does not exist\");if(\"networkServiceUrl\"in e){if(this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase())return this._changeVersionInternal(e,t,s)}else{let r;\"layers\"in e?(r=e.allTables.concat(e.allLayers),e.utilityNetworks&&e.utilityNetworks.forEach((e=>{this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase()&&this._changeVersionInternal(e,t,s)}))):r=e;for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}else if(\"group\"===e.type){const r=e.allTables.concat(e.allLayers);for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}}}return!0}async changeVersionWithResult(e,t,r){let s;if(\"layers\"in e){const t=y(e.allTables.concat(e.allLayers).filter((e=>\"group\"!==e.type)).toArray());e.utilityNetworks&&e.utilityNetworks.forEach((e=>{const r=y([e]);t.push(...r)})),s=t}else s=e;if(r&&\"name\"in r){if(!await this.getVersionInfoExtended(r)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}if(t&&\"name\"in t){if(\"none\"!==this.getLockType(t)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}const i=new Map;for(const n of s)if(n)if(n.featureServiceUrl.toLowerCase()===this._featureServiceUrl.toLowerCase()){const e=this._changeVersionInternalWithResult(n,t,r);i.set(n,e)}else i.set(n,{success:!1});return i}async getVersionIdentifierFromName(e){try{const t=await this.getVersionInfos({includeHidden:!0});return t.find((t=>t.versionIdentifier.name===e))?.versionIdentifier||null}catch{return null}}async getVersionIdentifierFromGuid(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");try{return(await t(this.url,e)).versionIdentifier}catch{return null}}canUndo(e){const t=h.get(this.url)?.get(e.guid);return!!t?.stack?.canUndo()}canRedo(e){const t=h.get(this.url)?.get(e.guid);return!!t?.stack?.canRedo()}undo(e){const t=h.get(this.url)?.get(e.guid),r=t?.stack?.undo()||void 0;if(t&&r){const r=t.stack.peek();m(this._featureServiceUrl,null,e.name,r),h.get(this.url)?.set(e.guid,{...t,moment:r})}}redo(e){const t=h.get(this.url)?.get(e.guid),r=t?.stack?.redo()||void 0;t&&r&&(m(this._featureServiceUrl,null,e.name,r),h.get(this.url)?.set(e.guid,{...t,moment:r}))}_setUpData(e,t){let s=null,i=null,n=null,o=null;const a=e=>{const t=h?.get(this.url)?.get(e.guid);n=e.name,o=t?.moment??null};if(e&&\"name\"in e){if(\"none\"!==this.getLockType(e))throw new r(\"version-management-service:version-locked\",\"version is locked\");s=e.name,i=null,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t)}else s=this.defaultVersionIdentifier.name,i=e,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t);return{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}}_changeVersionInternal(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);(this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i))&&(e.gdbVersion=n,e.historicMoment=o)}catch(s){return!1}return!0}_changeVersionInternalWithResult(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);return this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i)?(e.gdbVersion=n,e.historicMoment=o,{success:!0}):{success:!1}}catch(s){return{success:!1}}}_addMomentToVersionItem(e,t){const r=h.get(this.url);if(r)for(const[s,i]of r){i.name===e&&this._addToStack(s,t)}}_addToStack(e,t){const r=h.get(this.url),s=r?.get(e);return!!s?.stack&&(I(s.stack.peek(),t)&&s.stack.push(t),r.set(e,{...s,moment:t}),!0)}_addOrUpdateItem(e,t){const r=h.get(this.url),s=r?.get(e);return s?(r.set(e,{...s,...t}),!0):!(!t.name||!t.lockType)&&(r?.set(e,{...t,lockType:t.lockType}),!0)}async _fetchService(e,r){if(this.sourceJSON){this.read(this.sourceJSON,{origin:\"service\",url:f(e)});const t=new o(this.url).host;return void V.set(t,this.defaultVersionIdentifier.name)}const s=await t(e,{responseType:\"json\",query:{f:\"json\"},...r});this.read(s.data)}};function I(e,t){if(e){return e.getTime()<t.getTime()}return!0}e([a()],w.prototype,\"url\",void 0),e([a()],w.prototype,\"sourceJSON\",void 0),e([a({type:String,json:{write:!0}})],w.prototype,\"name\",void 0),e([a({json:{write:{target:{defaultVersionName:{type:String},defaultVersionGuid:{type:String}}},read:{source:[\"defaultVersionName\",\"defaultVersionGuid\"]}}})],w.prototype,\"defaultVersionIdentifier\",void 0),e([u(\"defaultVersionIdentifier\",[\"defaultVersionName\",\"defaultVersionGuid\"])],w.prototype,\"readDefaultVersionIdentifier\",null),e([c(\"defaultVersionIdentifier\",{defaultVersionName:{type:String},defaultVersionGuid:{type:String}})],w.prototype,\"writeDefaultVersionIdentifier\",null),e([a({json:{write:!0}})],w.prototype,\"capabilities\",void 0),w=e([l(\"esri.versionManagement.VersionManagementService\")],w);const S=w;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../core/Collection.js\";import{makeHandle as r}from\"../core/handleUtils.js\";import t from\"../core/Logger.js\";import{getOrCreateMapValue as o}from\"../core/MapUtils.js\";import n from\"../rest/featureService/FeatureService.js\";import s from\"./VersioningState.js\";import i from\"./VersionManagementService.js\";import{createVersionAdapters as a}from\"./versionAdapters/utils.js\";async function c(r,t){let o;if(\"layers\"in r){const e=a(r.allTables.concat(r.allLayers).filter((e=>\"group\"!==e.type)).toArray());r.utilityNetworks&&r.utilityNetworks.forEach((r=>{const t=a([r]);e.push(...t)})),o=e}else o=new e(r);const c=new Map;for(const n of o){const r=c.get(n.featureServiceUrl);r?r.push(n):c.set(n.featureServiceUrl,new e([n]))}const l=new e;for(const[e,a]of c){const r=new n({url:e});if(await r.load(),!r.versionManagementServiceUrl)continue;const o=new i({url:r.versionManagementServiceUrl});l.push(new s({versionManagementService:o,versionableItems:a,usePersistentReadSessions:t}))}return l}const l=new Map;async function f(e,n=!1){const s=await c(e.map,n);return o(l,e,(()=>(e.addHandles(r((()=>{l.delete(e),s.forEach((e=>e.destroy()))}))),s.forEach((e=>e.load().catch((e=>{t.getLogger(\"esri.versionManagement.VersioningState\").error(\"Failed to load Versioning State\",e)})))),s)))}export{c as createVersioningStates,f as getVersioningStates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import o from\"../../core/Collection.js\";import t from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{watch as n,on as s}from\"../../core/reactiveUtils.js\";import{removeTrailingSlash as a}from\"../../core/urlUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as v}from\"../../core/support/UpdatingHandles.js\";import{getOwningPortalUrl as p}from\"../../layers/support/layerUtils.js\";import l from\"../../portal/Portal.js\";import{hasUserTypeExtension as h}from\"../../portal/support/utils.js\";import c from\"../../rest/featureService/FeatureService.js\";import{createFeatureServices as m}from\"../../rest/featureService/utils.js\";import{getVersioningStates as g}from\"../../versionManagement/utils.js\";import w from\"../../versionManagement/VersioningState.js\";import f from\"../../versionManagement/VersionManagementService.js\";import{createVersionAdapters as E}from\"../../versionManagement/versionAdapters/utils.js\";let _=class extends r{constructor(e){super(e),this._portalLookup=new Map,this._updatingHandlesLoad=new v,this._updatingHandlesExecute=new v,this.advancedEditingUserTypeExtensionLookup=new Map,this.executionError=void 0,this.featureServiceLookup=new Map,this.loadError=void 0,this.serverVersionLookup=new Map,this.serviceNameLookup=new Map,this.userLookup=new Map,this.versionIdentifierLookup=new Map,this.versionInfoLookup=new Map,this.versionManagementServiceLookup=new Map,this.versioningStateLookup=new Map,this.view=null,this.versioningStates=null}initialize(){this._viewChangeHandle(),this.addHandles([n((()=>this.view),(()=>{this._resetAllLookupProperties(),this._viewChangeHandle()})),n((()=>this.versioningStates),(()=>{this._resetVersioningLookupProperties(),this._setVersioningStatesLookups()}))])}destroy(){this._updatingHandlesLoad.destroy(),this._updatingHandlesExecute.destroy()}get state(){return this._updatingHandlesLoad.updating?\"loading\":this.loadError?\"disabled\":this._updatingHandlesExecute.updating?\"executing\":this.executionError?\"failed\":\"ready\"}async alterVersion(e){return this._updatingHandlesExecute.addPromise(this._alterVersionInternal(e))}async changeVersion(e,r,o){return this._updatingHandlesExecute.addPromise(this._changeVersionInternal(e,r,o))}async createVersion(e){return this._updatingHandlesExecute.addPromise(this._createVersionInternal(e))}async deleteVersion(e,r,o){return this._updatingHandlesExecute.addPromise(this._deleteVersionInternal(e,r,o))}async getVersionInfos(e){return this._updatingHandlesExecute.addPromise(this._getVersionInfosInternal(e))}async _alterVersionInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=this.versioningStateLookup.get(e.featureServerUrl);if(!r)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.serverVersionLookup.has(e.featureServerUrl)||this.serverVersionLookup.get(e.featureServerUrl)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"no-valid-enterprise-version\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl))throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError);const{featureServerUrl:o,versionIdentifier:i,...n}=e,s=await r.alterVersion(i,n).catch((e=>{throw this._logExecutionError(e),e}));return await this.getVersionInfos(o),s}async _changeVersionInternal(e,r,o){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const i=this.versioningStateLookup.get(e);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);const n={name:r,guid:o};return await i.changeVersion(n).catch((e=>{throw this._logExecutionError(e),e}))}_updateVersionableItems(e){this._updatingHandlesLoad.addPromise((async()=>{E(e.added).forEach((e=>{const r=e.featureServiceUrl,o=this.versioningStateLookup.get(r);o&&(o.versionableItems.find((r=>r.versionableItem===e.versionableItem))||o.versionableItems.add(e))}));E(e.removed).forEach((e=>{const r=e.featureServiceUrl,o=this.versioningStateLookup.get(r);if(!o)return void this._logError(\"version-management-view-model:execution-error\",\"no-version-management-service-found\");const t=o.versionableItems.find((r=>r.versionableItem===e.versionableItem));t&&o.versionableItems.remove(t)}))})())}async _createVersionInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=e.featureServerUrl,o=this.versioningStateLookup.get(r);if(!o)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);const i=this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl),n=this.userLookup.get(r).toUpperCase(),s=this._isEmptyString(e.ownerName)?n:e.ownerName?.trim().toUpperCase();if(s!==n){if(this.serverVersionLookup.get(r)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"versioning-api-error\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError)}let a=await(this.versioningStateLookup.get(r)?.getVersionInfos());if(\"SDE\"===s?.toUpperCase()&&\"DEFAULT\"===e.versionName.toUpperCase()||a?.find((r=>r.versionIdentifier.name.toUpperCase()===(s+\".\"+e.versionName).toUpperCase()||r.versionIdentifier.name.toUpperCase()===(n+\".\"+e.versionName).toUpperCase())))throw this._logError(\"version-management-view-model:execution-error\",\"no-valid-version-name\"),new t(\"version-management-view-model:execution-error\",this.executionError);const d=await o.versionManagementService.createVersion({versionName:e.versionName,access:s!==n?\"public\":e.access,description:e.description}).catch((e=>{throw this._logExecutionError(e),e}));if(s!==n){const{guid:o,name:t}=d.versionIdentifier,i={featureServerUrl:r,versionIdentifier:{guid:o,name:t},access:e.access,ownerName:s};await this.alterVersion(i)||this.deleteVersion(r,n+\".\"+e.versionName,d.versionIdentifier.guid)}return await this.getVersionInfos(r),a=await(this.versioningStateLookup.get(r)?.getVersionInfos()),a?.find((e=>e.versionIdentifier.guid===d.versionIdentifier.guid))}async _deleteVersionInternal(e,r,o){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const i=this.versioningStateLookup.get(e);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(this.serverVersionLookup.get(e)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"versioning-api-error\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.advancedEditingUserTypeExtensionLookup.get(e))throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError);const n={name:r,guid:o};return await i.deleteVersion(n).catch((e=>{throw this._logExecutionError(e),new t(\"version-management-view-model:execution-error\",this.executionError)}))}async _getVersionInfosInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=this.featureServiceLookup.get(e)?.featureService;if(!r)throw this._logError(\"version-management-view-model:execution-error\",\"no-feature-service-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);r.loaded||await r.load().catch((e=>{throw this._logExecutionError(e),e}));const o=r.url;this.serverVersionLookup.set(o,r.sourceJSON?.currentVersion??0),this.serverVersionLookup.get(o)<=11.1&&this.advancedEditingUserTypeExtensionLookup.set(o,!1);const i=this.userLookup.get(e);this._portalLookup.get(e)&&i?this.advancedEditingUserTypeExtensionLookup.set(o,await h(this._portalLookup.get(e),i,\"advediting\")):this.advancedEditingUserTypeExtensionLookup.set(o,!1);const n=this.versioningStateLookup.get(e);if(!n)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);n.loaded||await n.load().catch((e=>{throw this._logExecutionError(e),e}));return await n.getVersionInfos(!0).catch((e=>{throw this._logExecutionError(e),e}))}_isEmptyString(e){return!e||0===e.trim().length}_logError(e,r){switch(i.getLogger(this).error(new t(e,r)),e){case\"version-management-view-model:load-error\":this._setLoadError(r);break;case\"version-management-view-model:execution-error\":this._setExecutionError(r)}}_logExecutionError(e){this._logError(\"version-management-view-model:execution-error\",e.message)}async _viewChangeHandle(){this._updatingHandlesLoad.addPromise((async()=>{if(this._setLoadError(),!this.view)return void this._setLoadError(\"no-view-property\");if(this.view&&\"2d\"!==this.view.type)return void this._logError(\"version-management-view-model:load-error\",\"sceneView-not-supported\");this.removeHandles(\"map-change-handle\"),this.addHandles([n((()=>this.view?.map),(()=>{this._resetAllLookupProperties(),this._mapChangeHandle(this.versioningStates)}))],\"map-change-handle\");const e=await this._getVersioningStates();await this._mapChangeHandle(e)})())}async _mapChangeHandle(e){this._updatingHandlesLoad.addPromise((async()=>{this._setLoadError(),this.removeHandles(\"map-layers-tables-change-handle\"),this.addHandles([s((()=>this.view?.map.allLayers),\"change\",(e=>{(e.added.some((({type:e})=>\"feature\"===e))||e.removed.some((({type:e})=>\"feature\"===e))||e.added.some((({type:e})=>\"subtype-group\"===e))||e.removed.some((({type:e})=>\"subtype-group\"===e)))&&(this._resetServiceRelatedLookupProperties(),this._propertiesChangeInternal(this.versioningStates),this._updateVersionableItems(e))})),s((()=>this.view?.map.allTables),\"change\",(e=>{(e.added.some((({type:e})=>\"feature\"===e))||e.removed.some((({type:e})=>\"feature\"===e))||e.added.some((({type:e})=>\"subtype-group\"===e))||e.removed.some((({type:e})=>\"subtype-group\"===e)))&&(this._resetServiceRelatedLookupProperties(),this._propertiesChangeInternal(this.versioningStates),this._updateVersionableItems(e))}))],\"map-layers-tables-change-handle\"),await this._propertiesChangeInternal(e)})())}async _propertiesChangeInternal(e){this._updatingHandlesLoad.addPromise((async()=>{const r=e=>\"feature\"===e.type,{allLayers:o,allTables:t}=this.view.map;if(this._setLoadError(),this.featureServiceLookup=m([...o.filter(r),...t.filter(r)]),this.featureServiceLookup.size){this._updateFeatureServiceLookup(e),this.serviceNameLookup=new Map;for(const e of this.featureServiceLookup.values()){const{featureService:r,featureService:{url:o}}=e;if(!this.serviceNameLookup.has(o)){if(r.loaded||await r.load().catch((e=>{i.getLogger(this).error(e)})),!r.versionManagementServiceUrl){this.featureServiceLookup.delete(o);continue}const e=await p(o),t=new l({authMode:\"immediate\",url:e});await t.load().catch((e=>{i.getLogger(this).error(e)}));const n=t.user?.username;if(!r.loaded||!t.loaded||!n)continue;this.serviceNameLookup.set(a(o),o.split(\"/\").at(-2)),this.userLookup.set(o,n),this._portalLookup.set(o,t)}}this.removeHandles(\"versioning-states-change-handle\"),e.forEach((e=>this._handleVersioningStateLookupUpdate(e))),await this._updateVersioningStates(e),this.versioningStates=e}else this._logError(\"version-management-view-model:load-error\",\"no-feature-services\")})())}_updateFeatureServiceLookup(e){for(const r of e){const e=r.featureServiceUrl;if(!this.featureServiceLookup.has(e)){const o=new c({url:e}),t=r.versionableItems.toArray().flatMap((e=>\"network\"===e.type?null:e.versionableItem));this.featureServiceLookup.set(e,{featureService:o,layers:t})}}}async _updateVersioningStates(e){for(const r of this.featureServiceLookup.values()){const t=r.featureService;if(!t.versionManagementServiceUrl)continue;if(!e.find((e=>e.featureServiceUrl===t.url))&&t.versionManagementServiceUrl){const i=new o(E(r.layers)),n=new w({versionManagementService:new f({url:t.versionManagementServiceUrl}),versionableItems:i});e.add(n),this._handleVersioningStateLookupUpdate(n)}await this.getVersionInfos(t.url)}}async _getVersioningStates(){return this.versioningStates&&this.versioningStates.length?this.versioningStates:this.view?await g(this.view,!1):(this._logError(\"version-management-view-model:load-error\",\"no-view-property\"),new o)}_handleVersioningStateLookupUpdate(e){this.versioningStateLookup.set(e.featureServiceUrl,e),this._addHandlesToVersioningState(e),this.versionIdentifierLookup.set(e.featureServiceUrl,e.currentVersionInfo?.versionIdentifier),this.versionManagementServiceLookup.set(e.featureServiceUrl,e.versionManagementService)}async _setVersioningStatesLookups(){this._updatingHandlesLoad.addPromise((async()=>{this.versioningStates&&(this.removeHandles(\"versioning-states-change-handle\"),this._updateFeatureServiceLookup(this.versioningStates),this.versioningStates.forEach((e=>this._handleVersioningStateLookupUpdate(e))),await this._updateVersioningStates(this.versioningStates))})())}_addHandlesToVersioningState(e){this.addHandles([n((()=>e.versionInfos),(()=>{this.versionInfoLookup.set(e.featureServiceUrl,e.versionInfos)})),n((()=>e.currentVersionInfo?.versionIdentifier),(()=>{this.versionIdentifierLookup.set(e.featureServiceUrl,e.currentVersionInfo?.versionIdentifier)}))],\"versioning-states-change-handle\")}_resetVersioningLookupProperties(){this.versionIdentifierLookup=new Map,this.versionInfoLookup=new Map,this.versionManagementServiceLookup=new Map,this.versioningStateLookup=new Map}_resetAllLookupProperties(){this._portalLookup=new Map,this.advancedEditingUserTypeExtensionLookup=new Map,this.serverVersionLookup=new Map,this.userLookup=new Map,this.versioningStates=new o,this._resetVersioningLookupProperties(),this._resetServiceRelatedLookupProperties()}_resetServiceRelatedLookupProperties(){this.featureServiceLookup=new Map,this.serviceNameLookup=new Map}_setExecutionError(e){this._set(\"executionError\",e)}_setLoadError(e){this._set(\"loadError\",e)}};e([d()],_.prototype,\"_portalLookup\",void 0),e([d()],_.prototype,\"advancedEditingUserTypeExtensionLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"executionError\",void 0),e([d()],_.prototype,\"featureServiceLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"loadError\",void 0),e([d()],_.prototype,\"serverVersionLookup\",void 0),e([d()],_.prototype,\"serviceNameLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"state\",null),e([d()],_.prototype,\"userLookup\",void 0),e([d()],_.prototype,\"versionIdentifierLookup\",void 0),e([d()],_.prototype,\"versionInfoLookup\",void 0),e([d()],_.prototype,\"versionManagementServiceLookup\",void 0),e([d()],_.prototype,\"versioningStateLookup\",void 0),e([d()],_.prototype,\"view\",void 0),e([d()],_.prototype,\"versioningStates\",void 0),_=e([u(\"esri.widgets.VersionManagement.VersionManagementViewModel\")],_);const L=_;export{L as default};\n"],"names":["n","t","_n$supportedFormats","d","name","supportedFormats","r","_n$supportedFormats2","c","editFormats","includes","o","_n$supportedFormats3","a","flatMap","w","map","concat","u","m","toLowerCase","find","l","p","i","s","f","_i","type","some","endsWith","_n$2$split$map","split","F","_n$tables","tables","role","async","_n$user","e","findCredential","restUrl","loadStatus","user","sourceJSON","responseType","query","returnUserLicenseTypeExtensions","data","username","error","_s$userLicenseTypeExt","_s$userLicenseTypeExt2","userLicenseTypeExtensions","x","id","url","J","isDataVersioned","D","q","trim","datesInUnknownTimezone","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryDataElements","supportsQueryDomains","supportsQueryContingentValues","supportsSync","supportsUpdate","W","maxRecordCountFactor","N","maxRecordCount","H","advancedEditingCapabilities","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsSplit","supportsAsyncApplyEdits","$","syncCapabilities","supportedSyncDataOptions","supportsAsync","annotations","dimensions","contingentValues","attributeRules","utilityNetworkSystem","annotationFullModel","include3DObjects","utilityNetworkMissingLayers","preserveTrueCurves","G","constructor","super","this","userHasFullEditingPrivileges","userHasUpdateItemPrivileges","userTypeExtensions","layerInfos","tableInfos","capabilities","read","utilityNetworkUrl","layers","versionManagementServiceUrl","_this$sourceJSON","hasBranchVersionedData","replace","readLayerInfos","geometryType","readTableInfos","readCapabilities","sync","operations","editing","Q","effectiveCapabilities","load","addResolvingPromise","_fetchService","then","_setUserPrivileges","Promise","resolve","fetchAllLayersAndTables","_fetchLayersAndTablesPromise","_fetchLayersAndTables","applyEdits","results","edits","editedFeatures","_internalApplyEdits","filter","I","gdbVersion","addedFeatures","addFeatureResults","updatedFeatures","updateFeatureResults","deletedFeatures","deleteFeatureResults","addedAttachments","addAttachmentResults","updatedAttachments","updateAttachmentResults","deletedAttachments","deleteAttachmentResults","exceededTransferLimit","historicMoment","editMoment","Date","length","reject","userPrivilegesApplied","features","fullEdit","content","updateItem","_fetchUserPrivileges","serviceItemId","_set","edit","A","signal","getCredential","prompt","U","portal","P","_t$globalIdUsed","R","globalIdUsed","fromJSON","spatialReference","options","_processApplyEditsParams","all","_e$addFeatures$map","_e$addFeatures","_e$updateFeatures$map","_e$updateFeatures","addFeatures","h","updateFeatures","g","identifierFields","deleteFeatures","V","v","adds","updates","deletes","attachments","rollbackOnFailure","useGlobalIds","returnEditMoment","honorSequenceOfEdits","usePreviousEditMoment","returnServiceEditsInSourceSR","returnServiceEditsOption","L","M","JSON","stringify","O","k","T","method","authMode","sessionId","_","y","b","z","addAttachments","updateAttachments","deleteAttachments","j","C","_e$addResults","_e$updateResults","_e$deleteResults","addResults","updateResults","deleteResults","S","wkid","wkt","latestWkid","latestVcsWkid","vcsWkid","E","push","layerId","prototype","readOnly","json","source","B","path","get","set","featureService","Map","versionManagementService","featureServiceUrl","currentVersion","currentVersionInfo","versionInfos","versionableItems","usePersistentReadSessions","state","initialize","addHandles","on","item","preventDefault","getLogger","items","getLockType","_setUpState","defaultVersionIdentifier","isDefault","getVersionInfos","arguments","undefined","alterVersion","guid","deleteVersion","getVersionInfoExtended","startEditing","_isDefaultOrHistoricVersion","success","startReadingWithResult","startEditingWithResult","stopEditing","stopEditingWithResult","stopReadingWithResult","changeVersion","_this$currentVersionI","_t","access","startReading","stopReading","changeVersionWithResult","forEach","undo","redo","_this$currentVersionI2","moments","forwardMoments","pop","canUndo","peek","at","canRedo","hasForwardEdits","size","clearForwardEdits","versionableItem","allTables","allLayers","_isDefault","_dateEquals","toISOString","_applyEditsHandler","serviceUrl","result","_featureServiceUrl","_addMomentToVersionItem","_p$get","has","when","destroy","_p$get2","delete","readDefaultVersionIdentifier","defaultVersionName","defaultVersionGuid","writeDefaultVersionIdentifier","createVersion","default","from","_h$get","versionName","getVersion","reconcile","post","modifiedDate","versionIdentifier","moment","lockType","_addOrUpdateItem","_h$get2","stack","_h$get3","_t$stack","deleteForwardEdits","editMomentStack","_h$get4","_changeVersionInternal","utilityNetworks","toArray","_changeVersionInternalWithResult","getVersionIdentifierFromName","_t$find","includeHidden","getVersionIdentifierFromGuid","_h$get5","_t$stack2","_h$get6","_t$stack3","_h$get7","_t$stack4","_h$get8","_h$get9","_t$stack5","_h$get10","_setUpData","_h$get11","_t$moment","fromVersionName","fromMoment","toVersionName","toMoment","_addToStack","getTime","origin","host","String","write","target","catch","_portalLookup","_updatingHandlesLoad","_updatingHandlesExecute","advancedEditingUserTypeExtensionLookup","executionError","featureServiceLookup","loadError","serverVersionLookup","serviceNameLookup","userLookup","versionIdentifierLookup","versionInfoLookup","versionManagementServiceLookup","versioningStateLookup","view","versioningStates","_viewChangeHandle","_resetAllLookupProperties","_resetVersioningLookupProperties","_setVersioningStatesLookups","updating","addPromise","_alterVersionInternal","_createVersionInternal","_deleteVersionInternal","_getVersionInfosInternal","_logError","_setExecutionError","featureServerUrl","_logExecutionError","_updateVersionableItems","added","add","removed","remove","_e$ownerName","_this$versioningState","_a","_this$versioningState2","_a2","toUpperCase","_isEmptyString","ownerName","description","_this$featureServiceL","_r$sourceJSON$current","_r$sourceJSON","loaded","_setLoadError","message","removeHandles","_this$view","_mapChangeHandle","_getVersioningStates","_this$view2","_ref","_ref2","_ref3","_ref4","_resetServiceRelatedLookupProperties","_propertiesChangeInternal","_this$view3","_ref5","_ref6","_ref7","_ref8","_updateFeatureServiceLookup","values","_t$user","_handleVersioningStateLookupUpdate","_updateVersioningStates","_e$currentVersionInfo","_addHandlesToVersioningState","_e$currentVersionInfo2","_e$currentVersionInfo3"],"sourceRoot":""}