"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[54841],{54841:(e,r,s)=>{s.r(r),s.d(r,{post:()=>h,serverVersionCacheMap:()=>w});var t=s(76200),n=s(10064),o=s(23084),i=s(3231),a=s(27366),c=s(46784),u=s(49861),p=(s(93169),s(32718),s(84936),s(69912));let v=class extends c.wq{constructor(e){super(e),this.moment=null,this.success=!1}};(0,a._)([(0,u.Cb)({type:Date,json:{type:Number,write:{writer:(e,r)=>{r.moment=e?e.getTime():null}}}})],v.prototype,"moment",void 0),(0,a._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],v.prototype,"success",void 0),v=(0,a._)([(0,p.j)("esri.rest.versionManagement.gdbVersion.support.PostResult")],v);const l=v,w=new Map;async function h(e,r,s,a){var c;w.has(e)||await(0,i.P)(w,e);const u=w.get(e);if((null!==(c=null===u||void 0===u?void 0:u.serverVersion)&&void 0!==c?c:0)<=11.1)throw new n.Z("post:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new n.Z("post:missing-guid","guid for version is missing");const p=(0,o.en)(e),v=s.toJSON();s.rows&&(v.rows=JSON.stringify(s.rows));const h=(0,o.lA)(p.query,{query:(0,o.cv)({...v,f:"json"}),...a,method:"post"});r.startsWith("{")&&(r=r.slice(1,-1));const d="".concat(p.path,"/versions/").concat(r,"/post"),{data:m}=await(0,t.Z)(d,h);return l.fromJSON(m)}},3231:(e,r,s)=>{s.d(r,{P:()=>n});var t=s(76200);async function n(e,r){let s=null;const n="string"==typeof r?r:r.path;if(!e.has(n)){const o=await(0,t.Z)(n.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});s={serverVersion:Number(o.data.currentVersion),featureServerUrl:n.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(r,s)}}}}]);
//# sourceMappingURL=54841.693c0d05.chunk.js.map