{"version":3,"file":"static/js/9714.d2c037f5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import s from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{watch as i,initial as r}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{b as l,n,s as h}from\"../../../chunks/vec32.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as d}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as u,expandWithVec3 as m}from\"../../../geometry/support/aaBoundingBox.js\";import{equals as p}from\"../../../geometry/support/spatialReferenceUtils.js\";import{LayerView3D as y}from\"./LayerView3D.js\";import{addLayerViewToWasm as b,removeLayerViewFromWasm as V,getVoxelWasm as _}from\"./VoxelWasm.js\";import{LayerViewPerformanceInfo as w}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as f}from\"./support/PopupSceneLayerView.js\";import S from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as g}from\"../../support/layerViewUtils.js\";import v from\"../../../geometry/SpatialReference.js\";var W;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(W||(W={}));const T=c(),L=c();let A=class extends(f(y(S))){constructor(){super(...arguments),this._suspendedHandle=null,this._usedMemory=0,this._futureMemory=0,this.type=\"voxel-3d\",this.slicePlaneEnabled=!1,this._wasmLayerId=-1,this.ignoresMemoryFactor=!0,this._dbgFlags=new Set}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get wasmLayerId(){return this._wasmLayerId}initialize(){if(this._dbgFlags.add(W.Error),\"local\"!==this.view.viewingMode)throw new s(\"voxel:unsupported-viewingMode\",\"Voxel layers support local viewingMode only.\",{});if(!!!this.view._stage.renderView.renderingContext.capabilities.colorBufferFloat?.textureFloat)throw new s(\"voxel:missing-color-buffer-float\",\"Voxel layers require the WebGL2 extension EXT_color_buffer_float\",{});const e=this.layer.spatialReference;if(!p(e,this.view.spatialReference))throw new s(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});const t=this.layer.currentVariableId,a=this.layer.getVolume(t),o=this.layer.getVariable(t);if(null!=a&&null!=o){const e=a.dimensions[0],s=a.dimensions[1],t=a.zDimension;if(t>1){const i=a.dimensions[t],r=e.size*s.size*i.size;let l=1;switch(o.renderingFormat.type){case\"Int16\":case\"UInt16\":l=2;break;case\"Int32\":case\"UInt32\":case\"Float32\":l=4}this._futureMemory=l*r}}const l=b(this).then((e=>{this._wasmLayerId=e,this._suspendedHandle=i((()=>this.suspended),(e=>{const s=_(this.view);s&&s.setEnabled(this,!e)}),r),this.addHandles([i((()=>this.layer.renderMode),(e=>this._pushRenderModeToWasm(e))),i((()=>this.layer.currentVariableId),(e=>this._pushCurrentVariableIdToWasm(e))),i((()=>this.layer.getSections()),(e=>this._pushSectionsToWasm(e))),i((()=>this.layer.getVariableStyles()),(e=>this._pushVariableStylesToWasm(e))),i((()=>this.layer.getVolumeStyles()),(e=>this._pushVolumeStylesToWasm(e))),i((()=>this.layer.enableDynamicSections),(e=>this._pushEnableDynamicSectionsToWasm(e))),i((()=>this.layer.enableIsosurfaces),(e=>this._pushEnableIsosurfacesToWasm(e))),i((()=>this.layer.enableSections),(e=>this._pushEnableSectionsToWasm(e))),i((()=>this.layer.enableSlices),(e=>this._pushEnableSlicesToWasm(e))),i((()=>[this.layer.timeOffset,this.layer.timeExtent,this.layer.useViewTime]),(()=>this._updateLayerTimeProperties())),i((()=>this.slicePlaneEnabled),(e=>this._pushAnalysisSliceToWasm(e,this.view.slicePlane))),i((()=>this.view.slicePlane),(e=>this._pushAnalysisSliceToWasm(this.slicePlaneEnabled,e)))])})).catch((e=>{if(V(this),this._wasmLayerId=-1,-1===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer description was invalid.\",{});if(-2===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer web assembly module failed to download.\",{})}));this.addResolvingPromise(l)}destroy(){V(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){const e=_(this.view);return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}get usedMemory(){return this._usedMemory}get unloadedMemory(){return this._futureMemory}get performanceInfo(){return new w(this.usedMemory)}get visibleAtCurrentScale(){return g(this.layer.effectiveScaleRange,this.view.terrainScale)}whenGraphicBounds(e,s){const t=e.attributes[\"Voxel.WorldPosition\"];if(t){const e=u(),s=JSON.parse(t);if(d(s,this.view.renderSpatialReference,L,this.view.spatialReference||v.WGS84))return m(e,L),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}return Promise.reject()}setUsedMemory(e){this._usedMemory=e,this._futureMemory=0}captureFrustum(){const e=_(this.view);e?.captureFrustum()}toggleFullVolumeExtentDraw(){const e=_(this.view);e?.toggleFullVolumeExtentDraw(this)}getLayerTimes(){const e=_(this.view);return e?.getLayerTimes(this)??[]}getCurrentLayerTimeIndex(){const e=_(this.view);return e?.getCurrentLayerTimeIndex(this)??0}_pushRenderModeToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushRenderModeToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setRenderMode(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushRenderModeToWasm() failed!\")}_pushSectionsToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setStaticSections(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushSectionsToWasm() failed!\")}_pushCurrentVariableIdToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() called!, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setCurrentVariable(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() failed!\")}_pushVariableStylesToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushVariableStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setVariableStyles(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushVariableStylesToWasm() failed!\")}_accountForEnableSlices(e,s){const t=null!=s?s:this.layer.enableSlices;for(let i=0;i<e.length;++i){const s=e[i];for(const e of s.slices)e.enabled=e.enabled&&t}}_pushVolumeStylesToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushVolumeStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s&&(this._accountForEnableSlices(e,null),s.setVolumeStyles(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushVolumeStylesToWasm() failed!\"))}_pushAnalysisSliceToWasm(e,s){const t=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushAnalysisSliceToWasm() called, \"+(t?\"have WASM\":\"don't have WASM!!!\"));let i=!1;if(t){if(s){const r=s.origin;l(T,s.basis1,s.basis2),n(T,T),i=t.setAnalysisSlice(this,e,r,T)}else h(T,0,0,1),i=t.setAnalysisSlice(this,!1,T,T);i||this._dbg(W.Error,\"VoxelLayerView3D._pushAnalysisSliceToWasm() failed!\")}}_updateLayerTimeProperties(){const e=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._updateLayerTimeProperties() called, \"+(e?\"have WASM\":\"don't have WASM!!!\")),e&&e.updateLayerTimeProperties(this)}_pushEnableDynamicSectionsToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableDynamicSections(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() failed!\")}_pushEnableSlicesToWasm(e){const s=_(this.view);if(this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableSlicesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s){const t=this.layer.getVolumeStyles();this._accountForEnableSlices(t,e),s.setVolumeStyles(this,t)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableSlicesToWasm() failed!\")}}_pushEnableIsosurfacesToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableIsosurfaces(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() failed!\")}_pushEnableSectionsToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableSections(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableSectionsToWasm() failed!\")}async whenGraphicAttributes(e,s){return e}_dbg(e,s){this._dbgFlags.has(e)&&(e===W.Error?t.getLogger(this).error(s):t.getLogger(this).warn(s))}};e([a()],A.prototype,\"layer\",void 0),e([a()],A.prototype,\"baseUrl\",null),e([a({type:Boolean})],A.prototype,\"slicePlaneEnabled\",void 0),e([a({readOnly:!0})],A.prototype,\"visibleAtCurrentScale\",null),A=e([o(\"esri.views.3d.layers.VoxelLayerView3D\")],A);const x=A;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n"],"names":["l","n","constructor","super","arguments","this","slicePlaneEnabled","supportsHeightUnitConversion","postscript","p","layer","addResolvingPromise","_validateHeightModelInfo","o","AbortController","r","signal","addHandles","s","abort","t","_this$view$defaultsFr","view","defaultsFromMap","heightModelInfoReady","e","i","a","heightModelInfo","prototype","W","API","VerboseAPI","Error","T","c","L","A","f","y","S","_suspendedHandle","_usedMemory","_futureMemory","type","_wasmLayerId","ignoresMemoryFactor","_dbgFlags","Set","baseUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","parsedUrl","path","wasmLayerId","initialize","_this$view$_stage$ren","add","viewingMode","_stage","renderView","renderingContext","capabilities","colorBufferFloat","textureFloat","spatialReference","currentVariableId","getVolume","getVariable","dimensions","zDimension","size","renderingFormat","b","then","suspended","_","setEnabled","renderMode","_pushRenderModeToWasm","_pushCurrentVariableIdToWasm","getSections","_pushSectionsToWasm","getVariableStyles","_pushVariableStylesToWasm","getVolumeStyles","_pushVolumeStylesToWasm","enableDynamicSections","_pushEnableDynamicSectionsToWasm","enableIsosurfaces","_pushEnableIsosurfacesToWasm","enableSections","_pushEnableSectionsToWasm","enableSlices","_pushEnableSlicesToWasm","timeOffset","timeExtent","useViewTime","_updateLayerTimeProperties","_pushAnalysisSliceToWasm","slicePlane","catch","V","destroy","remove","isUpdating","updatingFlagChanged","notifyChange","usedMemory","unloadedMemory","performanceInfo","w","visibleAtCurrentScale","g","effectiveScaleRange","terrainScale","whenGraphicBounds","attributes","u","JSON","parse","d","renderSpatialReference","v","WGS84","m","Promise","resolve","boundingBox","screenSpaceObjects","reject","setUsedMemory","captureFrustum","toggleFullVolumeExtentDraw","getLayerTimes","_e$getLayerTimes","getCurrentLayerTimeIndex","_e$getCurrentLayerTim","_dbg","setRenderMode","setStaticSections","setCurrentVariable","setVariableStyles","_accountForEnableSlices","length","slices","enabled","setVolumeStyles","origin","basis1","basis2","setAnalysisSlice","h","updateLayerTimeProperties","setEnableDynamicSections","setEnableIsosurfaces","setEnableSections","whenGraphicAttributes","has","getLogger","error","warn","Boolean","readOnly","x","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","associatedLayer","fieldsIndex","push","Map","_e$s$getObjectId","set","getObjectId","concat","sort","_e$getObjectId","_u$get","_t$getObjectId","_u$get2","get","EventedMixin","_updatingHandles","parent","when","name","_this$layer","id","title","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentTimeExtent","_this$layer5","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$parent2","_this$view","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","async","_n$fieldsIndex","_n$fieldsIndex2","undefined","popupTemplate","getRequiredFields","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","forEach","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}