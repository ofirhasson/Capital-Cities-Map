"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[73238],{73238:(e,t,n)=>{n.d(t,{$E:()=>D,$R:()=>F,Bl:()=>C,FB:()=>U,I6:()=>N,IE:()=>T,Je:()=>M,Li:()=>g,Lm:()=>j,MP:()=>q,Ns:()=>P,Pk:()=>J,Pr:()=>A,Uf:()=>V,V$:()=>R,V7:()=>y,Vs:()=>f,Wh:()=>b,ZP:()=>k,_n:()=>x,cs:()=>W,ib:()=>v,ll:()=>E,m1:()=>h,of:()=>Z,ql:()=>H,sq:()=>L,wz:()=>z,xy:()=>O,zN:()=>Y});n(59166);var i=n(63780),o=n(41644),l=n(84652),r=n(32718),u=n(643),a=n(73813),s=n(39638),d=n(37270),p=n(62734),c=n(83651),m=n(8704);const f=e=>"field"===(null===e||void 0===e?void 0:e.type),v=e=>"group"===(null===e||void 0===e?void 0:e.type),y=e=>"relationship"===(null===e||void 0===e?void 0:e.type),b=e=>"text"===e.type,x=e=>!v(e)&&null!=e.group,g=e=>e.reduce(((e,t)=>v(t)?[...e,...t.inputs]:[...e,t]),[]),T=e=>g(e).filter(f),h=e=>g(e).filter(y),O=e=>null!=e&&(N(e,"combo-box")||N(e,"radio-buttons")),N=(e,t)=>{var n;return null!=e&&(null===(n=e.input)||void 0===n?void 0:n.type)===t},V=e=>null!=e&&(N(e,"text-box")||N(e,"text-area")),E=e=>{let{domain:t,inputType:n="text-box",dataType:i}=e;return"number"===i&&"text-box"===n&&(!t||"coded-value"!==t.type)},F=e=>"items"in e;function L(e){const{attributes:t,fieldsIndex:n,label:o,timeZone:l}=e;if(!t||"object"!=typeof t)return o;const r=Object.keys(t).filter((e=>(0,u.pZ)(o,e))),a=r.map((e=>t[e])),s=r.map((e=>n.get(e))).filter(i.pC);return function(e,t){return(0,u.gx)((0,u.gx)(e,(e=>"{".concat(e.toLowerCase(),"}"))),Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t.toLowerCase(),n]}))))}(o,C({values:a,fields:s,timeZone:l}))}const _="expression/",w="expr/",I="field/";function Z(e){const[t,n]=e.split(_);return""===t&&n?n:(r.Z.getLogger("esri.widgets.FeatureForm/featureFormUtils").error("extractExpressionNameFromString:invalid-input","The string ".concat(e," is not a valid expression reference of the form '").concat(_,"/expressionName'")),"")}function R(e){return"".concat(_).concat(e)}function j(e){return"".concat(I).concat(e)}function A(e){return e.startsWith(_)}function U(e){return e.startsWith(w)}function C(e){var t;const{fields:n,values:i}=e,o=null!==(t=e.timeZone)&&void 0!==t?t:void 0,l=n.map(((e,t)=>{let n=i[t];if(e.domain&&"coded-value"===e.domain.type){const t=e.domain.codedValues.find((e=>e.code===n));(null===t||void 0===t?void 0:t.name)&&(n=t.name)}return((0,p.a8)(e)||(0,d.sX)(e))&&(n=(0,c.sx)(e,n,{timeZone:o,...(0,c.fu)(e)})),[e.name,n]}));return Object.fromEntries(l)}const k=e=>{var t,n,i,o,l,r,u;const a={typeFieldName:null,types:[]};return e?("subtype-sublayer"===e.type?(a.typeFieldName=null===(t=e.parent)||void 0===t?void 0:t.subtypeField,a.types=null!==(n=null===(i=e.parent)||void 0===i?void 0:i.subtypes)&&void 0!==n?n:[]):"subtype-group"===e.type||"feature"===e.type&&null!==(o=e.subtypes)&&void 0!==o&&o.length?(a.typeFieldName=e.subtypeField,a.types=null!==(l=e.subtypes)&&void 0!==l?l:[]):"types"in e&&e.types&&(a.typeFieldName=e.typeIdField,a.types=e.types.map((e=>{let{id:t,name:n,domains:i}=e;return{code:t,name:n,domains:i}}))),null!=a.typeFieldName&&(a.typeFieldName=null!==(r=null===(u=e.getField(a.typeFieldName))||void 0===u?void 0:u.name)&&void 0!==r?r:a.typeFieldName),a):a},D=(e,t)=>{if(!e)return!0;const{operations:n}=e;switch(t){case"INSERT":return n.supportsAdd;case"UPDATE":case"DELETE":return n.supportsUpdate;default:return!0}};var P,$;($=P||(P={})).TOO_SHORT="length-validation-error::too-short",$.TOO_LONG="length-validation-error::too-long";const G={type:"number"},S={type:"number",intlOptions:{notation:"scientific"}};function B(e){return e>=1e7||e<=-1e7}const M=(e,t,n)=>{const{dataType:i,error:o,minLength:l,value:r,required:u}=e,a=null===t||void 0===t?void 0:t.validationErrors;if(!a||!o)return null;if(u&&null===r)return a.cannotBeNull;if(o===s.V$.VALUE_OUT_OF_RANGE||o===d.M$.OUT_OF_RANGE){const{field:o,range:l}=e,r={type:"date",intlOptions:{timeZone:"date"===o.type&&n?n:void 0,...(0,c.fu)(o)}},u=function(e,t){let{validationErrors:n}=t;return null!=e.max&&null!=e.min?n.outsideRange:null!=e.max?n.outsideRangeMax:n.outsideRangeMin}(l,t);return(0,m.n)(u,l,{format:{max:"date"===i?r:null!=l.max&&B(l.max)?S:G,min:"date"===i?r:null!=l.min&&B(l.min)?S:G}})}return o===s.V$.INVALID_CODED_VALUE?a.invalidCodedValue:o===d.Gz.INVALID_TYPE?a.invalidType:o===P.TOO_SHORT?(0,m.n)(a.tooShort,{min:l}):(P.TOO_LONG,null)},q=e=>{var t;if(!e)return;const n=e.layer,i=n&&"geometryType"in n?n.geometryType:void 0,o=null===(t=e.geometry)||void 0===t?void 0:t.type;return"polyline"===o||"polyline"===i?"line":"mesh"===o||"mesh"===i||"multipatch"===i?"cube":"multipoint"===o||"multipoint"===i?"point":o||i||"table"},z=e=>{const t=[];if(e.formTemplate){var n;const{description:i,title:o}=e.formTemplate;null===(n=e.fields)||void 0===n||n.forEach((e=>{const n=o&&(0,u.pZ)(o,e.name),l=i&&(0,u.pZ)(i,e.name);(n||l)&&t.push(e.name)}))}return t};function W(e,t){const n=null!==t&&void 0!==t?t:"formTemplate"in e&&e.formTemplate;var i,o;return!!n&&(null!==(i=null===(o=n.elements)||void 0===o?void 0:o.filter(a.fY))&&void 0!==i?i:[]).some((t=>{let{fieldName:n}=t;return!e.fieldsIndex.get(n)}))}function H(e,t){return null==e||t.onValue!==e&&t.offValue!==e}function Y(e,t){var n;switch(t.objectType){case"any":return!0;case"null":return null==e;case"code":return e===(null===(n=t.codedValue)||void 0===n?void 0:n.code);case"range":return null!=e&&null!=t.minValue&&null!=t.maxValue&&+e>=t.minValue&&+e<=t.maxValue;default:return(0,o.Bg)(t.objectType),!1}}function J(e,t,n){var i,o;if(!e||!("subtypes"in e))return!1;const r=null===(i=e.subtypes)||void 0===i?void 0:i.find((e=>e.code===n));if(!r)return!1;const u=null===(o=e.subtypes)||void 0===o?void 0:o.find((e=>e.code===t));return!(0,l.y7)(r.defaultValues,null===u||void 0===u?void 0:u.defaultValues)&&Object.values(r.defaultValues).some((e=>null!=e))}}}]);
//# sourceMappingURL=73238.945dcacb.chunk.js.map