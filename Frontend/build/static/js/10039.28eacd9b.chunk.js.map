{"version":3,"file":"static/js/10039.28eacd9b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/RenderObject.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatedObjectUtils.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ScreenSizeScaling as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n,addViewNormal as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as m}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as f}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as v}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function u(e){const u=new f,b=e.multipassEnabled&&e.output===r.Color;u.include(a,e),u.include(o,e),u.include(i,e);const{vertex:h,fragment:y}=u;return y.include(s),n(h,e),y.uniforms.add(new g(\"uColor\",(e=>e.color))),u.attributes.add(p.POSITION,\"vec3\"),u.varyings.add(\"vWorldPosition\",\"vec3\"),b&&u.varyings.add(\"depth\",\"float\"),e.screenSizeEnabled&&u.attributes.add(p.OFFSET,\"vec3\"),e.shadingEnabled&&(t(h),u.attributes.add(p.NORMAL,\"vec3\"),u.varyings.add(\"vViewNormal\",\"vec3\")),h.code.add(m`\n    void main(void) {\n      vWorldPosition = ${e.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),e.shadingEnabled&&h.code.add(m`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add(m`\n    ${b?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),b&&u.include(d,e),y.code.add(m`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${b?\"terrainDepthTest(depth);\":\"\"}\n    `),e.shadingEnabled?(y.uniforms.add(new c(\"shadingDirection\",(e=>e.shadingDirection))),y.uniforms.add(new g(\"shadedColor\",(e=>w(e.shadingTint,e.color)))),y.code.add(m`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):y.code.add(m`vec4 finalColor = uColor;`),e.transparencyPassType===v.ColorAlpha&&(u.outputs.add(\"fragColor\",\"vec4\",0),u.outputs.add(\"fragAlpha\",\"float\",1)),y.code.add(m`\n      ${e.output===r.ObjectAndLayerIdColor?m`finalColor.a = 1.0;`:\"\"}\n      if (finalColor.a < ${m.float(l)}) {\n        discard;\n      }\n\n      ${e.output===r.Color?m`fragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===v.ColorAlpha?m`\n                    fragColor = premultiplyAlpha(fragColor);\n                    fragAlpha = fragColor.a;`:\"\"}`:\"\"}\n    }\n    `),u}function w(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b[3]=i,b):(b[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b[3]=o[3],b)}const b=e(),h=Object.freeze(Object.defineProperty({__proto__:null,build:u},Symbol.toStringTag,{value:\"Module\"}));export{h as S,u as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import{deg2rad as s}from\"../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../core/maybe.js\";import{createScreenPointArray as r,createRenderScreenPointArray3 as n,screenPointObjectToArray as a,castRenderScreenPointArray as c}from\"../../../core/screenUtils.js\";import{fromMat4 as l}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{copy as d,set as _,multiply as u,identity as g}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{squaredDistance as f}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{g as p,t as b,h as v,j as y,c as j,a as L,s as S,f as R}from\"../../../chunks/vec32.js\";import{create as O,ZEROS as w}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as T}from\"../../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as A,projectPoint as E}from\"../../../geometry/projection.js\";import{computeENUToSphericalPCPFLocalRotation as D}from\"../../../geometry/projection/localRotationUtils.js\";import{sphericalPCPFtoLonLatElevation as F}from\"../../../geometry/projection/projectors.js\";import{containsPointObject as z}from\"../../../geometry/support/aaBoundingRect.js\";import{create as P,distance2 as C,fromPoints as I,closestRayDistance2 as x}from\"../../../geometry/support/lineSegment.js\";import{create as M,fromPositionAndNormal as k,intersectRay as U}from\"../../../geometry/support/plane.js\";import{create as W}from\"../../../geometry/support/ray.js\";import{sv3d as B}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as N,hydratedSpatialReference as H}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationOffset as q}from\"../../../support/elevationInfoUtils.js\";import{getElevationAtPoint as G}from\"../support/ElevationProvider.js\";import{fromScreen as V}from\"../support/geometryUtils/ray.js\";import Y from\"../webgl/RenderCamera.js\";import{Object3D as J}from\"../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as K}from\"../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as X,ManipulatorStateFlags as Z}from\"../../interactive/interfaces.js\";import $ from\"../../../geometry/Point.js\";class ee{constructor(e){this.metadata=void 0,this._camera=new Y,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=new Array,this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=m(),this._worldFrame=null,this._renderLocation=O(),this._renderLocationDirty=!0,this._location=new $({x:0,y:0,z:0}),this._elevationAlignedLocation=new $,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.consumesClicks=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=X.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:r(),renderScreenPointArray:n(),pixelSize:0},this._screenLocationDirty=!0,this._engineResourcesAddedToStage=!1,this._attached=!1,this._location.spatialReference=e.view.spatialReference,Object.assign(this,e);const i=this.view.state?.camera;i&&this._camera.copyFrom(i)}destroy(){this._applyObjectTransform=pe,this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get _stage(){return this.view?._stage}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),i((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){te(e)&&(this._screenLocationDirty=!0),d(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=m()),ie(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){N(e,this._location),this._notifyLocationChanged()}_notifyLocationChanged(){this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){N(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){const e=null!=this._elevation.override?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y,this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=H(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(te(this._modelTransform)){const t=this._calculateModelTransformOffset(me);e=p(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(t,i){if(!this.available)return null;const s=a(t,se),o=this._getCollisionRadius(i),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(f(this.screenLocation.screenPointArray,s)<o*o)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ce),n=o*this.screenLocation.pixelSize,a=V(this._camera,s,re);if(null==a)return null;for(const s of e){if(0===s.length)continue;const e=v(he,s[0],i);for(let t=1;t<s.length;t++){const o=v(de,s[t],i),l=x(I(e,o,oe),a);if(null!=l&&l<n*n){const t=p(B.get(),e,o);y(t,t,.5);const i=c(B.get());return this._camera.projectToRenderScreen(t,i),i[2]+r}j(e,o)}}break}case\"disc\":{const e=this.collisionType.direction,t=this.collisionType.offset??w,i=this._getWorldToScreenObjectScale(),n=this._calculateObjectTransform(i,ce),a=o*this.screenLocation.pixelSize,c=V(this._camera,s,re);if(null==c)return null;const h=l(ne,n),d=b(ue,e,h),_=v(ge,t,n);k(_,d,le);const u=_e;if(U(le,c,u)&&L(u,_)<a*a)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),n=this._calculateObjectTransform(i,ce),a=o*this._camera.computeScreenPixelSizeAt(this.renderLocation),h=V(this._camera,s,re);if(null==h)return null;const d=l(ne,n),_=b(ue,t,d),u=this._calculateModelTransformPosition(ge);k(u,_,le);const g=_e;if(!U(le,h,g))break;for(const s of e){if(0===s.length)continue;const e=v(he,s[0],n);for(let t=1;t<s.length;t++){const i=v(de,s[t],n),o=C(I(e,i,oe),g);if(null!=o&&o<a*a){const t=p(B.get(),e,i);y(t,t,.5);const s=c(B.get());return this._camera.projectToRenderScreen(t,s),s[2]+r}j(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){const t=this._stage;if(!t)return;const i=e.manipulator3D;null==i.engineLayerId?(this._engineLayer=new Q(t,{pickable:!1,updatePolicy:K.SYNC}),i.engineLayerId=this._engineLayer.id):t?.getObject&&(this._engineLayer=t.getObject(i.engineLayerId)),i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,null==this._materialIdReferences&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new $({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;this._removeResourcesFromStage(),i&&(t.engineLayerId=null,o(this._engineLayer)),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){E(this.location,fe,e.spatialReference)&&z(e.extent,fe)&&this._notifyLocationChanged()}_evaluateElevationAlignment(){if(null==this.elevationInfo)return;let e=null,t=0;const i=q(this.elevationInfo,this.location.spatialReference??this.view.elevationProvider.spatialReference);switch(this.elevationInfo.mode){case\"on-the-ground\":e=G(this.view.elevationProvider,this.location,\"ground\")??0;break;case\"relative-to-ground\":t=(G(this.view.elevationProvider,this.location,\"ground\")??0)+i;break;case\"relative-to-scene\":t=(G(this.view.elevationProvider,this.location,\"scene\")??0)+i;break;case\"absolute-height\":t=i}return t!==this._elevation.offset||e!==this._elevation.override?(this._elevation.offset=t,void(this._elevation.override=e)):void 0}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ce;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?Z.Focused:Z.Unfocused)|(this.selected?Z.Selected:Z.Unselected),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.visible=!1;continue}const e=(r&Z.All)!==Z.None,i=(r&X.All)!==X.None,a=!e||(s&r)==(r&Z.All),c=!i||(this.state&r)==(r&X.All);if(a&&c)for(const s of n)s.visible=!0,s.transformation=t;else for(const t of n)t.visible=!1}}_ensureEngineResources(){if(null==this._engineResources){const e=this._engineLayer,t=[],i=new Set;this.renderObjects.forEach((({geometry:{material:e}})=>{i.has(e)||(t.push(e),i.add(e))}));const s=new Map;this._renderObjects.forEach((e=>{const t=new J({castShadow:!1,geometries:[e.geometry]}),i=s.get(e.stateMask)||[];i.push(t),s.set(e.stateMask,i)}));const o=[];s.forEach(((e,t)=>o.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:o,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){const e=this._stage;if(this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id)||0;0===s&&e.add(t),i.set(t.id,s+1)})),t.forEach((({objects:t})=>{i.addMany(t),e.addMany(t)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(){const e=this._stage;if(!this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:t})=>{i.removeMany(t),e.removeMany(t)})),s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id);1===s?(e.remove(t),i.delete(t.id)):i.set(t.id,s-1)})),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ae);return S(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return R(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return _(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&u(t,t,this._worldFrame),u(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,null!=this._applyObjectTransform&&this._applyObjectTransform(t),t}get test(){}}function te(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ie(e,t,i){switch(e.viewingMode){case\"local\":return g(i),!0;case\"global\":{const o=T(e.renderCoordsHelper.spatialReference);return F(t,0,he,0,o.radius),D(s(he[0]),s(he[1]),i),!0}}}const se=r(),oe=P(),re=W(),ne=h(),ae=m(),ce=m(),le=M(),he=O(),de=O(),_e=O(),ue=O(),ge=O(),me=O(),fe=new $({x:0,y:0,z:0,spatialReference:null}),pe=()=>{};export{ee as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ManipulatorStateFlags as t}from\"../../interactive/interfaces.js\";class e{constructor(e,s=t.None){this.geometry=e,this.stateMask=s}}export{e as RenderObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction t(t){return t?.operations?.data.geometry}export{t as manipulatedObjectGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{colorVectorToColorAndOpacity as e}from\"../../../core/colorUtils.js\";import{invert as t}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{f as r,b as o,h as n,n as i}from\"../../../chunks/vec32.js\";import{sv3d as c,sm4d as a}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{manipulatedObjectGeometry as s}from\"./editingTools/manipulatedObjectUtils.js\";import{computeCentroid as u}from\"../layers/graphics/graphicUtils.js\";import{CullFaceOptions as m}from\"../webgl-engine/lib/basicInterfaces.js\";import{RenderOccludedFlag as p}from\"../webgl-engine/lib/Material.js\";import{ColorMaterial as g}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as d}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function f(t,r=p.OccludeAndTransparent,o=!0){const n=e(t),i=!(t[3]<1);return o?new d({color:n,writeDepth:i,cullFace:m.Back,renderOccluded:r,isDecoration:!0}):new g({color:n,writeDepth:i,cullFace:m.Back,renderOccluded:r,isDecoration:!0})}function h(t,r=p.OccludeAndTransparent){const o=e(t);return new g({color:o,writeDepth:!0,cullFace:m.Front,renderOccluded:r,isDecoration:!0})}const j=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1}),b=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function w(e,i,l,s){const u=r(c.get(),e,l),m=O(u,o(c.get(),s,u),l,a.get());t(m,m);const p=n(c.get(),i,m);return Math.atan2(p[1],p[0])}function O(e,t,r,n){const a=i(c.get(),e),l=i(c.get(),t),s=o(c.get(),a,l);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=0,n[4]=l[0],n[5]=l[1],n[6]=l[2],n[7]=0,n[8]=s[0],n[9]=s[1],n[10]=s[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function D(e,t){const r=e.getViewForGraphic(t);return null!=r&&\"computeAttachmentOrigin\"in r?r.computeAttachmentOrigin(t,e.spatialReference):null}function F(e,t){const r=t.origin;null==r?y(e,s(t)):e.elevationAlignedLocation=r}function y(e,t){if(null==t)return;const r=\"mesh\"===t.type?t.anchor:u(t);null!=r&&(e.location=l(r))}export{w as calculateInputRotationTransform,O as calculateTranslateRotateFromBases,f as createManipulatorMaterial,h as createManipulatorOutlineMaterial,D as getGraphicAttachmentOrigin,F as placeAtObject,j as rotateManipulatorDefaults,b as worldScaledManipulatorSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{VisualElement as r}from\"./VisualElement.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as i}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as o}from\"../../webgl-engine/lib/WebGLLayer.js\";class a extends r{constructor(e){super(e),this._resources=null,this._transform=s()}get object(){return null!=this._resources?this._resources.object:null}get transform(){return this._transform}set transform(s){e(this._transform,s),null!=this._resources&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(null==this._resources)return;const e=this._resources.object,s=this.view._stage;s.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,s.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new o(e,{pickable:!1,updatePolicy:i.SYNC}),r=new t({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),r.visible=this.visible,this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;null!=this._resources&&e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial((s=>{e.remove(s)})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){null!=this._resources&&(this._resources.object.visible=e)}}export{a as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{addCameraPosition as e}from\"./util/View.glsl.js\";import{FloatPassUniform as i}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function o(o,c){if(!c.screenSizeEnabled)return;const n=o.vertex;e(n,c),n.uniforms.add(new i(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio)),new i(\"screenSizeScale\",(e=>e.screenSizeScale))),n.code.add(r`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));\nreturn viewDirectionDistance * perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}export{o as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as a,oitDepthWrite as p,oitDrawBuffers as l,OITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{TransparencyPassType as d}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as h}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as m}from\"../materials/DefaultTechniqueConfiguration.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{CompareFunction as b}from\"../../../webgl/enums.js\";import{makePipelineState as y,cullingParams as S,defaultDepthWriteParams as g,defaultColorWriteParams as T}from\"../../../webgl/renderState.js\";class j extends o{initializeProgram(e){return new u(e.rctx,j.shader.get().build(this.configuration),E)}_setPipelineState(e){const r=this.configuration,o=e===d.NONE,i=e===d.FrontFace;return y({blending:r.output===t.Color&&r.transparent?o?n:a(e):null,culling:S(r.cullFace),depthTest:{func:i?b.LESS:r.shadingEnabled?b.LEQUAL:b.LESS},depthWrite:o?r.writeDepth?g:null:p(e),drawBuffers:l(e),colorWrite:T,polygonOffset:o||i?null:c})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}j.shader=new r(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class v extends m{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=d.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.multipassEnabled=!1,this.cullAboveGround=!1}}e([i({count:t.COUNT})],v.prototype,\"output\",void 0),e([i({count:s.COUNT})],v.prototype,\"cullFace\",void 0),e([i({count:d.COUNT})],v.prototype,\"transparencyPassType\",void 0),e([i()],v.prototype,\"hasSlicePlane\",void 0),e([i()],v.prototype,\"transparent\",void 0),e([i()],v.prototype,\"writeDepth\",void 0),e([i()],v.prototype,\"screenSizeEnabled\",void 0),e([i()],v.prototype,\"shadingEnabled\",void 0),e([i()],v.prototype,\"multipassEnabled\",void 0),e([i()],v.prototype,\"cullAboveGround\",void 0),e([i({constValue:!1})],v.prototype,\"occlusionPass\",void 0);const E=new Map([[h.POSITION,0],[h.NORMAL,1],[h.OFFSET,2]]);export{j as ShadedColorMaterialTechnique,v as ShadedColorMaterialTechniqueConfiguration,E as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,j as r,g as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as c}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as l}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as h,isColorOrOID as u}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as p}from\"../lib/basicInterfaces.js\";import f from\"../lib/GLMaterial.js\";import{Material as m,MaterialParameters as d}from\"../lib/Material.js\";import{intersectTriangleGeometry as b}from\"../lib/RayIntersections.js\";import{RenderSlot as S}from\"../lib/RenderSlot.js\";import{assert as g}from\"../lib/Util.js\";import{VertexAttribute as E}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as T,writePosition as _}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as A,vertexAttributeLocations as F,ShadedColorMaterialTechnique as j}from\"../shaders/ShadedColorMaterialTechnique.js\";class w extends m{constructor(e){super(e,new x),this.supportsEdges=!0,this.produces=new Map([[S.OPAQUE_MATERIAL,e=>e===h.Highlight||u(e)&&!this._isTransparent],[S.TRANSPARENT_MATERIAL,e=>u(e)&&this._isTransparent&&this.parameters.writeDepth],[S.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>u(e)&&this._isTransparent&&!this.parameters.writeDepth]]),this._configuration=new A,this._vertexAttributeLocations=F}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,a,c,l,h){if(this.parameters.screenSizeEnabled){const s=e.attributes.get(E.OFFSET),u={applyToVertex:(e,n,o,c)=>{const l=t(O,s.data[3*c],s.data[3*c+1],s.data[3*c+2]),h=t(y,e,n,o);return r(l,l,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(l)),i(h,h,l),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,O);return o(e,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(t))}};b(e,a,c,l,u,h)}else b(e,a,c,l,void 0,h)}createGLMaterial(e){return new v(e)}createBufferWriter(){return new z(this.parameters.screenSizeEnabled)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class v extends f{beginSlot(e){return this.ensureTechnique(j,e)}}class x extends d{constructor(){super(...arguments),this.color=a(1,1,1,1),this.shadingTint=a(0,0,0,.25),this.shadingDirection=e(s(),[.5,-.5,-.5]),this.screenSizeScale=14,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=p.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class z{constructor(e){this.screenSizeEnabled=e;const t=l().vec3f(E.POSITION).vec3f(E.NORMAL);this.screenSizeEnabled&&t.vec3f(E.OFFSET),this.vertexBufferLayout=t}elementCount(e){return e.attributes.get(E.POSITION).indices.length}write(e,t,r,i,s){if(T(r,this.vertexBufferLayout,e,t,i,s),this.screenSizeEnabled){if(!r.attributes.has(E.OFFSET))throw new Error(`${E.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const e=r.attributes.get(E.OFFSET);g(3===e.size);const a=i.getField(E.OFFSET,c);if(!a)throw new Error(\"unable to acquire view for \"+E.OFFSET);_(e,t,a,s)}}}}const O=s(),y=s();export{w as ShadedColorMaterial,x as ShadedColorMaterialParameters};\n"],"names":["u","e","f","b","multipassEnabled","output","r","Color","include","a","o","i","vertex","h","fragment","y","s","n","uniforms","add","g","color","attributes","p","POSITION","varyings","screenSizeEnabled","OFFSET","shadingEnabled","t","NORMAL","code","m","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","d","_templateObject4","c","shadingDirection","w","shadingTint","_templateObject5","_templateObject6","transparencyPassType","v","ColorAlpha","outputs","_templateObject7","ObjectAndLayerIdColor","_templateObject8","float","l","_templateObject9","_templateObject10","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","ee","constructor","_this$view$state","this","metadata","_camera","Y","_elevation","offset","override","collisionType","type","collisionPriority","_renderObjects","Array","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","O","_renderLocationDirty","_location","$","x","z","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","consumesClicks","cursor","grabCursor","_grabbing","dragging","_hovering","_selected","_state","X","None","_focused","events","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_engineResourcesAddedToStage","_attached","spatialReference","view","assign","state","camera","copyFrom","destroy","_applyObjectTransform","pe","_removeResourcesFromStage","_engineResources","_stage","_this$view","elevationInfo","_elevationInfo","_updateEngineObject","renderObjects","slice","available","disableDisplay","radius","worldSized","modelTransform","te","renderLocation","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","viewingMode","T","F","he","D","ie","fromRenderCoords","location","N","_notifyLocationChanged","emit","_evaluateElevationAlignment","_updateElevationAlignedLocation","H","grabbableForEvent","grabbing","_setFocused","hovering","selected","action","updateStateEnabled","focused","screenLocation","_ensureScreenLocation","computeScreenPixelSizeAt","_calculateModelTransformOffset","me","projectToRenderScreen","renderToScreen","applyObjectTransform","attached","intersectionDistance","se","_getCollisionRadius","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ce","V","re","length","de","I","oe","B","get","j","_this$collisionType$o","direction","ne","ue","_","ge","k","le","_e","U","L","_calculateModelTransformPosition","C","attach","arguments","undefined","manipulator3D","engineLayerId","_engineLayer","Q","pickable","updatePolicy","K","SYNC","id","getObject","engineLayerReferences","_materialIdReferences","materialIdReferences","Map","A","detach","onViewChange","onElevationChange","E","fe","extent","_this$location$spatia","_G","_G2","_G3","q","elevationProvider","mode","G","_getFocusedSize","objectsByState","_ensureEngineResources","Z","Focused","Unfocused","Selected","Unselected","stateMask","objects","visible","All","transformation","Set","forEach","_ref","geometry","material","has","push","J","castShadow","geometries","set","layer","materials","_addResourcesToStage","_ref2","addMany","_ref3","removeMany","remove","delete","ae","S","R","test","P","W","M","_t$operations","operations","data","OccludeAndTransparent","writeDepth","cullFace","Back","renderOccluded","isDecoration","Front","calloutLength","calloutWidth","discRadius","Math","atan2","getViewForGraphic","computeAttachmentOrigin","origin","anchor","super","_resources","_transform","object","transform","recreate","createResources","recreateGeometry","removeAllGeometries","createGeometries","destroyResources","createExternalResources","forEachExternalMaterial","dispose","destroyExternalResources","updateVisibility","perScreenPixelRatio","screenSizeScale","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","transparent","culling","depthTest","func","LESS","LEQUAL","depthWrite","drawBuffers","colorWrite","polygonOffset","initializePipeline","hasSlicePlane","cullAboveGround","count","COUNT","prototype","constValue","supportsEdges","produces","OPAQUE_MATERIAL","Highlight","_isTransparent","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","_configuration","_vertexAttributeLocations","getConfiguration","multipassTerrain","intersect","applyToVertex","applyToAabb","createGLMaterial","createBufferWriter","forceTransparentMode","beginSlot","ensureTechnique","vec3f","vertexBufferLayout","elementCount","indices","write","Error","concat","size","getField"],"sourceRoot":""}