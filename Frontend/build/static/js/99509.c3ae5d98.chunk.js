"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[99509],{80573:(e,t,i)=>{i.d(t,{Z:()=>h});var s=i(27366),n=i(7138),l=i(63780),r=i(11582),o=i(79056),a=i(46784),c=i(49861),u=(i(93169),i(32718),i(69912));let d=0,p=class extends((0,a.eC)((0,r.J)((0,o.IG)(n.default)))){constructor(e){super(e),this.id="".concat(Date.now().toString(16),"-analysis-").concat(d++),this.title=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}get isEditable(){return this.requiredPropertiesForEditing.every(l.pC)}};(0,s._)([(0,c.Cb)({type:String,constructOnly:!0,clonable:!1})],p.prototype,"id",void 0),(0,s._)([(0,c.Cb)({type:String})],p.prototype,"title",void 0),(0,s._)([(0,c.Cb)({clonable:!1,value:null})],p.prototype,"parent",null),(0,s._)([(0,c.Cb)({readOnly:!0})],p.prototype,"isEditable",null),p=(0,s._)([(0,u.j)("esri.analysis.Analysis")],p);const h=p},77372:(e,t,i)=>{i.d(t,{Z:()=>v});var s=i(27366),n=(i(59486),i(11582)),l=i(17768),r=i(46784),o=i(92026),a=i(49861),c=i(89125),u=(i(84936),i(93169),i(69912)),d=i(25243),p=i(96866),h=i(848);let y=class extends((0,n.J)(r.wq)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&(0,o._W)(this.position,e.position)&&this.width===e.width&&this.height===e.height}};(0,s._)([(0,a.Cb)({readOnly:!0,json:{read:!1,write:!0}})],y.prototype,"type",void 0),(0,s._)([(0,a.Cb)({type:h.Z}),(0,p.B)()],y.prototype,"position",void 0),(0,s._)([(0,a.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,p.B)(),(0,c.p)((e=>l.BV.normalize((0,d.q9)(e),0,!0)))],y.prototype,"heading",void 0),(0,s._)([(0,a.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,p.B)(),(0,c.p)((e=>l.BV.normalize((0,d.q9)(e),0,!0)))],y.prototype,"tilt",void 0),(0,s._)([(0,a.Cb)({type:Number,nonNullable:!0}),(0,p.B)()],y.prototype,"width",void 0),(0,s._)([(0,a.Cb)({type:Number,nonNullable:!0}),(0,p.B)()],y.prototype,"height",void 0),y=(0,s._)([(0,u.j)("esri.analysis.SlicePlane")],y);const v=y},96866:(e,t,i)=>{i.d(t,{B:()=>h});var s=i(10064),n=i(9997),l=i(80292),r=i(35995),o=i(71907),a=i(33397),c=i(25265),u=i(49861),d=i(22892),p=i(53283);function h(e){var t;const i=null!==(t=null===e||void 0===e?void 0:e.origins)&&void 0!==t?t:[void 0];return(t,s)=>{const n=function(e,t,i){var s;if("resource"===(null===e||void 0===e?void 0:e.type))return function(e,t,i){const s=(0,a.Oe)(t,i);return{type:String,read:(e,t,i)=>{const n=(0,p.r)(e,t,i);return s.type===String?n:"function"==typeof s.type?new s.type({url:n}):void 0},write:{writer(t,n,o,a){if(null===a||void 0===a||!a.resources)return"string"==typeof t?void(n[o]=(0,p.t)(t,a)):void(n[o]=t.write({},a));const u=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),h=(0,p.t)(u,{...a,verifyItemRelativeUrls:null!==a&&void 0!==a&&a.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},p.M.NO),_=s.type!==String&&(!(0,l.l)(this)||(null===a||void 0===a?void 0:a.origin)&&this.originIdOf(i)>(0,c.M9)(a.origin)),g={object:this,propertyName:i,value:t,targetUrl:h,dest:n,targetPropertyName:o,context:a,params:e};null!==a&&void 0!==a&&a.portalItem&&h&&!(0,r.YP)(h)?_&&null!==e&&void 0!==e&&e.contentAddressed?y(g):_?function(e){var t;const{context:i,targetUrl:s,params:n,value:l,dest:o,targetPropertyName:a}=e;if(!i.portalItem)return;const c=i.portalItem.resourceFromPath(s),u=w(l,s,i),p=(0,d.B)(u),h=(0,r.Ml)(c.path),_=null!==(t=null===n||void 0===n?void 0:n.compress)&&void 0!==t&&t;p===h?(i.resources&&v({...e,resource:c,content:u,compress:_,updates:i.resources.toUpdate}),o[a]=s):y(e)}(g):function(e){let{context:t,targetUrl:i,dest:s,targetPropertyName:n}=e;t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),s[n]=i)}(g):null!==a&&void 0!==a&&a.portalItem&&(null==h||null!=(0,p.i)(h)||(0,r.jc)(h)||_)?y(g):n[o]=h}}}}(e,t,i);switch(null!==(s=null===e||void 0===e?void 0:e.type)&&void 0!==s?s:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=p.b;return{read:e,write:t}}}}(e,t,s);for(const e of i){const i=(0,u.CJ)(t,e,s);for(const e in n)i[e]=n[e]}}}function y(e){var t,i,l,a;const{targetUrl:c,params:u,value:h,context:y,dest:_,targetPropertyName:g}=e;if(!y.portalItem)return;const b=(0,p.p)(c),m=w(h,c,y);if(null!==u&&void 0!==u&&u.contentAddressed&&"json"!==m.type)return void(null===(t=y.messages)||void 0===t||t.push(new s.Z("persistable:contentAddressingUnsupported",'Property "'.concat(g,'" is trying to serializing a resource with content of type ').concat(m.type," with content addressing. Content addressing is only supported for json resources."),{content:m})));const f=null!==u&&void 0!==u&&u.contentAddressed&&"json"===m.type?(0,n.F)(m.jsonString):null!==(i=null===b||void 0===b?void 0:b.filename)&&void 0!==i?i:(0,o.DO)(),x=(0,r.v_)(null!==(l=null===u||void 0===u?void 0:u.prefix)&&void 0!==l?l:null===b||void 0===b?void 0:b.prefix,f),C="".concat(x,".").concat((0,d.B)(m));if(null!==u&&void 0!==u&&u.contentAddressed&&y.resources&&"json"===m.type){var V;const e=null!==(V=y.resources.toKeep.find((e=>{let{resource:t}=e;return t.path===C})))&&void 0!==V?V:y.resources.toAdd.find((e=>{let{resource:t}=e;return t.path===C}));if(e)return void(_[g]=e.resource.itemRelativeUrl)}const I=y.portalItem.resourceFromPath(C);(0,r.jc)(c)&&y.resources&&y.resources.pendingOperations.push((0,r.gi)(c).then((e=>{I.path="".concat(x,".").concat((0,d.B)({type:"blob",blob:e})),_[g]=I.itemRelativeUrl})).catch((()=>{})));const L=null!==(a=null===u||void 0===u?void 0:u.compress)&&void 0!==a&&a;y.resources&&v({...e,resource:I,content:m,compress:L,updates:y.resources.toAdd}),_[g]=I.itemRelativeUrl}function v(e){let{object:t,propertyName:i,updates:s,resource:n,content:l,compress:r}=e;s.push({resource:n,content:l,compress:r,finish:e=>{!function(e,t,i){"string"==typeof e[t]?e[t]=i.url:e[t].url=i.url}(t,i,e)}})}function w(e,t,i){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(i))}}},80292:(e,t,i)=>{function s(e){return e&&"getAtOrigin"in e&&"originOf"in e}i.d(t,{l:()=>s})},22892:(e,t,i)=>{i.d(t,{B:()=>n});var s=i(35995);function n(e){return l[function(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function(e){const t=(0,s.Ml)(e);return a[t]||r}(e.url)}(e)]||o}const l={},r="text/plain",o=l[r],a={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const c in a)l[a[c]]=c},99509:(e,t,i)=>{i.r(t),i.d(t,{default:()=>L});var s=i(27366),n=i(66978),l=i(49861),r=(i(93169),i(32718),i(84936),i(69912)),o=i(33565),a=i(80573),c=i(77372),u=i(80987),d=i(60354);let p=class extends a.Z{constructor(e){super(e),this.type="slice",this.tiltEnabled=!1,this.shape=null,this.excludeGroundSurface=!1}get excludedLayers(){return this._get("excludedLayers")||new u.Z}set excludedLayers(e){this._set("excludedLayers",(0,d.Z)(e,this._get("excludedLayers")))}get requiredPropertiesForEditing(){var e;return[null===(e=this.shape)||void 0===e?void 0:e.position]}clear(){this.shape=null}};(0,s._)([(0,l.Cb)({type:["slice"]})],p.prototype,"type",void 0),(0,s._)([(0,l.Cb)()],p.prototype,"tiltEnabled",void 0),(0,s._)([(0,l.Cb)({types:{key:"type",base:null,typeMap:{plane:c.Z},defaultKeyValue:"plane"}})],p.prototype,"shape",void 0),(0,s._)([(0,l.Cb)({cast:d.R,clonable:e=>e.slice()})],p.prototype,"excludedLayers",null),(0,s._)([(0,l.Cb)({type:Boolean,nonNullable:!0})],p.prototype,"excludeGroundSurface",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],p.prototype,"requiredPropertiesForEditing",null),p=(0,s._)([(0,r.j)("esri.analysis.SliceAnalysis")],p);const h=p;var y=i(31539);const v=new Set;let w=class extends y.S{constructor(e){super(e),this.analysis=null,this.supportedViewType="3d",this.unsupportedErrorMessage="SliceViewModel is only supported in 3D views.",v.add(this)}destroy(){v.delete(this)}get state(){return this.disabled||!this.ready?"disabled":null==this.tool?"ready":this.tool.state}get shape(){return this.analysis.shape}set shape(e){this.analysis.shape=e}get tiltEnabled(){return this.analysis.tiltEnabled}set tiltEnabled(e){this.analysis.tiltEnabled=e}get layersMode(){var e,t;return null!==(e=null===(t=this.tool)||void 0===t?void 0:t.layersMode)&&void 0!==e?e:"none"}get excludedLayers(){return this.analysis.excludedLayers}set excludedLayers(e){this.analysis.excludedLayers=u.Z.isCollection(e)?e:new u.Z(e)}get excludeGroundSurface(){return this.analysis.excludeGroundSurface}set excludeGroundSurface(e){this.analysis.excludeGroundSurface=e}async start(){await super.start(),v.forEach((e=>{e.view===this.view&&e!==this&&e.clear()})),null!=this.analysisView&&(this.analysisView.active=!0)}enterExcludeLayerMode(){null!=this.tool&&this.tool.enterExcludeLayerMode()}exitExcludeLayerMode(){null!=this.tool&&this.tool.exitExcludeLayerMode()}onConnectToAnalysisView(e){e.active=!0}constructAnalysis(){return new h}};(0,s._)([(0,l.Cb)({type:h})],w.prototype,"analysis",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],w.prototype,"state",null),(0,s._)([(0,l.Cb)()],w.prototype,"shape",null),(0,s._)([(0,l.Cb)()],w.prototype,"tiltEnabled",null),(0,s._)([(0,l.Cb)()],w.prototype,"layersMode",null),(0,s._)([(0,l.Cb)()],w.prototype,"excludedLayers",null),(0,s._)([(0,l.Cb)({nonNullable:!0})],w.prototype,"excludeGroundSurface",null),w=(0,s._)([(0,r.j)("esri.widgets.Slice.SliceViewModel")],w);const _=w;var g=i(8905),b=i(7021),m=i(96919),f=(i(80975),i(80532)),x=i(67005);const C="esri-slice",V={base:C,actions:"".concat(C,"__actions"),cancelButton:"".concat(C,"__cancel-button"),container:"".concat(C,"__container"),error:"".concat(C,"__error"),excludeButton:"".concat(C,"__exclude-button"),hint:"".concat(C,"__hint"),hintText:"".concat(C,"__hint-text"),layerItem:"".concat(C,"__layer-item"),layerList:"".concat(C,"__layer-list"),layerListHeading:"".concat(C,"__layer-list-title"),newSliceButton:"".concat(C,"__clear-button")};let I=class extends o.Z{constructor(e,t){super(e,t),this.headingLevel=3,this.messages=null,this.viewModel=new _,this._onNewSliceClick=()=>{(0,n.R8)(this.viewModel.start())}}loadDependencies(){return(0,g.h)({action:()=>Promise.all([i.e(92358),i.e(46895),i.e(65138),i.e(91741)]).then(i.bind(i,6814)),button:()=>Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(14105),i.e(32275)]).then(i.bind(i,32275)),"list-item":()=>Promise.all([i.e(92358),i.e(46895),i.e(65138),i.e(21340)]).then(i.bind(i,67994)),list:()=>Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(34504),i.e(8715),i.e(38782)]).then(i.bind(i,38782))})}get active(){return this.viewModel.active}get analysis(){return this.viewModel.analysis}set analysis(e){this.viewModel.analysis=e}get excludedLayers(){return this.viewModel.excludedLayers}set excludedLayers(e){this.viewModel.excludedLayers=e}get excludeGroundSurface(){return this.viewModel.excludeGroundSurface}set excludeGroundSurface(e){this.viewModel.excludeGroundSurface=e}get icon(){return"slice"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}get hasVoxelLayers(){var e;const t=null===(e=this.viewModel)||void 0===e?void 0:e.view;return null!=t&&t.allLayerViews.some((e=>"voxel-3d"===e.type))}render(){return(0,x.u)("div",{class:this.classes(V.base,b.z.widget,b.z.panel),role:"presentation"},this.visible?(0,x.u)("div",{class:V.container},this.viewModel.supported?[this._renderHint(),this._renderLayerList(),this._renderActions()]:this._renderUnsupported()):null)}_renderUnsupported(){return(0,x.u)("div",{class:V.error,key:"unsupported"},(0,x.u)("p",null,this.messages.unsupported))}_renderHint(){const{hasVoxelLayers:e,messages:t,viewModel:i}=this,{active:s,layersMode:n,state:l}=i;let r=null;return s&&("exclude"===n?r=t.excludeHint:"ready"===l&&(r=e?t.voxelHint:t.hint)),r?(0,x.u)("div",{class:V.hint,key:"hint"},(0,x.u)("p",{class:V.hintText},r),(0,x.u)("p",{class:V.hintText},t.verticalHint)):null}_renderLayerList(){const{excludedLayers:e,excludeGroundSurface:t,headingLevel:i,messages:s,viewModel:n}=this,{layersMode:l,state:r}=n,o="slicing"===r||"sliced"===r,a=e?e.toArray().map((e=>this._renderLayerItem({uid:e.uid,title:e.title,onClick:()=>(this.excludedLayers.remove(e),!1)}))):[];return t&&a.push(this._renderLayerItem({uid:"ground",title:s.ground,onClick:()=>(this.excludeGroundSurface=!1,!1)})),"exclude"!==l&&o&&0!==a.length?(0,x.u)("div",{class:V.layerList,key:"settings"},(0,x.u)(m.X,{class:V.layerListHeading,level:i},s.excludedLayers),(0,x.u)("calcite-list",{selectionMode:"none"},a)):null}_renderActions(){const{messages:e,viewModel:t}=this,{active:i,state:s}=t,n="disabled"===s,l="slicing"===s||"sliced"===s,r="exclude"===t.layersMode,o=[];return i&&!l||r||o.push((0,x.u)("calcite-button",{class:V.newSliceButton,disabled:n,key:"new-slice",onclick:this._onNewSliceClick},e.newSlice)),l&&!r&&o.push((0,x.u)("calcite-button",{appearance:"outline-fill",class:V.excludeButton,disabled:n,key:"exclude",onclick:()=>t.enterExcludeLayerMode()},e.excludeLayer)),i&&r&&o.push((0,x.u)("calcite-button",{appearance:"outline-fill",class:V.cancelButton,disabled:n,key:"cancel-exclude",onclick:()=>t.exitExcludeLayerMode()},e.cancel)),0===o.length?null:(0,x.u)("div",{class:V.actions},o)}_renderLayerItem(e){var t;const i=this.messages.includeLayer;return(0,x.u)("calcite-list-item",{class:V.layerItem,key:e.uid,label:null!==(t=e.title)&&void 0!==t?t:""},(0,x.u)("calcite-action",{icon:"x",onclick:e.onClick,scale:"s",slot:"actions-end",text:i,title:i}))}};(0,s._)([(0,l.Cb)()],I.prototype,"active",null),(0,s._)([(0,l.Cb)({constructOnly:!0,nonNullable:!0})],I.prototype,"analysis",null),(0,s._)([(0,l.Cb)()],I.prototype,"excludedLayers",null),(0,s._)([(0,l.Cb)()],I.prototype,"excludeGroundSurface",null),(0,s._)([(0,l.Cb)()],I.prototype,"headingLevel",void 0),(0,s._)([(0,l.Cb)()],I.prototype,"icon",null),(0,s._)([(0,l.Cb)()],I.prototype,"label",null),(0,s._)([(0,l.Cb)(),(0,f.H)("esri/widgets/Slice/t9n/Slice")],I.prototype,"messages",void 0),(0,s._)([(0,l.Cb)()],I.prototype,"view",null),(0,s._)([(0,l.Cb)({type:_})],I.prototype,"viewModel",void 0),(0,s._)([(0,l.Cb)()],I.prototype,"visible",null),(0,s._)([(0,l.Cb)()],I.prototype,"hasVoxelLayers",null),I=(0,s._)([(0,r.j)("esri.widgets.Slice")],I);const L=I},31539:(e,t,i)=>{i.d(t,{S:()=>y});var s,n,l=i(27366),r=i(7138),o=i(14921),a=(i(93169),i(32718)),c=i(92026),u=i(66978),d=i(94172),p=i(49861),h=(i(84936),i(69912));(n=s||(s={}))[n.PENDING=0]="PENDING",n[n.WAIT_FOR_VIEW_READY=1]="WAIT_FOR_VIEW_READY",n[n.RUNNING=2]="RUNNING";let y=class extends r.default{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.view=null,this.analysisView=null,this._reconnectViewTask=null,this._forceInteractiveHandle=null,this._parentChangeFromReconnect=!1,this._startUserOperation=null;const t=null===e||void 0===e?void 0:e.analysis;null!=t?this.analysis=t:(this._set("analysis",this.constructAnalysis()),this._set("isAnalysisOwner",!0)),null!=(null===e||void 0===e?void 0:e.visible)&&(this.visible=e.visible)}normalizeCtorArgs(e){const{analysis:t,...i}=e;return i}initialize(){this.addHandles([(0,d.watch)((()=>({readyAndNotSupported:null!=this.view&&this.view.ready&&!this.supported})),(e=>{let{readyAndNotSupported:t}=e;t&&a.Z.getLogger(this).errorOnce(this.unsupportedErrorMessage)}),d.syncAndInitial),(0,d.watch)((()=>{var e;return null===(e=this.analysis)||void 0===e?void 0:e.parent}),(e=>{this._parentChangeFromReconnect||e===this.view||this._set("isAnalysisOwner",!1);const t=!this._parentChangeFromReconnect;this._parentChangeFromReconnect=!1,t&&this._scheduleViewReconnect()}),d.sync),(0,d.watch)((()=>({view:this.view,ready:null!=this.view&&this.view.ready,supported:this.supported})),((e,t)=>{let{view:i}=e;const s=null===t||void 0===t?void 0:t.view;i!==s&&(this._startUserOperation=(0,c.IM)(this._startUserOperation),this._disconnectFromView(s)),this._scheduleViewReconnect()}),d.syncAndInitial)])}destroy(){this._reconnectViewTask=(0,c.IM)(this._reconnectViewTask),this._startUserOperation=(0,c.IM)(this._startUserOperation),null!=this.analysisView&&(this.analysisView.visible=void 0),this._disconnectFromView(this.view),this._set("view",null),null!=this.analysis&&this.isAnalysisOwner&&(this.analysis.destroy(),this._set("analysis",null))}get supported(){return null==this.view||this.view.type===this.supportedViewType}set visible(e){this._set("visible",e),null!=this.analysisView&&(this.analysisView.visible=e)}get active(){return null!=this.tool&&this.tool.active}get disabled(){return null==this.view||!this.view.ready||!this.supported}set analysis(e){e!==this._get("analysis")&&(this._startUserOperation=(0,c.IM)(this._startUserOperation),this._disconnectFromView(this.view),this._setExternalAnalysis(e),this._scheduleViewReconnect())}get ready(){return null!=this.analysisView&&!this.connectingToView}get connectingToView(){return null!=this._reconnectViewTask}get isAnalysisOwner(){return this._get("isAnalysisOwner")}get tool(){return null!=this.analysisView?this.analysisView.tool:null}clear(){this._startUserOperation=(0,c.IM)(this._startUserOperation),this._resetInteractiveCreationState(),null!=this.tool&&null!=this.view&&this.view.activeTool===this.tool&&(this.view.activeTool=null)}async start(){if(!this.visible)return void a.Z.getLogger(this).warn("Cannot start analysis when not visible");this.clear();const e={task:null,abort:null,state:s.PENDING},t=(0,o.vr)((async t=>{if(e.state=s.WAIT_FOR_VIEW_READY,await(0,d.whenOnce)((()=>this.ready),t),e.state=s.RUNNING,null==this.analysisView||null==this.view)return;const i=this.analysisView.tool;null!=i&&(this.view.activeTool=i,(0,d.when)((()=>i.created),(()=>{i.active&&null!=this.view&&(this.view.activeTool=null)}),{initial:!0,once:!0}))}));return e.task=t,e.abort=()=>t.abort(),this._startUserOperation=e,t.promise}onConnectToAnalysisView(e){}onDisconnectFromAnalysisView(){}_scheduleViewReconnect(){this._reconnectViewTask=(0,c.IM)(this._reconnectViewTask);const e=(0,o.vr)((async t=>{try{await this._reconnectView(t)}catch(i){if((0,u.k_)(t),!(0,u.D_)(i))return void a.Z.getLogger(this).warn("Failed to use analysis in view model",i);throw i}finally{e===this._reconnectViewTask&&(this._reconnectViewTask=null)}}));this._reconnectViewTask=e}async _reconnectView(e){const{view:t}=this,i=null!=t&&t.ready&&this.supported,s=this.analysis;if(this._startUserOperation=v(this._startUserOperation),this._disconnectFromView(t),i&&null!=t&&null!=s){if(this.isAnalysisOwner){if(null!=s.parent)return void a.Z.getLogger(this).errorOnce("expected owned analysis to have null parent when connecting to view");this._parentChangeFromReconnect=!0,t.analyses.add(s)}this.analysisView=await t.whenAnalysisView(s),(0,u.Hc)(e)?this._startUserOperation=v(this._startUserOperation):(this.analysisView.visible=this.visible,this._forceInteractiveHandle=this.analysisView.forceInteractiveForViewModel(),this.addHandles(this._forceInteractiveHandle),this.onConnectToAnalysisView(this.analysisView))}}_disconnectFromView(e){null!=e&&this.isAnalysisOwner&&e.analyses.includes(this.analysis)&&(this._parentChangeFromReconnect=!0,this.analysis.clear(),e.analyses.remove(this.analysis)),this.onDisconnectFromAnalysisView(),this._forceInteractiveHandle=(0,c.hw)(this._forceInteractiveHandle),this.analysisView=null}_setExternalAnalysis(e){null==this.analysisView||this.isAnalysisOwner||(this.analysisView.visible=void 0,this._forceInteractiveHandle=(0,c.hw)(this._forceInteractiveHandle)),this.analysisView=null,this._set("isAnalysisOwner",!1),this._set("analysis",e),this._parentChangeFromReconnect=!1}_resetInteractiveCreationState(){this.analysis.clear(),null!=this.tool&&this.tool.resetCreated()}get testInfo(){}};function v(e){return null!=e&&e.state>=s.RUNNING?(e.abort(),null):e}(0,l._)([(0,p.Cb)()],y.prototype,"supported",null),(0,l._)([(0,p.Cb)()],y.prototype,"view",void 0),(0,l._)([(0,p.Cb)({type:Boolean,value:!0})],y.prototype,"visible",null),(0,l._)([(0,p.Cb)()],y.prototype,"active",null),(0,l._)([(0,p.Cb)()],y.prototype,"disabled",null),(0,l._)([(0,p.Cb)({nonNullable:!0})],y.prototype,"analysis",null),(0,l._)([(0,p.Cb)()],y.prototype,"analysisView",void 0),(0,l._)([(0,p.Cb)()],y.prototype,"ready",null),(0,l._)([(0,p.Cb)()],y.prototype,"connectingToView",null),(0,l._)([(0,p.Cb)({readOnly:!0})],y.prototype,"isAnalysisOwner",null),(0,l._)([(0,p.Cb)()],y.prototype,"_reconnectViewTask",void 0),(0,l._)([(0,p.Cb)()],y.prototype,"_forceInteractiveHandle",void 0),(0,l._)([(0,p.Cb)()],y.prototype,"tool",null),y=(0,l._)([(0,h.j)("esri.widgets.support.AnalysisViewModel")],y)}}]);
//# sourceMappingURL=99509.c3ae5d98.chunk.js.map