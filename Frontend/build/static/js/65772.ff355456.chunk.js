"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[65772,93655],{93655:(t,e,i)=>{i.r(e),i.d(e,{default:()=>A});var s=i(27366),o=i(49861),n=(i(93169),i(32718),i(84936),i(69912)),a=i(68748),l=i(30651),r=i(6693),c=i(56811),h=i(78983),d=i(64575);let u=class extends((0,r.h7)((0,c.M)(l.Z))){constructor(t){super(t),this.elevationInfo=null,this.graphics=new h.J,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,e){return super.on(t,e)}graphicChanged(t){this.emit("graphic-update",t)}};(0,s._)([(0,o.Cb)({type:d.Z})],u.prototype,"elevationInfo",void 0),(0,s._)([(0,o.Cb)((0,a.z)(h.J,"graphics"))],u.prototype,"graphics",void 0),(0,s._)([(0,o.Cb)({type:["show","hide"]})],u.prototype,"listMode",void 0),(0,s._)([(0,o.Cb)()],u.prototype,"screenSizePerspectiveEnabled",void 0),(0,s._)([(0,o.Cb)({readOnly:!0})],u.prototype,"type",void 0),(0,s._)([(0,o.Cb)({constructOnly:!0})],u.prototype,"internal",void 0),u=(0,s._)([(0,n.j)("esri.layers.GraphicsLayer")],u);const A=u},83089:(t,e,i)=>{function s(t,e,i){if(!e||null===t||void 0===t||!t.map)return;const{map:s}=t,o=s.layers.find((t=>t===e));o||s.add(e,i),o&&null!=i&&s.layers.reorder(o,i)}function o(t,e){const i="subtype-sublayer"===(null===e||void 0===e?void 0:e.type)?e.parent:e;return t.allLayerViews.find((t=>{const e=t.layer;return e===i||"sublayers"in e&&null!=e.sublayers&&e.sublayers.includes(i)}))}i.d(e,{j:()=>o,p:()=>s})},65772:(t,e,i)=>{i.r(e),i.d(e,{default:()=>V});var s=i(27366),o=i(94172),n=i(49861),a=(i(93169),i(32718)),l=(i(84936),i(69912)),r=i(33565),c=i(8905),h=(i(80975),i(80532)),d=i(67005),u=i(65905),A=i(51995),w=i(35996),m=i(14404),y=i(7138);let p=class extends y.default{constructor(t){super(t),this.arrowsToggle=!1,this.capSelect=!1,this.colorPicker=!0,this.stylePicker=!0,this.widthInput=!0}};(0,s._)([(0,n.Cb)({type:Boolean,nonNullable:!0})],p.prototype,"arrowsToggle",void 0),(0,s._)([(0,n.Cb)({type:Boolean,nonNullable:!0})],p.prototype,"capSelect",void 0),(0,s._)([(0,n.Cb)({type:Boolean,nonNullable:!0})],p.prototype,"colorPicker",void 0),(0,s._)([(0,n.Cb)({type:Boolean,nonNullable:!0})],p.prototype,"stylePicker",void 0),(0,s._)([(0,n.Cb)({type:Boolean,nonNullable:!0})],p.prototype,"widthInput",void 0),p=(0,s._)([(0,l.j)("esri.widgets.UtilityNetworkAssociations.VisibleElementsSettingsPane")],p);const b=p,v="esri-un-associations",g={divControlsSymbolPicker:"".concat(v,"__div-controls-symbol-picker"),dropdown:"".concat(v,"__dropdown"),dropdownItemLineCap:"".concat(v,"__dropdown-item-line-cap"),dropdownItemLinePattern:"".concat(v,"__dropdown-item-line-pattern"),dropdownSelectedItemLineCap:"".concat(v,"__dropdown-selected-item-line-cap"),dropdownSelectedItemLinePattern:"".concat(v,"__dropdown-selected-item-line-pattern"),dropdownTrigger:"".concat(v,"__dropdown-trigger"),labelAndToggle:"".concat(v,"__label-and-toggle")};let _=class extends r.Z{constructor(t,e){super(t,e),this._lineCapTypes=["butt","round","square"],this._lineStyleTypes=["solid","dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","short-dash","short-dash-dot","short-dash-dot-dot","short-dot"],this.lineSymbol=new m.default,this.messages=null,this.showArrows=!1,this.visibleElements=new b,this._afterComponentCreate=this._afterComponentCreate.bind(this)}render(){const{messages:{input:{lineCap:t,lineColor:e,lineStyle:i,lineWidth:s,showArrows:o}},visibleElements:n}=this,a=this.lineSymbol;return(0,d.u)("div",{class:g.divControlsSymbolPicker},n.arrowsToggle?this._renderToggle(o,this.showArrows,a,"marker"):void 0,n.capSelect?this._renderLineStylePicker(t,this._lineCapTypes,a,"cap"):void 0,n.colorPicker&&a.color?this._renderColorPicker(e,a.color.toHex(),a,"color"):void 0,n.stylePicker?this._renderLineStylePicker(i,this._lineStyleTypes,a,"style"):void 0,n.widthInput?this._renderNumberInput(s,a.width.toString(),a,"width"):void 0)}loadDependencies(){return(0,c.h)({dropdown:()=>Promise.all([i.e(92358),i.e(89219),i.e(43001)]).then(i.bind(i,43001)),"dropdown-group":()=>i.e(89992).then(i.bind(i,89992)),"dropdown-item":()=>Promise.all([i.e(92358),i.e(19784)]).then(i.bind(i,19784)),input:()=>Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(8715),i.e(16746)]).then(i.bind(i,75655)),"input-number":()=>Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(18135),i.e(77244)]).then(i.bind(i,90460)),label:()=>Promise.all([i.e(92358),i.e(35738)]).then(i.bind(i,35738)),switch:()=>Promise.all([i.e(92358),i.e(54438),i.e(40206)]).then(i.bind(i,40206))})}_afterComponentCreate(t){"value"in t&&null!=t.value&&"setNumberValue"in t&&t.setNumberValue({committing:!1,value:t.value,origin:"direct"})}_renderColorPicker(t,e,i,s){return(0,d.u)("calcite-label",{scale:"s"},t,(0,d.u)("calcite-input",{scale:"s",type:"color",value:e,onCalciteInputInput:t=>{const e=t.target;i.set(s,new A.Z(e.value))}}))}_renderLineStylePicker(t,e,i,s){const o="style"===s,n="esri/widgets/UtilityNetworkAssociations/assets/img";return(0,d.u)("calcite-label",{scale:"s"},t,(0,d.u)("calcite-dropdown",{class:g.dropdown,onCalciteDropdownSelect:t=>{const e=t.target;i.set(s,e.selectedItems[0].label)}},(0,d.u)("div",{class:g.dropdownTrigger,role:"button",slot:"trigger"},(0,d.u)("div",{class:o?g.dropdownSelectedItemLinePattern:g.dropdownSelectedItemLineCap,style:"background-image:url(".concat((0,u.V)("".concat(n,"/line-").concat(o?"patterns":"caps","/").concat(i[s],".png")),")")})),(0,d.u)("calcite-dropdown-group",null,e.map((t=>function(t,e){return(0,d.u)("calcite-dropdown-item",{label:t,selected:i[e]===t},(0,d.u)("div",{class:o?g.dropdownItemLinePattern:g.dropdownItemLineCap,style:"background-image:url(".concat((0,u.V)("".concat(n,"/line-").concat(o?"patterns":"caps","/").concat(t,".png")),")")}))}(t,s))))))}_renderNumberInput(t,e,i,s){return(0,d.u)("calcite-label",{scale:"s"},t,(0,d.u)("calcite-input-number",{afterCreate:this._afterComponentCreate,max:10,min:1,scale:"s",step:1,type:"number",value:e,onCalciteInputNumberChange:t=>{const e=t.target;i.set(s,e.value)}}))}_renderToggle(t,e,i,s){return(0,d.u)("div",{class:g.labelAndToggle},(0,d.u)("calcite-label",{scale:"s"},t),(0,d.u)("calcite-switch",{bind:this,checked:e,onCalciteSwitchChange:t=>{t.target.checked?i.set(s,new w.Z({style:"arrow"})):i.set(s,null)}}))}};(0,s._)([(0,n.Cb)()],_.prototype,"lineSymbol",void 0),(0,s._)([(0,n.Cb)(),(0,h.H)("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],_.prototype,"messages",void 0),(0,s._)([(0,n.Cb)()],_.prototype,"showArrows",void 0),(0,s._)([(0,n.Cb)({type:b,nonNullable:!0})],_.prototype,"visibleElements",void 0),_=(0,s._)([(0,l.j)("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsLineSymbolPicker")],_);const S=_;var C=i(52639),k=(i(59166),i(80987)),x=i(10064),L=i(46634),f=i(93655),M=i(83089),E=i(36257),N=i(41201);let P=class extends y.default{constructor(t){super(t),this._internalGraphicsLayerConnectivity=this._createInternalGraphicsLayer("Connectivity Associations (Internal)"),this._internalGraphicsLayerStructuralAttachment=this._createInternalGraphicsLayer("Structural Attachment Associations (Internal)"),this._initialValidationsFinished=!1,this._updatingHandles=new L.R,this.autoRefreshAssociations=!1,this.connectivityAssociationsLineSymbol=new m.default({style:"short-dash",width:2,color:[190,159,159,1]}),this.executionError="",this.loadErrors=new k.Z,this.maxAllowableAssociations=250,this.showAssociationsEnabled=!1,this.showArrowsConnectivity=!1,this.showArrowsStructuralAttachment=!1,this.structuralAttachmentAssociationsLineSymbol=new m.default({style:"short-dash",width:2,color:[159,190,159,1]})}initialize(){const t=async()=>{this.messages||(this.messages=await(0,N.ME)("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations"))};t().then((()=>{this.view||(this.view=null),this.utilityNetwork||(this.utilityNetwork=null),this.addHandles([(0,o.watch)((()=>[this.view,this.utilityNetwork]),(async()=>{var t,e;const{loadErrors:i,messages:{info:{noUtilityNetwork:s,noView:o}}}=this;this._initialValidationsFinished=!1,i.removeAll();let n=!1,l=!1;this.removeAssociations(),"utility"!==(null===(t=this.utilityNetwork)||void 0===t?void 0:t.type)?(this.loadErrors.push(s),a.Z.getLogger(this).error(new x.Z("utilityNetworkAssociations:missing-property",s))):(this.utilityNetwork.loaded||await this.utilityNetwork.load(),n=!0),"2d"!==(null===(e=this.view)||void 0===e?void 0:e.type)?(this.loadErrors.push(o),a.Z.getLogger(this).error(new x.Z("utilityNetworkAssociations:missing-property",o))):((0,M.p)(this.view,this._internalGraphicsLayerConnectivity),(0,M.p)(this.view,this._internalGraphicsLayerStructuralAttachment),l=!0),n&&l&&this.showAssociationsEnabled&&await this.showAssociations(),this._internalGraphicsLayerConnectivity.visible=this.includeConnectivityAssociations,this._internalGraphicsLayerStructuralAttachment.visible=this.includeStructuralAttachmentAssociations,this._initialValidationsFinished=!0}),{initial:!0}),(0,o.watch)((()=>{var t;return[null===(t=this.view)||void 0===t?void 0:t.stationary,this.showAssociationsEnabled,this.maxAllowableAssociations]}),(async()=>{var t;(null===(t=this.view)||void 0===t?void 0:t.stationary)&&this.showAssociationsEnabled&&(this.includeConnectivityAssociations||this.includeStructuralAttachmentAssociations)&&await this.showAssociations()})),(0,o.watch)((()=>[this.showArrowsConnectivity]),(()=>{const t=this.connectivityAssociationsLineSymbol.clone();t.marker=null,this.showArrowsConnectivity&&(t.marker=new w.Z({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"}));for(const e of this._internalGraphicsLayerConnectivity.graphics)e.symbol=t})),(0,o.watch)((()=>[this.showArrowsStructuralAttachment]),(()=>{const t=this.structuralAttachmentAssociationsLineSymbol.clone();t.marker=null,this.showArrowsStructuralAttachment&&(t.marker=new w.Z({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"}));for(const e of this._internalGraphicsLayerStructuralAttachment.graphics)e.symbol=t})),(0,o.watch)((()=>{const{cap:t,color:e,style:i,width:s,marker:o}=this.connectivityAssociationsLineSymbol;return[t,e,i,s,o]}),(()=>{const t=this.connectivityAssociationsLineSymbol.clone();for(const e of this._internalGraphicsLayerConnectivity.graphics)e.symbol=t;this.showArrowsConnectivity=!1,t.marker=null,this.connectivityAssociationsLineSymbol.marker&&(this.showArrowsConnectivity=!0,t.marker=new w.Z({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"}))})),(0,o.watch)((()=>{const{cap:t,color:e,style:i,width:s,marker:o}=this.structuralAttachmentAssociationsLineSymbol;return[t,e,i,s,o]}),(()=>{const t=this.structuralAttachmentAssociationsLineSymbol.clone();for(const e of this._internalGraphicsLayerStructuralAttachment.graphics)e.symbol=t;this.showArrowsStructuralAttachment=!1,t.marker=null,this.structuralAttachmentAssociationsLineSymbol.marker&&(this.showArrowsStructuralAttachment=!0,t.marker=new w.Z({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"}))})),(0,E.qe)(t)])}))}destroy(){this._updatingHandles.destroy(),this.view=null,this._removeInternalGraphicsLayers()}set includeConnectivityAssociations(t){this._set("includeConnectivityAssociations",t),this._internalGraphicsLayerConnectivity.visible=t}set includeStructuralAttachmentAssociations(t){this._set("includeStructuralAttachmentAssociations",t),this._internalGraphicsLayerStructuralAttachment.visible=t}get state(){return this.loadErrors.length?"disabled":this._updatingHandles.updating?"executing":""!==this.executionError?"warning":this._initialValidationsFinished?"ready":"loading"}set utilityNetwork(t){this._get("utilityNetwork")!==t&&this._set("utilityNetwork",t)}set view(t){this._get("view")!==t&&this._set("view",t)}removeAssociations(){this._internalGraphicsLayerConnectivity.removeAll(),this._internalGraphicsLayerStructuralAttachment.removeAll()}async showAssociations(){var t,e;const{messages:{info:{maxAllowableAssociationsExceeded:i,noAssociationsFound:s}},utilityNetwork:o}=this;this._set("executionError",""),this._updatingHandles.addPromise(null===o||void 0===o?void 0:o.synthesizeAssociationGeometries({returnConnectivityAssociations:this.includeConnectivityAssociations,returnAttachmentAssociations:this.includeStructuralAttachmentAssociations,extent:null===(t=this.view)||void 0===t?void 0:t.extent,outSpatialReference:null===(e=this.utilityNetwork)||void 0===e?void 0:e.spatialReference.clone(),maxGeometryCount:this.maxAllowableAssociations}).then((t=>{let e=[],o=[];return null!==t&&void 0!==t&&t.maxGeometryCountExceeded?(this.removeAssociations(),void this._set("executionError",i)):0===(null===t||void 0===t?void 0:t.associations.length)?(this.removeAssociations(),void this._set("executionError",s)):void(t&&(e=null===t||void 0===t?void 0:t.associations.filter((t=>{let{associationType:e}=t;return"connectivity"===e})).map((t=>(this.connectivityAssociationsLineSymbol.marker=null,this.showArrowsConnectivity&&(this.connectivityAssociationsLineSymbol.marker=new w.Z({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"})),new C.Z({geometry:t.geometry.clone(),symbol:this.connectivityAssociationsLineSymbol})))),o=t.associations.filter((t=>{let{associationType:e}=t;return"attachment"===e})).map((t=>(this.structuralAttachmentAssociationsLineSymbol.marker=null,this.showArrowsStructuralAttachment&&(this.structuralAttachmentAssociationsLineSymbol.marker=new w.Z({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"})),new C.Z({geometry:t.geometry.clone(),symbol:this.structuralAttachmentAssociationsLineSymbol})))),this._internalGraphicsLayerConnectivity.removeAll(),e.length>0&&this._internalGraphicsLayerConnectivity.addMany(e),this._internalGraphicsLayerStructuralAttachment.removeAll(),o.length>0&&this._internalGraphicsLayerStructuralAttachment.addMany(o)))}),(t=>{let{message:e}=t;this._set("executionError",e)})))}_createInternalGraphicsLayer(t){return new f.default({listMode:"hide",internal:!0,title:t})}_removeInternalGraphicsLayers(){var t;this._internalGraphicsLayerConnectivity&&this._internalGraphicsLayerStructuralAttachment&&(null===(t=this.view)||void 0===t?void 0:t.map)&&(this.view.map.remove(this._internalGraphicsLayerConnectivity),this.view.map.remove(this._internalGraphicsLayerStructuralAttachment))}};(0,s._)([(0,n.Cb)()],P.prototype,"_initialValidationsFinished",void 0),(0,s._)([(0,n.Cb)()],P.prototype,"autoRefreshAssociations",void 0),(0,s._)([(0,n.Cb)({type:m.default,nonNullable:!0})],P.prototype,"connectivityAssociationsLineSymbol",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],P.prototype,"executionError",void 0),(0,s._)([(0,n.Cb)({type:Boolean,value:!0})],P.prototype,"includeConnectivityAssociations",null),(0,s._)([(0,n.Cb)({type:Boolean,value:!0})],P.prototype,"includeStructuralAttachmentAssociations",null),(0,s._)([(0,n.Cb)()],P.prototype,"loadErrors",void 0),(0,s._)([(0,n.Cb)()],P.prototype,"maxAllowableAssociations",void 0),(0,s._)([(0,n.Cb)()],P.prototype,"messages",void 0),(0,s._)([(0,n.Cb)()],P.prototype,"showAssociationsEnabled",void 0),(0,s._)([(0,n.Cb)()],P.prototype,"showArrowsConnectivity",void 0),(0,s._)([(0,n.Cb)()],P.prototype,"showArrowsStructuralAttachment",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],P.prototype,"state",null),(0,s._)([(0,n.Cb)({type:m.default,nonNullable:!0})],P.prototype,"structuralAttachmentAssociationsLineSymbol",void 0),(0,s._)([(0,n.Cb)()],P.prototype,"utilityNetwork",null),(0,s._)([(0,n.Cb)()],P.prototype,"view",null),P=(0,s._)([(0,l.j)("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsViewModel")],P);const I=P;let G=class extends y.default{constructor(t){super(t),this.maxAllowableAssociationsSlider=!1,this.connectivityAssociationsSettings=null,this.structuralAttachmentAssociationsSettings=null}};(0,s._)([(0,n.Cb)({type:Boolean,nonNullable:!0})],G.prototype,"maxAllowableAssociationsSlider",void 0),(0,s._)([(0,n.Cb)({type:b,nonNullable:!0})],G.prototype,"connectivityAssociationsSettings",void 0),(0,s._)([(0,n.Cb)({type:b,nonNullable:!0})],G.prototype,"structuralAttachmentAssociationsSettings",void 0),G=(0,s._)([(0,l.j)("esri.widgets.UtilityNetworkAssociations.VisibleElements")],G);const T=G,R="esri-un-associations",Z={action:"".concat(R,"__action"),actionRefresh:"".concat(R,"__action-refresh"),blockContent:"".concat(R,"__block-content"),blockSectionSettings:"".concat(R,"__block-section-settings"),divControlsMain:"".concat(R,"__div-controls-main"),label:"".concat(R,"__label"),labelAndSlider:"".concat(R,"__label-and-slider"),labelAndToggle:"".concat(R,"__label-and-toggle"),slider:"".concat(R,"__slider"),statusIconContainer:"".concat(R,"__status-icon-container"),statusIconWarning:"".concat(R,"__status-icon-warning"),switch:"".concat(R,"__switch"),switchContainer:"".concat(R,"__switch-container"),widgetContainer:"".concat(R,"__widget-container")};let U=class extends r.Z{constructor(t,e){super(t,e),this._autoRefreshAssociations=!0,this._associationsOptionsEnabled=!1,this._maxAllowableAssociationsSliderMax=1e3,this._maxAllowableAssociationsSliderMin=250,this._maxAllowableAssociationsSliderStep=250,this.messages=null,this.messagesCommon=null,this.viewModel=new I,this.visibleElements=new T}initialize(){this.addHandles([(0,o.watch)((()=>{var t;return[null===(t=this.view)||void 0===t?void 0:t.stationary,this.showAssociationsEnabled,this.includeConnectivityAssociations,this.includeStructuralAttachmentAssociations,this.maxAllowableAssociations]}),(()=>{!0===this.autoRefreshAssociations&&(!0===this.showAssociationsEnabled?this.viewModel.showAssociations():this.viewModel.removeAssociations())}))])}get autoRefreshAssociations(){return this._autoRefreshAssociations}set autoRefreshAssociations(t){this._autoRefreshAssociations=t}get connectivityAssociationsLineSymbol(){return this.viewModel.connectivityAssociationsLineSymbol}set connectivityAssociationsLineSymbol(t){this.viewModel.connectivityAssociationsLineSymbol=t}get icon(){return"view-associations"}set icon(t){this._overrideIfSome("icon",t)}get includeConnectivityAssociations(){return this.viewModel.includeConnectivityAssociations}set includeConnectivityAssociations(t){this.viewModel.includeConnectivityAssociations=t}get includeStructuralAttachmentAssociations(){return this.viewModel.includeStructuralAttachmentAssociations}set includeStructuralAttachmentAssociations(t){this.viewModel.includeStructuralAttachmentAssociations=t}get label(){var t,e;return null!==(t=null===(e=this.messages)||void 0===e?void 0:e.widgetLabel)&&void 0!==t?t:""}set label(t){this._overrideIfSome("label",t)}get maxAllowableAssociations(){return this.viewModel.maxAllowableAssociations}set maxAllowableAssociations(t){this.viewModel.maxAllowableAssociations=t}get maxAllowableAssociationsSliderMax(){return this._maxAllowableAssociationsSliderMax}set maxAllowableAssociationsSliderMax(t){t<=this.maxAllowableAssociationsSliderMin||(this._maxAllowableAssociationsSliderMax=t)}get maxAllowableAssociationsSliderMin(){return this._maxAllowableAssociationsSliderMin}set maxAllowableAssociationsSliderMin(t){t<0||t>=this.maxAllowableAssociationsSliderMax||(this._maxAllowableAssociationsSliderMin=t)}get maxAllowableAssociationsSliderStep(){return this._maxAllowableAssociationsSliderStep}set maxAllowableAssociationsSliderStep(t){this._maxAllowableAssociationsSliderStep=t}get showArrowsConnectivity(){return this.viewModel.showArrowsConnectivity}set showArrowsConnectivity(t){this.viewModel.showArrowsConnectivity=t}get showArrowsStructuralAttachment(){return this.viewModel.showArrowsStructuralAttachment}set showArrowsStructuralAttachment(t){this.viewModel.showArrowsStructuralAttachment=t}get showAssociationsEnabled(){return this.viewModel.showAssociationsEnabled}set showAssociationsEnabled(t){this.viewModel.showAssociationsEnabled=t}get structuralAttachmentAssociationsLineSymbol(){return this.viewModel.structuralAttachmentAssociationsLineSymbol}set structuralAttachmentAssociationsLineSymbol(t){this.viewModel.structuralAttachmentAssociationsLineSymbol=t}get utilityNetwork(){return this.viewModel.utilityNetwork}set utilityNetwork(t){this.viewModel.utilityNetwork=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const{label:t}=this;return(0,d.u)("div",{class:Z.widgetContainer},(0,d.u)("calcite-block",{class:Z.blockContent,collapsible:!0,heading:t},this._renderStatusIcon(),this.autoRefreshAssociations?this._renderShowAssociationsSwitch():this._renderRefreshAssociationsAction(),this._renderContent()))}loadDependencies(){return(0,c.h)({action:()=>Promise.all([i.e(92358),i.e(46895),i.e(65138),i.e(91741)]).then(i.bind(i,6814)),block:()=>Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(4758)]).then(i.bind(i,4758)),"block-section":()=>Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(93090)]).then(i.bind(i,93090)),icon:()=>Promise.all([i.e(92358),i.e(87474)]).then(i.bind(i,87474)),label:()=>Promise.all([i.e(92358),i.e(35738)]).then(i.bind(i,35738)),notice:()=>Promise.all([i.e(92358),i.e(46895),i.e(15669)]).then(i.bind(i,15669)),panel:()=>Promise.all([i.e(92358),i.e(46895),i.e(89219),i.e(63839),i.e(65138),i.e(2654),i.e(23635),i.e(89524),i.e(85026)]).then(i.bind(i,85026)),slider:()=>Promise.all([i.e(92358),i.e(46895),i.e(54438),i.e(69008)]).then(i.bind(i,69008)),switch:()=>Promise.all([i.e(92358),i.e(54438),i.e(40206)]).then(i.bind(i,40206)),tooltip:()=>Promise.all([i.e(92358),i.e(89219),i.e(94730)]).then(i.bind(i,94730))})}_connectivityAssociationsSwitchChange(t){this.includeConnectivityAssociations=t.target.checked}_getLoadErrorMessagesAsNotices(t,e){return(0,d.u)("calcite-notice",{closable:!1,key:"error-notice-".concat(e),kind:"warning",open:!0,scale:"s"},(0,d.u)("div",{slot:"message"},t))}_maxAllowableAssociationsSliderChange(t){this.maxAllowableAssociations=Number(t.target.value)}_refreshAssociations(){const{viewModel:t,viewModel:{state:e}}=this;"ready"!==e&&"warning"!==e||t.showAssociations()}_renderConnectivityAssociationsSettings(){const{messages:{input:{enableConnectivity:t}},visibleElements:{connectivityAssociationsSettings:e}}=this;if(e)return(0,d.u)("calcite-block-section",{class:Z.blockSectionSettings,text:t},(0,d.u)(S,{id:"".concat(this.id,"-symbol-picker-connectivity"),lineSymbol:this.connectivityAssociationsLineSymbol,showArrows:this.showArrowsConnectivity,visibleElements:e}))}_renderConnectivityAssociationsToggle(){const{messages:{input:{enableConnectivity:t}}}=this;return(0,d.u)("div",{class:Z.labelAndToggle,key:"connectivityAssociationsToggleDiv"},(0,d.u)("calcite-label",{class:Z.label},t),(0,d.u)("calcite-switch",{bind:this,checked:this.includeConnectivityAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._connectivityAssociationsSwitchChange}))}_renderContent(){const{viewModel:{loadErrors:t,state:e}}=this;return"disabled"===e?(0,d.u)("div",{class:Z.divControlsMain,key:"loadErrorsDiv"},t.items.map(this._getLoadErrorMessagesAsNotices)):(0,d.u)("calcite-panel",{disabled:"loading"===e},(0,d.u)("div",{class:Z.divControlsMain},this._renderConnectivityAssociationsToggle(),this._renderStructuralAttachmentAssociationsToggle(),this._renderSettingsPane()))}_renderLoadingAction(t,e,i){return(0,d.u)("div",{key:t,slot:"control"},(0,d.u)("calcite-action",{id:e,loading:!0,text:i}),(0,d.u)("calcite-tooltip",{referenceElement:e},(0,d.u)("span",null,i)))}_renderMaxAllowableAssociationsSlider(){const{messages:{input:{maxAllowableAssociations:t}},visibleElements:{maxAllowableAssociationsSlider:e}}=this;if(e)return(0,d.u)("div",{class:Z.labelAndSlider},(0,d.u)("calcite-label",{class:Z.label},t),(0,d.u)("calcite-slider",{bind:this,class:Z.slider,labelTicks:!0,max:this.maxAllowableAssociationsSliderMax,min:this.maxAllowableAssociationsSliderMin,scale:"s",snap:!0,step:this.maxAllowableAssociationsSliderStep,ticks:this.maxAllowableAssociationsSliderStep,value:this.maxAllowableAssociations,onCalciteSliderChange:this._maxAllowableAssociationsSliderChange}))}_renderRefreshAssociationsAction(){const{messages:{input:{refreshAssociations:t}},messagesCommon:{loading:e},viewModel:{state:i}}=this,s="".concat(this.id,"-refresh-action");if("disabled"!==i)return(0,d.u)("div",{class:Z.actionRefresh,slot:"control"},(0,d.u)("calcite-action",{bind:this,class:Z.action,icon:"refresh-f",id:s,loading:"loading"===i,onclick:this._refreshAssociations,text:t}),(0,d.u)("calcite-tooltip",{referenceElement:s},(0,d.u)("span",null,"loading"===i?e:t)))}_renderSettingsPane(){const{messagesCommon:{settings:t},visibleElements:{maxAllowableAssociationsSlider:e,connectivityAssociationsSettings:i,structuralAttachmentAssociationsSettings:s}}=this;if(e||i||s)return(0,d.u)("calcite-block",{class:Z.blockContent,collapsible:!0,heading:t},this._renderMaxAllowableAssociationsSlider(),this._renderConnectivityAssociationsSettings(),this._renderStructuralAttachmentAssociationsSettings())}_renderShowAssociationsSwitch(){const{messages:{input:{enableAssociations:t}},messagesCommon:{loading:e},viewModel:{state:i}}=this,s="".concat(this.id,"-show-associations-switch");if("disabled"!==i)return"loading"===i?this._renderLoadingAction("loadingActionDiv","".concat(this.id,"-loading-action"),e):(0,d.u)("div",{class:Z.switchContainer,key:"switchDiv",slot:"control"},(0,d.u)("calcite-switch",{bind:this,checked:this.showAssociationsEnabled,class:Z.switch,id:s,onCalciteSwitchChange:this._showAssociationsSwitchChange}),(0,d.u)("calcite-tooltip",{referenceElement:s},(0,d.u)("span",null,t)))}_renderStatusIcon(){const{messagesCommon:{executing:t},viewModel:{executionError:e,state:i}}=this;switch(i){case"disabled":return this._renderWarningIcon("statusDiv","".concat(this.id,"-disabled-icon"),null);case"warning":return this._renderWarningIcon("statusDiv","".concat(this.id,"-warning-icon"),e);case"executing":return this._renderLoadingAction("executingActionDiv","".concat(this.id,"-executing-action"),t);default:return}}_renderStructuralAttachmentAssociationsSettings(){const{messages:{input:{enableStructuralAttachment:t}},visibleElements:{structuralAttachmentAssociationsSettings:e}}=this;if(e)return(0,d.u)("calcite-block-section",{class:Z.blockSectionSettings,text:t},(0,d.u)(S,{id:"".concat(this.id,"-symbol-picker-structural-attachment"),lineSymbol:this.structuralAttachmentAssociationsLineSymbol,showArrows:this.showArrowsStructuralAttachment,visibleElements:e}))}_renderStructuralAttachmentAssociationsToggle(){const{messages:{input:{enableStructuralAttachment:t}}}=this;return(0,d.u)("div",{class:Z.labelAndToggle,key:"structuralAttachmentAssociationsToggleDiv"},(0,d.u)("calcite-label",{class:Z.label},t),(0,d.u)("calcite-switch",{bind:this,checked:this.includeStructuralAttachmentAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._structuralAttAssociationsSwitchChange}))}_showAssociationsSwitchChange(t){const{viewModel:e}=this;this.showAssociationsEnabled=t.target.checked,this._associationsOptionsEnabled=t.target.checked,this.showAssociationsEnabled||e.removeAssociations()}_structuralAttAssociationsSwitchChange(t){this.includeStructuralAttachmentAssociations=t.target.checked}_renderWarningIcon(t,e,i){return i?(0,d.u)("div",{class:Z.statusIconContainer,key:t,slot:"control"},(0,d.u)("calcite-icon",{class:Z.statusIconWarning,icon:"exclamation-mark-triangle",id:e,scale:"s"}),(0,d.u)("calcite-tooltip",{referenceElement:e},(0,d.u)("span",null,i))):(0,d.u)("div",{class:Z.statusIconContainer,key:t,slot:"control"},(0,d.u)("calcite-icon",{class:Z.statusIconWarning,icon:"exclamation-mark-triangle",id:e,scale:"s"}))}};(0,s._)([(0,n.Cb)()],U.prototype,"autoRefreshAssociations",null),(0,s._)([(0,n.Cb)()],U.prototype,"connectivityAssociationsLineSymbol",null),(0,s._)([(0,n.Cb)()],U.prototype,"icon",null),(0,s._)([(0,n.Cb)()],U.prototype,"includeConnectivityAssociations",null),(0,s._)([(0,n.Cb)()],U.prototype,"includeStructuralAttachmentAssociations",null),(0,s._)([(0,n.Cb)()],U.prototype,"label",null),(0,s._)([(0,n.Cb)()],U.prototype,"maxAllowableAssociations",null),(0,s._)([(0,n.Cb)()],U.prototype,"maxAllowableAssociationsSliderMax",null),(0,s._)([(0,n.Cb)()],U.prototype,"maxAllowableAssociationsSliderMin",null),(0,s._)([(0,n.Cb)()],U.prototype,"maxAllowableAssociationsSliderStep",null),(0,s._)([(0,n.Cb)(),(0,h.H)("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],U.prototype,"messages",void 0),(0,s._)([(0,n.Cb)(),(0,h.H)("esri/t9n/common")],U.prototype,"messagesCommon",void 0),(0,s._)([(0,n.Cb)()],U.prototype,"showArrowsConnectivity",null),(0,s._)([(0,n.Cb)()],U.prototype,"showArrowsStructuralAttachment",null),(0,s._)([(0,n.Cb)()],U.prototype,"showAssociationsEnabled",null),(0,s._)([(0,n.Cb)()],U.prototype,"structuralAttachmentAssociationsLineSymbol",null),(0,s._)([(0,n.Cb)()],U.prototype,"utilityNetwork",null),(0,s._)([(0,n.Cb)()],U.prototype,"view",null),(0,s._)([(0,n.Cb)({type:I})],U.prototype,"viewModel",void 0),(0,s._)([(0,n.Cb)({type:T,nonNullable:!0})],U.prototype,"visibleElements",void 0),U=(0,s._)([(0,l.j)("esri.widgets.UtilityNetworkAssociations")],U);const V=U}}]);
//# sourceMappingURL=65772.ff355456.chunk.js.map