"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[22412],{79347:(e,t,n)=>{n.d(t,{e:()=>a});var i,r,o,s=n(84397),l={exports:{}};i=l,r=function(){function e(e,n,r){r=r||2;var o,s,l,h,c,u,d,p=n&&n.length,f=p?n[0]*r:e.length,g=t(e,0,f,r,!0),_=[];if(!g||g.next===g.prev)return _;if(p&&(g=a(e,n,g,r)),e.length>80*r){o=l=e[0],s=h=e[1];for(var v=r;v<f;v+=r)(c=e[v])<o&&(o=c),(u=e[v+1])<s&&(s=u),c>l&&(l=c),u>h&&(h=u);d=0!==(d=Math.max(l-o,h-s))?1/d:0}return i(g,_,r,o,s,d),_}function t(e,t,n,i,r){var o,s;if(r===D(e,t,n,i)>0)for(o=t;o<n;o+=i)s=C(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=C(o,e[o],e[o+1],s);if(s&&x(s,s.next)){var l=s.next;E(s),s=l}return s}function n(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!x(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{var r=i.prev;if(E(i),(i=t=r)===i.next)break;n=!0}}while(n||i!==t);return t}function i(e,t,a,h,c,u,d){if(e){!d&&u&&p(e,h,c,u);for(var f,g,_=e;e.prev!==e.next;)if(f=e.prev,g=e.next,u?o(e,h,c,u):r(e))t.push(f.i/a),t.push(e.i/a),t.push(g.i/a),E(e),e=g.next,_=g.next;else if((e=g)===_){d?1===d?i(e=s(n(e),t,a),t,a,h,c,u,2):2===d&&l(e,t,a,h,c,u):i(n(e),t,a,h,c,u,1);break}}}function r(e){var t=e.prev,n=e,i=e.next;if(y(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(_(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&y(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function o(e,t,n,i){var r=e.prev,o=e,s=e.next;if(y(r,o,s)>=0)return!1;for(var l=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,a=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,h=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,u=f(l,a,t,n,i),d=f(h,c,t,n,i),p=e.prevZ,g=e.nextZ;p&&p.z>=u&&g&&g.z<=d;){if(p!==e.prev&&p!==e.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,g!==e.prev&&g!==e.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=d;){if(g!==e.prev&&g!==e.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function s(e,t,i){var r=e;do{var o=r.prev,s=r.next.next;!x(o,s)&&w(o,r,r.next,s)&&O(o,s)&&O(s,o)&&(t.push(o.i/i),t.push(r.i/i),t.push(s.i/i),E(r),E(r.next),r=e=s),r=r.next}while(r!==e);return n(r)}function l(e,t,r,o,s,l){var a=e;do{for(var h=a.next.next;h!==a.prev;){if(a.i!==h.i&&v(a,h)){var c=R(a,h);return a=n(a,a.next),c=n(c,c.next),i(a,t,r,o,s,l),void i(c,t,r,o,s,l)}h=h.next}a=a.next}while(a!==e)}function a(e,i,r,o){var s,l,a,c=[];for(s=0,l=i.length;s<l;s++)(a=t(e,i[s]*o,s<l-1?i[s+1]*o:e.length,o,!1))===a.next&&(a.steiner=!0),c.push(g(a));for(c.sort(h),s=0;s<c.length;s++)r=n(r=u(c[s],r),r.next);return r}function h(e,t){return e.x-t.x}function c(e){if(e.next.prev===e)return e;let t=e;for(;;){const n=t.next;if(n.prev===t||n===t||n===e)break;t=n}return t}function u(e,t){var i=function(e,t){var n,i=t,r=e.x,o=e.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var l=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(l<=r&&l>s){if(s=l,l===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===s)return n;var a,h=n,c=n.x,u=n.y,p=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&_(o<u?r:s,o,c,u,o<u?s:r,o,i.x,i.y)&&(a=Math.abs(o-i.y)/(r-i.x),O(i,e)&&(a<p||a===p&&(i.x>n.x||i.x===n.x&&d(n,i)))&&(n=i,p=a)),i=i.next}while(i!==h);return n}(e,t);if(!i)return t;var r=R(i,e),o=n(i,i.next);let s=c(r);return n(s,s.next),o=c(o),c(t===i?o:t)}function d(e,t){return y(e.prev,e,t.prev)<0&&y(t.next,e,e.next)<0}function p(e,t,n,i){var r=e;do{null===r.z&&(r.z=f(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,o,s,l,a,h=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,l=0,t=0;t<h&&(l++,i=i.nextZ);t++);for(a=h;l>0||a>0&&i;)0!==l&&(0===a||!i||n.z<=i.z)?(r=n,n=n.nextZ,l--):(r=i,i=i.nextZ,a--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,h*=2}while(s>1)}(r)}function f(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function g(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function _(e,t,n,i,r,o,s,l){return(r-s)*(t-l)-(e-s)*(o-l)>=0&&(e-s)*(i-l)-(n-s)*(t-l)>=0&&(n-s)*(o-l)-(r-s)*(i-l)>=0}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&w(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(O(e,t)&&O(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||x(e,t)&&y(e.prev,e,e.next)>0&&y(t.prev,t,t.next)>0)}function y(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function w(e,t,n,i){var r=b(y(e,t,n)),o=b(y(e,t,i)),s=b(y(n,i,e)),l=b(y(n,i,t));return r!==o&&s!==l||!(0!==r||!m(e,n,t))||!(0!==o||!m(e,i,t))||!(0!==s||!m(n,e,i))||!(0!==l||!m(n,t,i))}function m(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function b(e){return e>0?1:e<0?-1:0}function O(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function R(e,t){var n=new A(e.i,e.x,e.y),i=new A(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function C(e,t,n,i){var r=new A(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function A(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,t,n,i){for(var r=0,o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}return e.deviation=function(e,t,n,i){var r=t&&t.length,o=r?t[0]*n:e.length,s=Math.abs(D(e,0,o,n));if(r)for(var l=0,a=t.length;l<a;l++){var h=t[l]*n,c=l<a-1?t[l+1]*n:e.length;s-=Math.abs(D(e,h,c,n))}var u=0;for(l=0;l<i.length;l+=3){var d=i[l]*n,p=i[l+1]*n,f=i[l+2]*n;u+=Math.abs((e[d]-e[f])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[f+1]-e[d+1]))}return 0===s&&0===u?0:Math.abs((u-s)/s)},e.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var s=0;s<t;s++)n.vertices.push(e[r][o][s]);r>0&&(i+=e[r-1].length,n.holes.push(i))}return n},e},void 0!==(o=r())&&(i.exports=o);const a=(0,s.g)(l.exports)},35888:(e,t,n)=>{n.d(t,{d:()=>o});var i=n(16889),r=n(39406);function o(e,t,n){var o;const c=Array.isArray(e),u=c?e.length/t:e.byteLength/(4*t),d=c?e:new Uint32Array(e,0,u*t),p=null!==(o=null===n||void 0===n?void 0:n.minReduction)&&void 0!==o?o:0,f=(null===n||void 0===n?void 0:n.originalIndices)||null,g=f?f.length:0,_=(null===n||void 0===n?void 0:n.componentOffsets)||null;let v=0;if(_)for(let i=0;i<_.length-1;i++){const e=_[i+1]-_[i];e>v&&(v=e)}else v=u;const y=Math.floor(1.1*v)+1;(null==h||h.length<2*y)&&(h=new Uint32Array((0,i.Sf)(2*y)));for(let i=0;i<2*y;i++)h[i]=0;let x=0;const w=!!_&&!!f,m=w?g:u;let b=(0,r.$z)(u);const O=new Uint32Array(g),R=1.96;let C=0!==p?Math.ceil(4*R*R/(p*p)*p*(1-p)):m,E=1,A=_?_[1]:m;for(let i=0;i<m;i++){if(i===C){const e=1-x/i;if(e+R*Math.sqrt(e*(1-e)/i)<p)return null;C*=2}if(i===A){for(let e=0;e<2*y;e++)h[e]=0;if(f)for(let e=_[E-1];e<_[E];e++)O[e]=b[f[e]];A=_[++E]}const e=w?f[i]:i,n=e*t,r=a(d,n,t);let o=r%y,l=x;for(;0!==h[2*o+1];){if(h[2*o]===r){const e=h[2*o+1]-1;if(s(d,n,e*t,t)){l=b[e];break}}o++,o>=y&&(o-=y)}l===x&&(h[2*o]=r,h[2*o+1]=e+1,x++),b[e]=l}if(0!==p&&1-x/u<p)return null;if(w){for(let e=_[E-1];e<O.length;e++)O[e]=b[f[e]];b=(0,r.mi)(O)}const D=c?new Array(x):new Uint32Array(x*t);x=0;for(let i=0;i<m;i++)b[i]===x&&(l(d,(w?f[i]:i)*t,D,x*t,t),x++);if(f&&!w){const e=new Uint32Array(g);for(let t=0;t<e.length;t++)e[t]=b[f[t]];b=(0,r.mi)(e)}return{buffer:Array.isArray(D)?D:D.buffer,indices:b,uniqueCount:x}}function s(e,t,n,i){for(let r=0;r<i;r++)if(e[t+r]!==e[n+r])return!1;return!0}function l(e,t,n,i,r){for(let o=0;o<r;o++)n[i+o]=e[t+o]}function a(e,t,n){let i=0;for(let r=0;r<n;r++)i=e[t+r]+i|0,i=i+(i<<11)+(i>>>2)|0;return i>>>0}let h=null},26844:(e,t,n)=>{n.d(t,{i:()=>a});var i=n(16889),r=n(68860),o=n(32035),s=n(14320),l=n(55652);function a(e,t,n){const a=function(e,t,n,i){const s=(e=>!Array.isArray(e[0]))(t)?(e,n)=>t[3*e+n]:(e,n)=>t[e][n],a=i?(0,r.c9)(i)/(0,r._R)(i):1;return(0,l.zu)(e,((e,t)=>(0,o.s)(e,s(t,0)*a,s(t,1)*a,s(t,2))),n)}(h,e,t,n)?(0,l.st)(h):[0,0,1];return Math.abs(a[2])>Math.cos((0,i.Vl)(80))?s.R.Z:Math.abs(a[1])>Math.abs(a[0])?s.R.Y:s.R.X}const h=(0,l.Ue)()},91320:(e,t,n)=>{n.d(t,{Ni:()=>p,ZI:()=>i,bT:()=>d});var i,r,o=n(79347),s=n(14320),l=n(69662),a=n(86372),h=n(39406),c=n(26844),u=n(35888);function d(e){const t=p(e.rings,e.hasZ,i.CCW_IS_HOLE,e.spatialReference),n=new Array;let r=0,s=0;for(const i of t.polygons){const e=i.count,l=i.index,c=(0,a.Rq)(t.position,3*l,3*e),u=i.holeIndices.map((e=>e-l)),d=(0,h.mi)((0,o.e)(c,u,3));n.push({position:c,faces:d}),r+=c.length,s+=d.length}const l=function(e,t,n){if(1===e.length)return e[0];const i=(0,a.bg)(t),r=new Array(n);let o=0,s=0,l=0;for(const a of e){for(let e=0;e<a.position.length;e++)i[o++]=a.position[e];for(const e of a.faces)r[s++]=e+l;l=o/3}return{position:i,faces:(0,h.mi)(r)}}(n,r,s),c=Array.isArray(l.position)?(0,u.d)(l.position,3,{originalIndices:l.faces}):(0,u.d)(l.position.buffer,6,{originalIndices:l.faces});return l.position=(0,a.QZ)(new Float64Array(c.buffer)),l.faces=c.indices,l}function p(e,t,n,r){const o=e.length,s=new Array(o),l=new Array(o),h=new Array(o);let c=0;for(let i=0;i<o;++i)c+=e[i].length;let u=0,d=0,p=0;const _=(0,a.bg)(3*c);let v=0;for(let a=o-1;a>=0;a--){const c=e[a],y=n===i.CCW_IS_HOLE&&g(c,t,r);if(y&&1!==o)s[u++]=c;else{let e=c.length;for(let t=0;t<u;++t)e+=s[t].length;const n={index:v,pathLengths:new Array(u+1),count:e,holeIndices:new Array(u)};n.pathLengths[0]=c.length,c.length>0&&(h[p++]={index:v,count:c.length}),v=y?f(c,c.length-1,-1,_,v,c.length,t):f(c,0,1,_,v,c.length,t);for(let i=0;i<u;++i){const e=s[i];n.holeIndices[i]=v,n.pathLengths[i+1]=e.length,e.length>0&&(h[p++]={index:v,count:e.length}),v=f(e,0,1,_,v,e.length,t)}u=0,n.count>0&&(l[d++]=n)}}for(let i=0;i<u;++i){const e=s[i];e.length>0&&(h[p++]={index:v,count:e.length}),v=f(e,0,1,_,v,e.length,t)}return l.length=d,h.length=p,{position:_,polygons:l,outlines:h}}function f(e,t,n,i,r,o,s){r*=3;for(let l=0;l<o;++l){const o=e[t];i[r++]=o[0],i[r++]=o[1],i[r++]=s?o[2]:0,t+=n}return r/3}function g(e,t,n){if(!t)return!(0,l.bu)(e);const i=e.length-1;switch((0,c.i)(e,i,n)){case s.R.X:return!(0,l.bu)(e,s.R.Y,s.R.Z);case s.R.Y:return!(0,l.bu)(e,s.R.X,s.R.Z);case s.R.Z:return!(0,l.bu)(e,s.R.X,s.R.Y)}}(r=i||(i={}))[r.NONE=0]="NONE",r[r.CCW_IS_HOLE=1]="CCW_IS_HOLE"},99047:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(27366),r=n(51995),o=n(7138),s=n(86950),l=n(49861),a=(n(93169),n(32718),n(84936),n(69912)),h=n(97411),c=n(56529),u=n(86700);const d=.3;function p(e,t){t&&Object.assign(e,t)}class f{constructor(e){this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=c.yD.Opaque,this.color=e.accent}}class g{constructor(e){let{colors:t,...n}=e;this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=t.accent,this.outlineColor=t.outline,this.renderOccluded=c.yD.Opaque,this.hoverOutlineColor=t.selectedOutline,p(this,n)}applyColor(e){this._apply(this.color,e)}applyOutline(e){this._apply(this.outlineColor,e)}applyHoverOutline(e){this._apply(this.hoverOutlineColor,e)}_apply(e,t){t.setParameters({color:(0,s.O)(e),renderOccluded:this.renderOccluded})}}class _{constructor(e){let{colors:t,...n}=e;this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.renderOccluded=c.yD.Transparent,this.minSquaredEdgeLength=900,this.color=(0,s.G)(t.accent,.5),this.hoverColor=t.accent,p(this,n)}applyColor(e){this._apply(this.color,e)}applyHover(e){this._apply(this.hoverColor,e)}_apply(e,t){t.setParameters({color:(0,s.O)(e),renderOccluded:this.renderOccluded})}}class v{constructor(e){this.vertex=new g({colors:e,color:e.accent,outlineColor:e.outline}),this.edge=new g({colors:e,color:(0,s.vG)((0,s.G)(e.accent,2/3),.5),outlineColor:(0,s.G)(e.outline,.5),size:8,collisionPadding:8}),this.selected=new g({colors:e,color:e.selected,outlineColor:e.outline}),this.edgeOffset=new _({colors:e})}}class y{constructor(e){let{colors:t,...n}=e;this.width=1.5,this.stipplePattern=(0,u.z5)(3.3),this.falloff=0,this.innerWidth=1.5,this.renderOccluded=c.yD.OccludeAndTransparent,this.color=t.selected,this.stippleOffColor=t.outline,this.innerColor=t.selected,p(this,n)}apply(e){e.color=(0,s.O)(this.color),e.width=this.width,e.stipplePattern=this.stipplePattern,e.stippleOffColor=(0,s.O)(this.stippleOffColor),e.falloff=this.falloff,e.innerWidth=this.innerWidth,e.innerColor=(0,s.O)(this.innerColor),e.renderOccluded=this.renderOccluded}}class x{constructor(e){let{colors:t,...n}=e;this.size=4,this.outlineSize=1,this.shape="square",this.color=t.selected,this.outlineColor=t.outline,p(this,n)}apply(e){e.color=(0,s.O)(this.color),e.size=this.size,e.outlineSize=this.outlineSize,e.outlineColor=(0,s.O)(this.outlineColor),e.primitive=this.shape}}class w{constructor(e){let{colors:t,...n}=e;this.innerWidth=1,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=d,this.globalAlphaContrastBoost=1.5,this.radius=3,this.innerColor=t.selected,this.glowColor=t.accent,this.heightFillColor=t.accent,p(this,n)}apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n={glowColor:r.Z.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:r.Z.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*t*this.glowColor.a,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in e?e.style=n:e.laserlineStyle=n}}class m{constructor(e){this.outline=new y({colors:e,color:e.stippleOff,renderOccluded:c.yD.OccludeAndTransparentStencil,stippleOffColor:e.stippleOn,innerWidth:0}),this.staged=new y({colors:e,color:e.stippleOn,renderOccluded:c.yD.OccludeAndTransparentStencil,innerColor:e.stagedSolid,stippleOffColor:e.stippleOff}),this.shadowStyle=new w({colors:e,globalAlpha:d,glowColor:e.accent,glowFalloff:8,glowWidth:8,innerColor:e.selected,innerWidth:1})}}class b{constructor(e){this.outline=new x({colors:e,color:e.selected,outlineColor:e.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new w({colors:e,globalAlpha:d,glowColor:e.accent,glowFalloff:1.5,glowWidth:6,innerColor:e.selected,innerWidth:1,radius:2})}}class O extends y{constructor(e){let{colors:t,...n}=e;super({colors:t}),this.extensionType=h.n.GROUND_RAY,p(this,n)}}class R{constructor(e){this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,this.lineObjects=new m(e),this.pointObjects=new b(e),this.heightPlane=new w({colors:e,globalAlpha:d,glowColor:e.accent,glowFalloff:8,glowWidth:8,innerColor:e.selected,innerWidth:1}),this.heightBox=new w({colors:e,globalAlpha:d,glowColor:e.accent,glowFalloff:8,glowWidth:8,innerColor:e.selected,innerWidth:0,heightFillColor:e.accent}),this.zVerticalLine=new O({colors:e,color:(0,s.G)(e.accent,.5),falloff:2,innerColor:(0,s.G)(e.selected,0),renderOccluded:c.yD.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:h.n.GROUND_RAY})}}let C=class extends o.default{constructor(e){super(e)}get colors(){const e=this.getTheme().accentColor,t=e.a;return{accent:e,contrast:(0,s.mj)(e),selected:r.Z.fromArray([255,255,255,t]),selectedOutline:r.Z.fromArray([255,255,255,t]),staged:r.Z.fromArray([12,207,255,t]),stagedSolid:r.Z.fromArray([12,207,255,1]),outline:r.Z.fromArray([0,0,0,.5*t]),stippleOn:r.Z.fromArray([255,255,255,1]),stippleOff:r.Z.fromArray([0,0,0,.5])}}get visualElements(){return new R(this.colors)}get manipulators(){return new v(this.colors)}get zManipulator(){return new f(this.colors)}};(0,i._)([(0,l.Cb)()],C.prototype,"colors",null),(0,i._)([(0,l.Cb)()],C.prototype,"visualElements",null),(0,i._)([(0,l.Cb)()],C.prototype,"manipulators",null),(0,i._)([(0,l.Cb)()],C.prototype,"zManipulator",null),(0,i._)([(0,l.Cb)()],C.prototype,"getTheme",void 0),C=(0,i._)([(0,a.j)("esri.views.3d.interactive.editingTools.settings")],C)},87198:(e,t,n)=>{n.d(t,{k:()=>O});var i=n(91505),r=n(32035),o=n(12400),s=n(19093),l=n(99894),a=n(50628),h=n(41414),c=n(86372),u=n(55946),d=n(74509),p=n(64575),f=n(19182),g=n(96026),_=n(78935),v=n(79685),y=n(78081),x=n(56529),w=n(39077),m=n(4760),b=n(58901);class O extends f.i{constructor(e){var t;super(e),this._attachmentOrigin=(0,u.T)(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new i.Z,this._geometry=null,this._width=1,this._color=(0,l.al)(1,0,1,1),this._innerWidth=0,this._innerColor=(0,l.al)(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=x.yD.OccludeAndTransparentStencil,this._attachmentOrigin.spatialReference=e.view.spatialReference,this._laserline=new g.W({view:e.view,isDecoration:e.isDecoration}),this.applyProperties(e),this.attached=null===(t=e.attached)||void 0===t||t}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:R,recreateGeometry:(e,t)=>{e.geometries.length=0,this._recreateGeometry(t,e.material,e.geometries)}}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:R,recreateGeometry:e=>{e.geometries=this._createRenderGeometriesDraped(e.material),this._attachmentOriginChanged()}}}get _laserlineAttached(){return this.attached&&this.visible&&null!=this._laserlineStyle&&!this.isDraped&&this.laserlineEnabled}onAttachedChange(e){this._laserline.attached=this._laserlineAttached,e&&this._attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){(0,s.a)(e,this._color)||((0,s.c)(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){(0,s.a)(e,this._innerColor)||((0,s.c)(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&(0,s.a)(e,this._stippleOffColor)||(this._stippleOffColor=e?(0,l.d9)(e):null,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get attachmentOrigin(){var e;if(!this._attachmentOriginDirty)return this._attachmentOrigin;const t=null===(e=this.object3dResources.resources)||void 0===e?void 0:e.geometries;if(!t||0===t.length)return null;(0,r.s)(E,0,0,0);let n=0;for(const i of t)i.computeAttachmentOrigin(C)&&((0,r.g)(E,E,C),n++);return 0===n?null:((0,r.j)(E,E,1/n),this.view.renderCoordsHelper.fromRenderCoords(E,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}_updateMaterial(){null!=this.object3dResources.resources&&this.object3dResources.resources.material.setParameters(this._materialParameters),null!=this.drapedResources.resources&&this.drapedResources.resources.material.setParameters(this._materialParameters)}get _isClosed(){return null!=this.geometry&&"polygon"===this.geometry.type}get _materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this._isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",hasPolygonOffset:!0,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration}}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===x.yD.OccludeAndTransparentStencil?x.yD.OccludeAndTransparent:this._renderOccluded}_recreateGeometry(e,t,n){this._createRenderGeometries(t,n);for(const i of n)e.addGeometry(i);this._attachmentOriginChanged()}_attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit("attachment-origin-changed")}_createObject3DResources(e){const t=new b.U(this._materialParameters),n=new Array;return this._recreateGeometry(e,t,n),{material:t,geometries:n,forEach:e=>{e(t),n.forEach(e)}}}_createDrapedResources(){const e=new b.U(this._materialParameters);return{material:e,geometries:this._createRenderGeometriesDraped(e)}}_createRenderGeometriesDraped(e){const{geometry:t,view:n}=this,i=n.basemapTerrain.spatialReference;return null==t||null==i?[]:(0,y.r)(t,i).lines.map((t=>{let{position:r}=t;const o={overlayInfo:{spatialReference:i,renderCoordsHelper:n.renderCoordsHelper},attributeData:{position:r},removeDuplicateStartEnd:this._isClosed};return new w.z((0,v.Y)(e,o))}))}calculateMapBounds(e){if(null==this.object3dResources.resources)return!1;const t=this.view.renderCoordsHelper;for(const n of this.object3dResources.resources.geometries){const i=n.attributes.get(m.T.POSITION),r=(0,c.bg)(i.data.length);(0,a.projectBuffer)(i.data,t.spatialReference,0,r,this.view.spatialReference,0,i.data.length/3),(0,h.G1)(e,r)}return!0}_createRenderGeometries(e,t){var n;const i=this.geometry;if(null==i)return;const r=(0,y.V)(i,this.view.elevationProvider,this.view.renderCoordsHelper,_.o.fromElevationInfo(null!==(n=this.elevationInfo)&&void 0!==n?n:new p.Z({mode:(0,d.VW)(i,null)}))),o=new Array;for(const{position:s,mapPositions:l}of r.lines){const n={mapPositions:l,attributeData:{position:s},removeDuplicateStartEnd:this._isClosed};t.push((0,v.Y)(e,n)),o.push(s)}this._laserline.pathVerticalPlane=o}}function R(e){e.geometries=[]}const C=(0,o.Ue)(),E=(0,o.Ue)()},94687:(e,t,n)=>{n.d(t,{F:()=>l});var i=n(27366),r=n(91505),o=n(49861),s=(n(93169),n(32718),n(84936),n(69912));let l=class extends r.Z.EventedAccessor{constructor(e){super(e),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};(0,i._)([(0,o.Cb)({constructOnly:!0})],l.prototype,"graphic",void 0),(0,i._)([(0,o.Cb)()],l.prototype,"tracking",void 0),(0,i._)([(0,o.Cb)()],l.prototype,"displaying",void 0),(0,i._)([(0,o.Cb)()],l.prototype,"isDraped",void 0),l=(0,i._)([(0,s.j)("esri.views.3d.layers.graphics.GraphicState")],l)},79685:(e,t,n)=>{n.d(t,{Y:()=>_,c:()=>x});var i=n(13611),r=n(6644),o=n(86361),s=n(83448),l=n(96334),a=n(86372),h=n(38461),c=n(39406),u=n(50951),d=n(91526),p=n(79100),f=n(40779),g=n(4760);function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=[],_=t.mapPositions;!function(e,t){const{attributeData:{position:n},removeDuplicateStartEnd:i}=e,r=function(e){const t=e.length;return e[0]===e[t-3]&&e[1]===e[t-2]&&e[2]===e[t-1]}(n)&&i,o=n.length/3-(r?1:0),s=new Array(2*(o-1)),l=r?n.slice(0,-3):n;let a=0;for(let h=0;h<o-1;h++)s[a++]=h,s[a++]=h+1;t.push([g.T.POSITION,new d.a(l,s,3,r)])}(t,r);const x=r[0][1].data,w=r[0][1].indices.length,m=(0,c.LE)(w);return function(e,t,n){if(null!=e.attributeData.colorFeature)return;const i=e.attributeData.color;t.push([g.T.COLOR,new d.a(null!==i&&void 0!==i?i:o.hq,n,4)])}(t,r,m),function(e,t,n){var i;null==e.attributeData.sizeFeature&&t.push([g.T.SIZE,new d.a([null!==(i=e.attributeData.size)&&void 0!==i?i:1],n,1,!0)])}(t,r,m),function(e,t,n){e.attributeData.normal&&t.push([g.T.NORMAL,new d.a(e.attributeData.normal,n,3)])}(t,r,m),function(e,t,n){null!=e.attributeData.colorFeature&&t.push([g.T.COLORFEATUREATTRIBUTE,new d.a([e.attributeData.colorFeature],n,1,!0)])}(t,r,m),function(e,t,n){null!=e.attributeData.sizeFeature&&t.push([g.T.SIZEFEATUREATTRIBUTE,new d.a([e.attributeData.sizeFeature],n,1,!0)])}(t,r,m),function(e,t,n){null!=e.attributeData.opacityFeature&&t.push([g.T.OPACITYFEATUREATTRIBUTE,new d.a([e.attributeData.opacityFeature],n,1,!0)])}(t,r,m),function(e,t,n){if(null==e.overlayInfo||e.overlayInfo.renderCoordsHelper.viewingMode!==u.JY.Global||!e.overlayInfo.spatialReference.isGeographic)return;const r=(0,a.bg)(n.length),o=(0,s.Iu)(e.overlayInfo.spatialReference);for(let i=0;i<r.length;i+=3)(0,l.gH)(n,i,r,i,o);const c=n.length/3,p=(0,h.xx)(c+1);let f=v,_=y,x=0,w=0;(0,i.t8)(f,r[w++],r[w++]),w++,p[0]=0;for(let s=1;s<c+1;++s)s===c&&(w=0),(0,i.t8)(_,r[w++],r[w++]),w++,x+=(0,i.TK)(f,_),p[s]=x,[f,_]=[_,f];t.push([g.T.DISTANCETOSTART,new d.a(p,t[0][1].indices,1,!0)])}(t,r,x),new f.Z(e,r,_,p.U.Line,n)}const v=(0,r.Ue)(),y=(0,r.Ue)();function x(e,t){if(null==e||0===e.length)return[];const n=[];return e.forEach((e=>{const i=e.length,r=(0,a.bg)(3*i);e.forEach(((e,t)=>{r[3*t]=e[0],r[3*t+1]=e[1],r[3*t+2]=e[2]}));const o={attributeData:{position:r,normal:t},removeDuplicateStartEnd:!1};n.push(o)})),n}},78081:(e,t,n)=>{n.d(t,{V:()=>a,r:()=>h});var i=n(50628),r=n(86372),o=n(91320),s=n(69691),l=n(19265);function a(e,t,n,i){const l="polygon"===e.type?o.ZI.CCW_IS_HOLE:o.ZI.NONE,a="polygon"===e.type?e.rings:e.paths,{position:h,outlines:u}=(0,o.Ni)(a,!!e.hasZ,l,e.spatialReference),d=(0,r.bg)(h.length),p=(0,s.rR)(h,e.spatialReference,0,d,0,h,0,h.length/3,t,n,i),f=null!=p;return{lines:f?c(u,h,d):[],projectionSuccess:f,sampledElevation:p}}function h(e,t){const n="polygon"===e.type?o.ZI.CCW_IS_HOLE:o.ZI.NONE,r="polygon"===e.type?e.rings:e.paths,{position:s,outlines:a}=(0,o.Ni)(r,!1,n),h=(0,i.projectBuffer)(s,e.spatialReference,0,s,t,0,s.length/3);for(let i=2;i<s.length;i+=3)s[i]=l.gi;return{lines:h?c(a,s):[],projectionSuccess:h}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=new Array;for(const{index:o,count:s}of e){if(s<=1)continue;const e=3*o,l=3*s;i.push({position:(0,r.Rq)(t,3*o,3*s),mapPositions:null!=n?(0,r.Rq)(n,e,l):void 0})}return i}},86700:(e,t,n)=>{n.d(t,{Dp:()=>l,z5:()=>s});const i={dash:[4,3],dot:[1,3],"long-dash":[8,3],"short-dash":[4,1],"short-dot":[1,1]},r={dash:i.dash,"dash-dot":[...i.dash,...i.dot],dot:i.dot,"long-dash":i["long-dash"],"long-dash-dot":[...i["long-dash"],...i.dot],"long-dash-dot-dot":[...i["long-dash"],...i.dot,...i.dot],none:null,"short-dash":i["short-dash"],"short-dash-dot":[...i["short-dash"],...i["short-dot"]],"short-dash-dot-dot":[...i["short-dash"],...i["short-dot"],...i["short-dot"]],"short-dot":i["short-dot"],solid:null},o=8;function s(e){return{pattern:[e,e],pixelRatio:2}}function l(e){return null!=e&&"style"===e.type?function(e){return null!=e?function(e,t){return null==e?e:{pattern:e.slice(),pixelRatio:t}}(r[e],o):null}(e.style):null}},44070:(e,t,n)=>{n.d(t,{f:()=>h});var i=n(63780),r=(n(93169),n(32718)),o=n(18722),s=n(37825),l=n(8548);const a=()=>r.Z.getLogger("esri.views.webgl.BufferObject");class h{static createIndex(e,t,n){return new h(e,l.w0.ELEMENT_ARRAY_BUFFER,t,n)}static createVertex(e,t,n){return new h(e,l.w0.ARRAY_BUFFER,t,n)}static createUniform(e,t,n){return new h(e,l.w0.UNIFORM_BUFFER,t,n)}static createPixelPack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.l1.STREAM_READ,n=arguments.length>2?arguments[2]:void 0;const i=new h(e,l.w0.PIXEL_PACK_BUFFER,t);return n&&i.setSize(n),i}static createPixelUnpack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.l1.STREAM_DRAW,n=arguments.length>2?arguments[2]:void 0;return new h(e,l.w0.PIXEL_UNPACK_BUFFER,t,n)}static createTransformFeedback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.l1.STATIC_DRAW,n=arguments.length>2?arguments[2]:void 0;const i=new h(e,l.w0.TRANSFORM_FEEDBACK_BUFFER,t);return i.setSize(n),i}constructor(e,t,n,i){this._context=e,this.bufferType=t,this.usage=n,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(l._g.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,s.zu)(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get usedMemory(){return this.bufferType===l.w0.ELEMENT_ARRAY_BUFFER?this._indexType===l.g.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===l.w0.ELEMENT_ARRAY_BUFFER||this.bufferType===l.w0.ARRAY_BUFFER}dispose(){var e;null!==(e=this._context)&&void 0!==e&&e.gl?(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(l._g.BufferObject,this),this._context=null):this._glName&&a().warn("Leaked WebGL buffer object")}setSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.bufferType===l.w0.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case l.g.UNSIGNED_SHORT:e*=2;break;case l.g.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===l.w0.ELEMENT_ARRAY_BUFFER&&((0,o.Uc)(e)&&(t/=2,this._indexType=l.g.UNSIGNED_SHORT),(0,o.ZY)(e)&&(t/=4,this._indexType=l.g.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._size=e;const n=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),(0,s.zu)(i),this._isVAOAware&&this._context.bindVAO(n)}setSubData(e,t,n,i){if(!e)return;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const{gl:o}=this._context;o.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,n,i-n),(0,s.zu)(o),this._isVAOAware&&this._context.bindVAO(r)}getSubData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(n<0||r<0)return;const o=function(e){return(0,i.zG)(e)}(e)?e.BYTES_PER_ELEMENT:1;if(o*((null!==n&&void 0!==n?n:0)+(null!==r&&void 0!==r?r:0))>e.byteLength)return;t+o*(null!==r&&void 0!==r?r:0)>this.usedMemory&&a().warn("Potential problem getting subdata: requested data exceeds buffer size!");const s=this._context.gl;this.bufferType===l.w0.TRANSFORM_FEEDBACK_BUFFER?(this._context.bindBuffer(this,l.w0.TRANSFORM_FEEDBACK_BUFFER),s.getBufferSubData(l.w0.TRANSFORM_FEEDBACK_BUFFER,t,e,n,r),this._context.unbindBuffer(l.w0.TRANSFORM_FEEDBACK_BUFFER)):(this._context.bindBuffer(this,l.w0.COPY_READ_BUFFER),s.getBufferSubData(l.w0.COPY_READ_BUFFER,t,e,n,r),this._context.unbindBuffer(l.w0.COPY_READ_BUFFER))}async getSubDataAsync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;await this._context.clientWaitAsync(),this.getSubData(e,t,n,i)}}},61109:(e,t,n)=>{n.d(t,{G:()=>i});class i{constructor(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.name=e,this.count=t,this.type=n,this.offset=i,this.stride=r,this.normalized=o,this.divisor=s}}},90188:(e,t,n)=>{n.r(t),n.d(t,{ElevationProfileView3D:()=>D});var i=n(100),r=n(92026),o=n(94172),s=n(91079),l=n(62164),a=n(14921),h=n(42537),c=n(66978),u=n(74509),d=n(99047),p=n(87198),f=n(94687),g=n(56529),_=n(69787);class v{constructor(e){this._params=e,this._highlightTask=null,this._highlightHandle=null,this._visualElementHandle=null,this._settings=new d.Z({getTheme:()=>this._params.view.effectiveTheme})}destroy(){this.remove()}remove(){this._highlightTask=(0,r.IM)(this._highlightTask),this._highlightHandle=(0,r.hw)(this._highlightHandle),this._visualElementHandle=(0,r.hw)(this._visualElementHandle)}showHighlight(e){if(this.remove(),null==e||!y(e))return;const t=e.layer;this._highlightTask=(0,a.vr)((async n=>{const i=await this._params.view.whenLayerView(t);(0,c.k_)(n),(0,_.tl)(i)&&(this._highlightHandle=i.highlight(e))}))}showReshaping(e){if(this.remove(),null==e)return;const t=this._params.view,n=new p.k({view:t,geometry:y(e)?e.geometry:null,attached:!1,elevationInfo:(0,u.RL)(e),renderOccluded:g.yD.OccludeAndTransparentStencil,isDecoration:!0}),i=new f.F({graphic:e}),r=[(0,o.watch)((()=>i.isDraped),(e=>{n.isDraped=e})),i.on("changed",(()=>{n.geometry=y(e)?e.geometry:null})),t.trackGraphicState(i),t.maskOccludee(e),(0,h.ed)(n)];this._settings.visualElements.lineObjects.outline.apply(n),n.attached=!0,this._visualElementHandle=(0,h.AL)(r)}}function y(e){return null!=e.geometry&&"polyline"===e.geometry.type}var x=n(27366),w=n(51995),m=n(7138),b=n(14916),O=n(49861),R=(n(93169),n(32718),n(84936),n(69912)),C=n(86361),E=n(29909);let A=class extends m.default{constructor(e){super(e),this._chartData=null,this._visualElements=[]}initialize(){const e=(0,b.P)((e=>{this._update(e)}),100);this.addHandles([(0,o.watch)((()=>({spatialReference:this.view.spatialReference,chartData:this._chartData})),e,o.syncAndInitial),e])}destroy(){this._destroyVisualElements()}remove(){this._destroyVisualElements()}update(e){this._chartData=e}_update(e){const{chartData:t}=e;if(null==t)return this.remove();if(!t.refined)return;const n=this._visualElements,i=t.lines.filter((e=>e.viewVisualizationEnabled)),r=i.length;for(;n.length>r;)n.pop().destroy();const o=(0,s.iE)().profileLinesStyle3D;for(;n.length<r;){const e=new p.k({view:this.view,elevationInfo:{mode:"absolute-height",offset:0},innerWidth:o.width-o.outlineSize,width:o.width,falloff:o.falloff,color:o.outlineColor,renderOccluded:o.renderOccluded,isDecoration:!0});n.push(e)}const l=e.spatialReference;for(let s=0;s<r;++s){const e=n[s],t=i[r-1-s];e.geometry=this._createLineGeometry(t,l),e.innerColor=(0,C.nI)(w.Z.toUnitRGBA(t.color))}}_createLineGeometry(e,t){var n;const i=null!==(n=e.samples)&&void 0!==n?n:[],r=i.length-1,o=[];let s=[];for(let l=0;l<=r;l++){const{x:e,y:t,z:n}=i[l];null!=n&&s.push([e,t,n]),l!==r&&null!=n||!s.length||(o.push(s),s=[])}return new E.Z({paths:o,hasZ:!0,spatialReference:t})}_destroyVisualElements(){this._visualElements.forEach((e=>e.destroy())),this._visualElements.length=0}};(0,x._)([(0,O.Cb)()],A.prototype,"view",void 0),(0,x._)([(0,O.Cb)()],A.prototype,"_chartData",void 0),A=(0,x._)([(0,R.j)("esri.widgets.ElevationProfile.support.ProfileLines3D")],A);class D{constructor(e,t){this._handles=new i.Z,this._inputRepresentation=new v({view:e}),this._hoveredPoints=new l.l({view:e}),this._profileLines=new A({view:e}),this._handles.add([(0,o.watch)((()=>t.viewModel.hoveredPoints),(e=>this._hoveredPoints.update(e)),o.syncAndInitial),(0,o.watch)((()=>{const{state:e,editable:n,highlightEnabled:i,viewModel:r}=t,o=r.input;return o&&(o.commitProperty("geometry"),o.commitProperty("layer")),{input:o,state:e,editable:n,highlightEnabled:i}}),(e=>this._updateInputRepresentation(e)),o.syncAndInitial),(0,o.watch)((()=>t.viewModel.chartData),(e=>this._profileLines.update(e)),o.syncAndInitial),(0,o.watch)((()=>{var e;return null===(e=t.viewModel.input)||void 0===e?void 0:e.geometry}),(()=>{this._profileLines.remove()}),o.syncAndInitial)])}destroy(){this._handles=(0,r.SC)(this._handles),this._inputRepresentation=(0,r.SC)(this._inputRepresentation),this._hoveredPoints=(0,r.SC)(this._hoveredPoints),this._profileLines=(0,r.SC)(this._profileLines)}_updateInputRepresentation(e){let{input:t,state:n,editable:i,highlightEnabled:r}=e;const o=this._inputRepresentation;if(!r)return o.remove();n===s.dd.Selected?o.showHighlight(t):n!==s.dd.Created||i?o.remove():o.showReshaping(t)}}},62164:(e,t,n)=>{n.d(t,{l:()=>u});var i=n(27366),r=n(7138),o=n(80987),s=n(94172),l=n(49861),a=(n(93169),n(32718),n(84936),n(69912)),h=n(91079),c=n(70407);let u=class extends r.default{constructor(e){super(e),this._hoveredPoints=new o.Z}initialize(){this.addHandles((0,s.watch)((()=>this._hoveredPoints.toArray().map((e=>{let{anchor:t,element:n}=e;return{screenLocation:t.screenLocation,element:n}}))),(e=>{for(const{screenLocation:t,element:n}of e)t&&(n.style.transform="translate(".concat(t.x,"px, ").concat(t.y,"px)"))}),s.syncAndInitial))}destroy(){this._hoveredPoints.drain((e=>this._destroyHoveredPoint(e)))}update(e){const t=this.view,n=this._hoveredPoints,i=e.length;for(;this._hoveredPoints.length>i;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<i;){var r;const e=this._makeHoveredPoint();n.push(e),null===(r=t.surface)||void 0===r||r.appendChild(e.element)}for(let o=0;o<i;++o){const t=n.at(i-1-o),r=e[o];this._updateHoveredPoint(t,r)}}_makeHoveredPoint(){const{size:e,borderStyle:t,borderColor:n,borderWidth:i,boxShadow:r}=(0,h.iE)().hoveredPointsStyle,o=this.view,s=new c.Z({view:o,screenLocationEnabled:!0}),l=document.createElement("div"),a=l.style;return a.position="absolute",a.top="0",a.left="0",a.contain="strict",a.boxSizing="border-box",a.width="".concat(e,"px"),a.height="".concat(e,"px"),a.marginTop="-".concat(e/2,"px"),a.marginLeft="-".concat(e/2,"px"),a.border="".concat(t," ").concat(i,"px ").concat(n),a.borderRadius="".concat(e,"px"),a.boxShadow=r,{anchor:s,element:l}}_updateHoveredPoint(e,t){let{anchor:n,element:i}=e;n.screenLocationEnabled=!0,n.location=t.hoveredPoint;const r=i.style;r.display="block",r.background=t.color.toCss()}_destroyHoveredPoint(e){var t;let{anchor:n,element:i}=e;n.destroy(),null===(t=this.view.surface)||void 0===t||t.removeChild(i)}};(0,i._)([(0,l.Cb)()],u.prototype,"view",void 0),(0,i._)([(0,l.Cb)()],u.prototype,"_hoveredPoints",void 0),u=(0,i._)([(0,a.j)("esri.widgets.ElevationProfile.support.HoveredPoints")],u)},70407:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(27366),r=n(91505),o=n(94172),s=n(49861),l=(n(93169),n(32718),n(84936),n(69912)),a=n(79803);let h=class extends r.Z.EventedAccessor{constructor(e){super(e),this.location=null,this.screenLocationEnabled=!1,this.view=null,this.addHandles([(0,o.when)((()=>{const e=this.screenLocationEnabled?this.view:null;return e?[e.size,"3d"===e.type?e.camera:e.viewpoint]:null}),(()=>this.notifyChange("screenLocation"))),(0,o.watch)((()=>this.screenLocation),((e,t)=>{null!=e&&null!=t&&this.emit("view-change")}))])}destroy(){this.view=null}get screenLocation(){const{location:e,view:t,screenLocationEnabled:n}=this,i=null===t||void 0===t?void 0:t.spatialReference,r=i?(0,a.projectOrLoad)(e,i).geometry:null;return n&&r&&null!==t&&void 0!==t&&t.ready?t.toScreen(r):null}};(0,i._)([(0,s.Cb)()],h.prototype,"location",void 0),(0,i._)([(0,s.Cb)()],h.prototype,"screenLocation",null),(0,i._)([(0,s.Cb)()],h.prototype,"screenLocationEnabled",void 0),(0,i._)([(0,s.Cb)()],h.prototype,"view",void 0),h=(0,i._)([(0,l.j)("esri.widgets.support.AnchorElementViewModel")],h);const c=h}}]);
//# sourceMappingURL=22412.d66aff4f.chunk.js.map