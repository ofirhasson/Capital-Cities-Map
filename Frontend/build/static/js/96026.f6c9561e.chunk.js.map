{"version":3,"file":"static/js/96026.f6c9561e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js","../node_modules/@arcgis/core/chunks/Laserlines.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{translate as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{Laserline as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{Float2PassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as d}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(i){const t=new d;t.include(r,i);const{vertex:v,fragment:w}=t;return v.uniforms.add(new n(\"modelView\",((i,{camera:o})=>e(p,o.viewMatrix,i.origin))),new n(\"proj\",((e,{camera:i})=>i.projectionMatrix)),new s(\"glowWidth\",((e,{camera:i})=>e.glowWidth*i.pixelRatio)),new a(\"pixelToNDC\",((e,{camera:i})=>o(m,2/i.fullViewport[2],2/i.fullViewport[3])))),t.attributes.add(c.START,\"vec3\"),t.attributes.add(c.END,\"vec3\"),t.attributes.add(c.UP,\"vec3\"),t.attributes.add(c.EXTRUDE,\"vec2\"),t.varyings.add(\"uv\",\"vec2\"),t.varyings.add(\"vViewStart\",\"vec3\"),t.varyings.add(\"vViewEnd\",\"vec3\"),t.varyings.add(\"vViewPlane\",\"vec4\"),v.code.add(l`void main() {\nvec3 pos = mix(start, end, extrude.x);\nvec4 viewPos = modelView * vec4(pos, 1);\nvec4 projPos = proj * viewPos;\nvec2 ndcPos = projPos.xy / projPos.w;\nvec3 viewUp = (modelView * vec4(extrude.y * up, 0)).xyz;\nvec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);\nvec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);\nvec2 lxy = abs(sign(projExtrudeDir) - ndcPos);\nndcPos += length(lxy) * projExtrudeDir;\nvec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));\nvec3 viewPlaneNormal = (modelView * vec4(worldPlaneNormal, 0)).xyz;\nvViewStart = (modelView * vec4(start, 1)).xyz;\nvViewEnd = (modelView * vec4(end, 1)).xyz;\nvViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\nfloat xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\nndcPos.x += xPaddingPixels * pixelToNDC.x;\nuv = ndcPos * 0.5 + 0.5;\ngl_Position = vec4(ndcPos, 0, 1);\n}`),w.uniforms.add(new s(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio))),w.code.add(l`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\nvec3 origin = mix(start, end, 0.5);\nvec3 basis = end - origin;\nvec3 posAtOrigin = pos - origin;\nfloat x = dot(normalize(basis), posAtOrigin);\nfloat y = dot(plane.xyz, posAtOrigin);\nfloat dx = max(abs(x) - length(basis), 0.0);\nfloat dy = y;\nfloat dist = length(vec2(dx, dy));\nfloat width = fwidth(y);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}\nvoid main() {\nvec3 dEndStart = vViewEnd - vViewStart;\nif (dot(dEndStart, dEndStart) < 1e-5) {\ndiscard;\n}\nvec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\ndiscard;\n}\nfloat distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\nvec4 color = laserlineProfile(distance);\nfloat alpha = (1.0 - smoothstep(0.995 - angleCutoffAdjust, 0.999 - angleCutoffAdjust, abs(dot(normal, vViewPlane.xyz))));\nfragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n}`),t}const m=t(),p=i(),w=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{w as L,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{set as i}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as n,n as a,l as o,p as r,h as l,c as s,b as c,g as d}from\"./vec32.js\";import{create as f}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{t as p}from\"./vec42.js\";import{create as g}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{pointAt as h}from\"../geometry/support/lineSegment.js\";import{create as m,fromPositionAndNormal as u}from\"../geometry/support/plane.js\";import{g as x,c as w}from\"./sphere.js\";import{Laserline as P}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as b}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float2PassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as C}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as L}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";const A=e(6);function j(e){const i=new L;i.include(b),i.include(P,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new S(\"maxPixelDistance\",((i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin)))),t.code.add(C`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.spherical){const e=(e,i,t)=>l(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>l(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new M(\"heightManifoldOrigin\",((t,r)=>(e(R,t,r),i(F,r),n(F,F,R),a(G,F),G[3]=o(F),G))),new D(\"globalOrigin\",((e,t)=>i(R,t))),new S(\"cosSphericalAngleThreshold\",((e,i)=>1-Math.max(2,r(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/o(e.heightManifoldTarget)))),t.code.add(C`float globeDistancePixels(float posInGlobalOriginLength) {\nfloat dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}\nfloat heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nvec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);\nfloat cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);\nvec3 posInGlobalOrigin = globalOrigin - pos;\nfloat posInGlobalOriginLength = length(posInGlobalOrigin);\nfloat sphericalDistance = globeDistancePixels(posInGlobalOriginLength);\nfloat planarDistance = planeDistancePixels(heightPlane, pos);\nreturn cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;\n}`)}else t.code.add(C`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nreturn planeDistancePixels(heightPlane, pos);\n}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new S(\"maxPixelDistance\",((e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget)))),t.code.add(C`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new S(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio))),t.code.add(C`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`)),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add(C`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),t.code.add(C`void main() {\nvec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\ndiscard;\n}\nvec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled){t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new M(\"heightPlane\",((e,i)=>I(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,R),i.camera.viewMatrix))));const i=e.spherical?C`normalize(globalOrigin - pos)`:C`heightPlane.xyz`;t.code.add(C`\n    {\n      vec2 angleCutoffAdjusted = angleCutoff - angleCutoffAdjust;\n\n      // Fade out laserlines on flat surfaces\n      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoffAdjusted.x, angleCutoffAdjusted.y, abs(dot(normal, ${i})));\n\n      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));\n      color = max(color, heightManifoldColor * heightManifoldAlpha);\n    }\n    `)}return e.pointDistanceEnabled&&(t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new M(\"pointDistanceSphere\",((e,i)=>y(e,i)))),t.code.add(C`{\nfloat pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n}`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new M(\"lineVerticalPlane\",((e,i)=>O(e,i))),new D(\"lineVerticalStart\",((e,i)=>E(e,i))),new D(\"lineVerticalEnd\",((e,i)=>z(e,i)))),t.code.add(C`{\nif (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new v(\"angleCutoff\",(e=>V(e))),new D(\"intersectsLineStart\",((e,i)=>l(R,e.lineStartWorld,i.camera.viewMatrix))),new D(\"intersectsLineEnd\",((e,i)=>l(R,e.lineEndWorld,i.camera.viewMatrix))),new D(\"intersectsLineDirection\",((e,i)=>(s(G,e.intersectsLineSegment.vector),G[3]=0,a(R,p(G,G,i.camera.viewMatrix))))),new S(\"intersectsLineRadius\",(e=>e.intersectsLineRadius))),t.code.add(C`{\nif (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}\n}`)),t.code.add(C`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);\n}`),i}function V(t){return i(T,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-e(2))))}function y(e,i){return l(x(_),e.pointDistanceOrigin,i.camera.viewMatrix),_[3]=r(e.pointDistanceOrigin,e.pointDistanceTarget),_}function O(e,i){const t=h(e.lineVerticalPlaneSegment,.5,R),n=e.renderCoordsHelper.worldUpAtPosition(t,U),o=a(F,e.lineVerticalPlaneSegment.vector),r=c(R,n,o);return a(r,r),I(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function E(e,i){const t=s(R,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),l(t,t,i.camera.viewMatrix)}function z(e,i){const t=d(R,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),l(t,t,i.camera.viewMatrix)}function I(e,i,t){return l(W,e,t),s(G,i),G[3]=0,p(G,G,t),u(W,G,H)}const T=t(),R=f(),G=g(),U=f(),F=f(),W=f(),H=m(),_=w(),N=Object.freeze(Object.defineProperty({__proto__:null,build:j,defaultAngleCutoff:A},Symbol.toStringTag,{value:\"Module\"}));export{N as L,j as b,A as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Program as i}from\"../../lib/Program.js\";import{VertexAttribute as t}from\"../../lib/VertexAttribute.js\";import{L as o}from\"../../../../../chunks/LaserlinePath.glsl.js\";import{BlendFactor as s}from\"../../../../webgl/enums.js\";import{makePipelineState as a,simpleBlendingParams as n,defaultColorWriteParams as l}from\"../../../../webgl/renderState.js\";class m extends r{initializeProgram(e){return new i(e.rctx,m.shader.get().build(this.configuration),h)}initializePipeline(){return a({blending:n(s.ONE,s.ONE_MINUS_SRC_ALPHA),colorWrite:l})}}m.shader=new e(o,(()=>import(\"../../shaders/LaserlinePath.glsl.js\")));const h=new Map([[t.START,0],[t.END,1],[t.UP,2],[t.EXTRUDE,3]]);export{m as LaserlinePathTechnique,h as attributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as e,f as t}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newDoubleArray as s}from\"../../../../../geometry/support/DoubleArray.js\";import{glLayout as i}from\"../../../support/buffer/glUtil.js\";import{newLayout as o}from\"../../../support/buffer/InterleavedLayout.js\";import{attributeLocations as u}from\"./LaserlinePathTechnique.js\";import{VertexArrayObject as f}from\"../../lib/VertexArrayObject.js\";import{VertexAttribute as n}from\"../../lib/VertexAttribute.js\";import{BufferObject as a}from\"../../../../webgl/BufferObject.js\";import{PrimitiveType as l,Usage as c}from\"../../../../webgl/enums.js\";class h{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=r(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=s(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);e(this._origin,t[r],t[r+1],t[r+2])}else e(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(l.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}_ensureVAO(e){return null==this._buffers?null:(null==this._vao&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new f(e,u,{data:i(V)},{data:a.createVertex(e,c.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data?.setData(r),this._dirty=!1}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+_(t)),0);this._count=s;const i=V.createBuffer(s),o=this._origin;let u=0,f=0;for(const n of r){for(let r=0;r<n.length;r+=3){const s=e(p,n[r],n[r+1],n[r+2]);0===r?f=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,f);const a=this._renderCoordsHelper.worldUpAtPosition(s,d),l=u+2*r,c=t(p,s,o);if(r<n.length-3){i.up.setVec(l,a),i.up.setVec(l+3,a),i.up.setVec(l+5,a);for(let e=0;e<6;e++)i.start.setVec(l+e,c);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0){i.up.setVec(l-2,a),i.up.setVec(l-4,a),i.up.setVec(l-5,a);for(let e=-6;e<0;e++)i.end.setVec(l+e,c)}}u+=_(n)}return i.buffer}}function _(e){return 3*(2*(e.length/3-1))}const d=r(),p=r(),V=o().vec3f(n.START).vec3f(n.END).vec3f(n.UP).vec2f(n.EXTRUDE);export{h as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as r,parameter as t}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class e extends r{constructor(){super(...arguments),this.contrastControlEnabled=!1}}o([t()],e.prototype,\"contrastControlEnabled\",void 0);export{e as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{fromValues as t,create as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as r}from\"../../../../../geometry/support/lineSegment.js\";import{NoParameters as s}from\"../../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as o}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as l}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as n}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../../lib/Program.js\";import{L as h}from\"../../../../../chunks/Laserlines.glsl.js\";import{BlendFactor as m}from\"../../../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as g,defaultColorWriteParams as d}from\"../../../../webgl/renderState.js\";class f extends s{constructor(){super(...arguments),this.innerColor=t(1,1,1),this.innerWidth=1,this.glowColor=t(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=e(6),this.pointDistanceOrigin=i(),this.pointDistanceTarget=i(),this.lineVerticalPlaneSegment=r(),this.intersectsLineSegment=r(),this.intersectsLineRadius=3,this.heightManifoldTarget=i(),this.lineStartWorld=i(),this.lineEndWorld=i()}}class p extends l{initializeProgram(e){return new a(e.rctx,p.shader.get().build(this.configuration),n)}initializePipeline(){return c({blending:g(m.ONE,m.ONE_MINUS_SRC_ALPHA),colorWrite:d})}}p.shader=new o(h,(()=>import(\"../../shaders/Laserlines.glsl.js\")));export{f as LaserlinePassParameters,p as LaserlineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{LaserlinePathTechniqueConfiguration as t}from\"./LaserlinePathTechniqueConfiguration.js\";class n extends t{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.spherical=!1}}e([i()],n.prototype,\"heightManifoldEnabled\",void 0),e([i()],n.prototype,\"pointDistanceEnabled\",void 0),e([i()],n.prototype,\"lineVerticalPlaneEnabled\",void 0),e([i()],n.prototype,\"intersectsLineEnabled\",void 0),e([i()],n.prototype,\"spherical\",void 0);export{n as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as r,g as a}from\"../../../../../chunks/vec32.js\";import{create as h,fromRay as l,getStart as o,getEnd as c}from\"../../../../../geometry/support/clipRay.js\";import{intersectClipRay as d}from\"../../../../../geometry/support/frustum.js\";import{copy as p}from\"../../../../../geometry/support/lineSegment.js\";import{wrap as _}from\"../../../../../geometry/support/ray.js\";import{ViewingMode as u}from\"../../../../ViewingMode.js\";import{SyncPrepareRenderPlugin as m,ConsumesDepth as g}from\"../RenderPlugin.js\";import{LaserlinePathData as P}from\"./LaserlinePathData.js\";import{LaserlinePathTechnique as b}from\"./LaserlinePathTechnique.js\";import{LaserlinePathTechniqueConfiguration as f}from\"./LaserlinePathTechniqueConfiguration.js\";import{LaserlinePassParameters as E,LaserlineTechnique as q}from\"./LaserlineTechnique.js\";import{LaserlineTechniqueConfiguration as L}from\"./LaserlineTechniqueConfiguration.js\";import{RenderSlot as V}from\"../../lib/RenderSlot.js\";import{updateParameters as D}from\"../../materials/internal/MaterialUtil.js\";let R=class extends m{constructor(e){super(e),this._technique=null,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this._passParameters=new E,this.produces=new Map([[V.LASERLINES,()=>!this.contrastControlEnabled],[V.LASERLINES_CONTRAST_CONTROL,()=>this.contrastControlEnabled]])}initialize(){this._passParameters.renderCoordsHelper=this.renderCoordsHelper}consumes(){return g}get isDecoration(){return this._isDecoration}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){r(this._passParameters.heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){r(this._passParameters.pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){r(this._passParameters.pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){p(e,this._passParameters.lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){p(e,this._passParameters.intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._passParameters.intersectsLineRadius}set intersectsLineRadius(e){e!==this._passParameters.intersectsLineRadius&&(this._passParameters.intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this._requestRender())}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){D(this._passParameters,e)&&this._requestRender()}initializeRenderContext(e){this._context=e,this._techniques=e.techniques,this._techniqueConfig=new L;const t=new f;t.contrastControlEnabled=this.contrastControlEnabled,this._pathTechnique=this._techniques.acquire(b,t)}uninitializeRenderContext(){this._technique=t(this._technique),this._pathVerticalPlaneData=i(this._pathVerticalPlaneData),this._pathTechnique=t(this._pathTechnique)}prepareTechnique(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this.contrastControlEnabled,this._techniqueConfig.spherical=this.viewingMode===u.Global,this._technique=this._techniques.releaseAndAcquire(q,this._techniqueConfig,this._technique),this._technique):this._pathTechnique}renderNode(e,t,i){const s=i?.get(\"normals\")?.getTexture();s&&(this._passParameters.normals=s,(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(e,t),this.pathVerticalPlaneEnabled&&this._renderPath(e))}_renderUnified(e,t){const i=e.rctx;this._updatePassParameters(e),i.bindTechnique(t,e.bindParameters,this._passParameters),i.screen.draw()}_renderPath(e){if(null==this._pathVerticalPlaneData||null==this._pathTechnique)return;const t=e.rctx,i=this._pathTechnique;t.bindTechnique(i,e.bindParameters,{...this._passParameters,origin:this._pathVerticalPlaneData.origin}),this._pathVerticalPlaneData.draw(e.rctx)}_updatePassParameters(e){if(!this._intersectsLineEnabled)return;const t=e.bindParameters.camera;if(this._intersectsLineInfinite){if(l(_(this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector),C),C.c0=-Number.MAX_VALUE,!d(t.frustum,C))return;o(C,this._passParameters.lineStartWorld),c(C,this._passParameters.lineEndWorld)}else r(this._passParameters.lineStartWorld,this._passParameters.intersectsLineSegment.origin),a(this._passParameters.lineEndWorld,this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector)}_requestRender(){this._context&&this._context.requestRender()}get test(){}};e([s({constructOnly:!0})],R.prototype,\"viewingMode\",void 0),e([s({constructOnly:!0})],R.prototype,\"contrastControlEnabled\",void 0),e([s({constructOnly:!0})],R.prototype,\"_isDecoration\",void 0),e([s({constructOnly:!0})],R.prototype,\"renderCoordsHelper\",void 0),R=e([n(\"esri.views.3d.webgl-engine.effects.laserlines.LaserLineRenderer\")],R);const C=h();export{R as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e}from\"../../../../chunks/vec32.js\";import{create as t,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,fromValues as s,copy as r}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as h}from\"../../webgl-engine/effects/laserlines/LaserLineRenderer.js\";import{d as a}from\"../../../../chunks/Laserlines.glsl.js\";class c extends l{constructor(e){super(e),this._angleCutoff=a,this._style={},this._heightManifoldTarget=t(),this._heightManifoldEnabled=!1,this._intersectsLine=n(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?(e(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=s(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?(r(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?r(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:i(e.origin),target:e.target?i(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new h({renderCoordsHelper:this.view.renderCoordsHelper,contrastControlEnabled:!0,_isDecoration:this.isDecoration,viewingMode:this.view.state.viewingMode}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this._renderer))}_syncStyle(){null!=this._renderer&&(this._renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this._renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){null!=this._renderer&&this._renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view._stage&&(this.view._stage.removeRenderPlugin(this._renderer),this._renderer=null)}}const _=t();export{c as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=e((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this&&(\"attached\"===s?t=e[s]:this[s]=e[s]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ReadDepth as o}from\"./output/ReadDepth.glsl.js\";import{CameraSpace as e}from\"./util/CameraSpace.glsl.js\";import{Float3PassUniform as l}from\"../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as t}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";import{Texture2DPassUniform as a}from\"../shaderModules/Texture2DPassUniform.js\";function n(n,p){const i=n.fragment;i.include(o),n.include(e),i.uniforms.add(new t(\"globalAlpha\",(o=>o.globalAlpha)),new l(\"glowColor\",(o=>o.glowColor)),new t(\"glowWidth\",((o,e)=>o.glowWidth*e.camera.pixelRatio)),new t(\"glowFalloff\",(o=>o.glowFalloff)),new l(\"innerColor\",(o=>o.innerColor)),new t(\"innerWidth\",((o,e)=>o.innerWidth*e.camera.pixelRatio)),new a(\"depthMap\",((o,e)=>e.depth?.attachment)),new a(\"normalMap\",(o=>o.normals)),new a(\"frameColor\",((o,e)=>e.mainColor))),i.code.add(r`vec4 blendPremultiplied(vec4 source, vec4 dest) {\nfloat oneMinusSourceAlpha = 1.0 - source.a;\nreturn vec4(\nsource.rgb + dest.rgb * oneMinusSourceAlpha,\nsource.a + dest.a * oneMinusSourceAlpha\n);\n}`),i.code.add(r`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),i.code.add(r`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),i.code.add(r`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float angleCutoffAdjust, out float depthDiscontinuityAlpha) {\nfloat depth = depthFromTexture(depthMap, uv);\nif (depth == 1.0) {\nreturn false;\n}\nfloat linearDepth = linearizeDepth(depth);\npos = reconstructPosition(gl_FragCoord.xy, linearDepth);\nfloat minStep = 6e-8;\nfloat depthStep = clamp(depth + minStep, 0.0, 1.0);\nfloat linearDepthStep = linearizeDepth(depthStep);\nfloat depthError = abs(linearDepthStep - linearDepth);\nif (depthError > 0.2) {\nnormal = texture(normalMap, uv).xyz * 2.0 - 1.0;\nangleCutoffAdjust = 0.004;\n} else {\nnormal = normalize(cross(dFdx(pos), dFdy(pos)));\nangleCutoffAdjust = 0.0;\n}\nfloat ddepth = fwidth(linearDepth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / linearDepth);\nreturn true;\n}`),p.contrastControlEnabled?(i.uniforms.add(new t(\"globalAlphaContrastBoost\",(o=>null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1))),i.code.add(r`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`)):i.code.add(r`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{n as Laserline};\n"],"names":["v","i","t","d","include","r","vertex","fragment","w","uniforms","add","n","_ref","camera","o","e","p","viewMatrix","origin","_ref2","projectionMatrix","s","_ref3","glowWidth","pixelRatio","a","_ref4","m","fullViewport","attributes","c","START","END","UP","EXTRUDE","varyings","code","l","_templateObject","_taggedTemplateLiteral","perScreenPixelRatio","_templateObject2","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","A","j","L","b","P","lineVerticalPlaneEnabled","heightManifoldEnabled","S","computeScreenPixelSizeAt","heightManifoldTarget","lineVerticalPlaneSegment","C","spherical","M","R","F","G","D","Math","max","eye","perRenderPixelRatio","_templateObject3","pointDistanceEnabled","pointDistanceTarget","_templateObject4","intersectsLineEnabled","_templateObject5","_templateObject6","_templateObject7","V","I","renderCoordsHelper","worldUpAtPosition","_templateObject8","_templateObject9","_templateObject10","x","_","pointDistanceOrigin","y","_templateObject11","h","U","vector","O","setAltitude","E","z","_templateObject12","lineStartWorld","lineEndWorld","intersectsLineSegment","intersectsLineRadius","_templateObject13","_templateObject14","T","cos","angleCutoff","W","u","H","f","g","N","defaultAngleCutoff","initializeProgram","rctx","shader","get","this","configuration","initializePipeline","blending","ONE","ONE_MINUS_SRC_ALPHA","colorWrite","Map","constructor","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","vertices","length","buffers","floor","draw","_ensureVAO","bindVAO","drawArrays","TRIANGLES","dispose","_createVAO","_ensureVertexData","_createDataBuffer","data","createVertex","STATIC_DRAW","_e$vertexBuffers$data","vertexBuffers","setData","reduce","createBuffer","getAltitude","up","setVec","start","extrude","setValues","end","buffer","vec3f","vec2f","super","arguments","contrastControlEnabled","prototype","innerColor","innerWidth","glowColor","glowFalloff","globalAlpha","globalAlphaContrastBoost","_technique","_heightManifoldEnabled","_pointDistanceEnabled","_lineVerticalPlaneEnabled","_intersectsLineEnabled","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_pathVerticalPlaneData","_pathTechnique","_passParameters","produces","LASERLINES","LASERLINES_CONTRAST_CONTROL","initialize","consumes","isDecoration","_isDecoration","_requestRender","intersectsLineInfinite","pathVerticalPlaneEnabled","pathVerticalPlaneVertices","pathVerticalPlaneBuffers","setParameters","initializeRenderContext","_context","_techniques","techniques","_techniqueConfig","acquire","uninitializeRenderContext","prepareTechnique","viewingMode","Global","releaseAndAcquire","q","renderNode","_i$get","getTexture","normals","_renderUnified","_renderPath","_updatePassParameters","bindTechnique","bindParameters","screen","c0","Number","MAX_VALUE","frustum","requestRender","test","constructOnly","_angleCutoff","_style","_heightManifoldTarget","_intersectsLine","_lineVerticalPlaneSegment","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProperties","testData","createResources","_ensureRenderer","destroyResources","_disposeRenderer","updateVisibility","_syncRenderer","_syncHeightManifold","_syncIntersectsLine","_syncPathVerticalPlane","_syncLineVerticalPlane","_syncPointDistance","_syncAngleCutoff","style","_syncStyle","intersectsWorldUpAtLocation","intersectsLine","view","_syncIntersectsLineInfinite","pathVerticalPlane","pointDistanceLine","target","attached","visible","_renderer","state","_stage","addRenderPlugin","removeRenderPlugin","_attached","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","destroy","remove","onAttachedChange","_e$depth","depth","attachment","mainColor"],"sourceRoot":""}