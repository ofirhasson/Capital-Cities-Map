{"version":3,"file":"static/js/2346.c545009c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/interactive/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import o from\"../../core/Evented.js\";import{watch as i,sync as s}from\"../../core/reactiveUtils.js\";import{screenPointObjectToArray as r,pt2px as l,createScreenPointArray as n}from\"../../core/screenUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as h}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{p}from\"../../chunks/vec32.js\";import{create as m}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as u,project as y}from\"../../geometry/projection.js\";import{projectPointToVector as g}from\"../../geometry/projection/projectPointToVector.js\";import{getGraphicEffectiveElevationMode as b}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as d}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{getSymbolInfo as _}from\"./support/utils.js\";import{intersectsDrapedGeometry as v}from\"../support/drapedUtils.js\";let S=class extends e{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set(\"graphic\",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,e=t&&\"elevationInfo\"in t?t.elevationInfo:null,o=b(this.graphic),i=e?e.offset:0;return new f({mode:o,offset:i})}set focusedSymbol(t){t!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get(\"grabbing\")&&(this._set(\"grabbing\",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get(\"hovering\")&&(this._set(\"hovering\",t),this._updateGraphicSymbol())}set selected(t){t!==this._get(\"selected\")&&(this._set(\"selected\",t),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:t?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const o=e.geometry;if(null==o)return null;const i=this._get(\"focusedSymbol\"),s=null!=i?i:e.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,t,o,s):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=i((()=>this.graphic?.symbol),(t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),s)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,o,i){if(null==(i=i||d(o)))return null;const s=1;let n=this._circleCollisionCache;if(\"point\"===o.type&&\"cim\"===i.type&&\"CIMPointSymbol\"===i.data.symbol?.type&&i.data.symbol.symbolLayers){const{offsetX:l,offsetY:n,size:a}=_(i),c=r(e,j),p=a/2,m=t.toScreen(o),u=m.x+l,y=m.y+n;return h(c,[u,y])<p*p?s:null}if(\"point\"!==o.type||\"simple-marker\"!==i.type)return v(e,o,t)?s:null;if(null==n||!n.originalPoint.equals(o)){const e=o,s=t.spatialReference;if(u(e.spatialReference,s)){const t=y(e,s);n={originalPoint:e.clone(),mapPoint:t,radiusPx:l(i.size)},this._circleCollisionCache=n}}if(null!=n){const o=r(e,j),a=t.toScreen?.(n.mapPoint);if(!a)return null;const c=n.radiusPx,p=a.x+l(i.xoffset),m=a.y-l(i.yoffset);return h(o,[p,m])<c*c?s:null}return null}_intersectDistance3D(t,e,o){const i=t.toMap(e,{include:[o]});return i&&g(i,C,t.renderSpatialReference)?p(C,t.state.camera.eye):null}};t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"graphic\",null),t([a()],S.prototype,\"elevationInfo\",null),t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([a({value:null})],S.prototype,\"focusedSymbol\",null),t([a({constructOnly:!0})],S.prototype,\"layer\",void 0),t([a()],S.prototype,\"interactive\",void 0),t([a()],S.prototype,\"selectable\",void 0),t([a()],S.prototype,\"grabbable\",void 0),t([a({value:!1})],S.prototype,\"grabbing\",null),t([a()],S.prototype,\"dragging\",void 0),t([a()],S.prototype,\"hovering\",null),t([a({value:!1})],S.prototype,\"selected\",null),t([a()],S.prototype,\"cursor\",void 0),S=t([c(\"esri.views.interactive.GraphicManipulator\")],S);const C=m(),j=n();export{S as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{pt2px as o}from\"../../../core/screenUtils.js\";function s(s){let t=0,a=0,e=0;return s?(\"cim\"===s.type&&s.data.symbol&&\"symbolLayers\"in s.data.symbol&&s.data.symbol.symbolLayers&&s.data.symbol.symbolLayers.map((o=>{\"CIMVectorMarker\"===o.type&&o.anchorPoint&&(Math.abs(o.anchorPoint.x)>t&&(t=o.anchorPoint.x),Math.abs(o.anchorPoint.y)>a&&(a=o.anchorPoint.y),null!=o.size&&o.size>e&&(e=o.size))})),t=o(t),a=o(a),e=o(e),{offsetX:t,offsetY:a,size:e}):{offsetX:t,offsetY:a,size:e}}export{s as getSymbolInfo};\n"],"names":["S","e","graphic","t","this","_circleCollisionCache","_originalSymbol","symbol","_set","attachSymbolChanged","elevationInfo","layer","o","b","i","offset","f","mode","focusedSymbol","_get","_updateGraphicSymbol","grabbableForEvent","grabbing","hovering","selected","events","emit","action","_focused","constructor","super","interactive","selectable","grabbable","dragging","cursor","consumesClicks","EventEmitter","_graphicSymbolChangedHandle","destroy","detachSymbolChanged","_resetGraphicSymbol","intersectionDistance","visible","geometry","s","view","type","_intersectDistance2D","_intersectDistance3D","attach","add","detach","remove","_this$graphic","onElevationChange","onViewChange","_i$data$symbol","d","n","data","symbolLayers","offsetX","l","offsetY","size","a","_","c","r","j","p","m","toScreen","u","x","y","h","v","originalPoint","equals","spatialReference","clone","mapPoint","radiusPx","_t$toScreen","call","xoffset","yoffset","toMap","include","g","C","renderSpatialReference","state","camera","eye","constructOnly","nonNullable","prototype","value","map","anchorPoint","Math","abs"],"sourceRoot":""}