{"version":3,"file":"static/js/68796.cbb3eff7.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as i}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const f=new n,{vertex:u,fragment:m}=f;return t(u,v),f.include(o,v),f.attributes.add(c.POSITION,\"vec3\"),f.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&f.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),f.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&f.varyings.add(\"depth\",\"float\"),u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),f.include(r,v),f.include(i,v),m.uniforms.add(new p(\"tex\",(e=>e.texture)),new l(\"opacity\",(e=>e.opacity))),f.varyings.add(\"vTexCoord\",\"vec2\"),v.transparencyPassType===g.ColorAlpha&&(f.outputs.add(\"fragColor\",\"vec4\",0),f.outputs.add(\"fragAlpha\",\"float\",1)),m.include(a),m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.ColorAlpha?d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;`:\"\"}\n      ${v.output===e.ObjectAndLayerIdColor?d`\n              fragColor = vec4(0,0,0,1);`:\"\"}\n    }\n    `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{f as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,g),d=g}}if(!n)return null;const p=n?.split(\"/\").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:\"node\",rootNode:(await e(u,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,urlPrefix:c}}catch(g){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:d,nodeError:g,url:u})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as r}from\"../../../../chunks/boundedPlane.js\";import o from\"../../../../layers/Layer.js\";import c from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as h,projectAndElevationAlignShape as u,projectedShapeToPlane as d,planeToShape as p}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as y}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as w}from\"../../terrain/isTerrainSurfaceLayer.js\";let v=class extends a{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof o||i instanceof c)?i instanceof o&&w(i)?(t.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(t.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),V(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(h).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let a=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=u(e,this.view);null==s&&y(this.analysis,i,t.getLogger(this)),a=d(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},r()),null!=a&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=p(e,this.view,this.view.spatialReference,new i);let t=null;null!=a&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(m)return;const e=_(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(m=!0,e.activeController.analysisViewData.active=!1,m=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){g(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([s()],v.prototype,\"view\",void 0),e([s()],v.prototype,\"analysis\",void 0),e([s()],v.prototype,\"analysisViewData\",void 0),e([s()],v.prototype,\"_allLayerAndSubLayerViews\",null),v=e([n(\"esri.views.3d.analysis.Slice.SliceController\")],v);const f=new Map;let m=!1;function g(e){const i=_(e),a=i?.activeController;null!=a?.analysisViewData.plane&&a.analysisViewData.visible?e.slicePlane=a.analysisViewData.plane:e.slicePlane=null}function V(e,i){f.has(e)||f.set(e,{all:[],activeController:null}),f.get(e)?.all.push(i)}function _(e){return f.get(e)}function L(e,i){if(!f.has(e))throw new Error(\"view expected in global slice register\");const a=f.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&f.delete(e)}export{v as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";import{createScreenPoint as h,screenPointObjectToArray as p}from\"../../../../core/screenUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as d,fromScaling as _,multiply as v}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{m as P,l as y,c as m,j as w,g,h as f,n as M,s as D}from\"../../../../chunks/vec32.js\";import{clone as V,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as T,ZEROS as E}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{a as k,c as S,n as x,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as C,intersectRay as R,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as I}from\"../../../../geometry/support/ray.js\";import{sv3d as z,sm4d as G,sv2d as L}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as U,getTiltRotateTexture as A}from\"../images/Factory.js\";import{ResizeManipulator as K}from\"./ResizeManipulator.js\";import{RotateManipulator as B}from\"./RotateManipulator.js\";import{getOutlineColor as F,planeColor as N}from\"./settings.js\";import{ShiftManipulator as q,OffsetMode as Z}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as W,planePreviewOutlineWidth as J,forceVerticalModifier as Q,forceHorizontalModifier as X,previewFadeDotThreshold as Y,previewFadeDurationSeconds as $,initialDepthOffsetFrac as tt}from\"./sliceToolConfig.js\";import{createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as mt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as wt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as gt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as ft}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Mt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=Vt=class extends gt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=W,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=k(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=h(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&S(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new q(this.view,Z.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new B(this.view,((t,e)=>U(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new B(this.view,((t,e)=>A(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new K(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=J,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r));const o=n((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),l);this.addHandles([o,n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get layersMode(){return this._layersMode}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"exclude\",this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"none\",this.active&&(this.view.activeTool=null))}onDeactivate(){this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!kt(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!kt(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!kt(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),S(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=Dt(t),a=k();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=wt(this.view.state.camera,i,xt);this.inputState=Et(e,t.pointerId,a.origin,a)}return S(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(Dt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this.exitExcludeLayerMode(),!0)}_onKeyDown(t){return(t.key===Q||t.key===X)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==Q&&t.key!==X||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=wt(this.view.state.camera,t.screenPoint,xt);S(this.analysisViewData.plane,this._startPlane),this.inputState=Et(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(x(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=m(z.get(),this._startPlane.origin),i=m(z.get(),x(this._startPlane));w(i,i,-t.depth),g(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,k());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=d(G.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=f(z.get(),this._startPlane.basis1,e),a=f(z.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,k());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=wt(this.view.state.camera,t.screenPoint,xt),a=z.get();R(this.analysisViewData.plane.plane,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:V(a)})}_createResizeDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=S(this.analysisViewData.plane,k());e.next(mt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,S(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=null!=i?i:k();if(i=null!=i?S(i,St):null,this._pickPlane(t,!0,e,a)){const t=Y;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(M(z.get(),i.basis1),M(z.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=o({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=p(t,L.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=z.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(z.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&w(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*tt,p=w(z.get(),r,h);g(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[Q]?ot.VERTICAL:i[X]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=!1;else{if(null==this._previewPlane)return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,G.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=D(z.get(),y(t.basis1),y(t.basis2),1),s=_(G.get(),a),n=v(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=F(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=T(N);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=E}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}testData(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};bt.disableEngineLayers=!1,t([u()],bt.prototype,\"_clock\",void 0),t([u({constructOnly:!0})],bt.prototype,\"view\",void 0),t([u()],bt.prototype,\"analysisViewData\",void 0),t([u({readOnly:!0})],bt.prototype,\"state\",null),t([u({readOnly:!0})],bt.prototype,\"cursor\",null),t([u()],bt.prototype,\"analysis\",null),t([u()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([u()],bt.prototype,\"_layersMode\",void 0),t([u()],bt.prototype,\"layersMode\",null),t([u({value:null})],bt.prototype,\"inputState\",null),t([u()],bt.prototype,\"_isPlacingSlicePlane\",null),t([u()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([c(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Tt=bt;function Et(t,e,i,a){const s=Pt(i,x(a),t.direction,C()),n=b();return R(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function kt(t){return\"mouse\"!==t.pointerType||0===t.button}const St=k(),xt=I();export{Tt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{s as m,l as u}from\"../../../../chunks/vec32.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o)],\"internal\")}destroy(){this._gridVisualElement=t(this._gridVisualElement),this._outlineVisualElement=t(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),u(i.basis1),u(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:p,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{SliceController as e}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y}from\"../../analysis/analysisViewUtils.js\";let h=class extends(l(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new e({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){}};s([a({readOnly:!0})],h.prototype,\"type\",void 0),s([a({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",void 0),s([a()],h.prototype,\"tool\",void 0),s([a()],h.prototype,\"plane\",void 0),s([a()],h.prototype,\"active\",void 0),s([a()],h.prototype,\"showGrid\",null),s([a()],h.prototype,\"editable\",null),h=s([o(\"esri.views.3d.analysis.SliceAnalysisView3D\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{screenPointObjectToArray as e,castScreenPointArray as n,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{l as t,c as o,b as l,f as s,m as c,j as a,g as i}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPoint as p}from\"../../../../geometry/projection.js\";import{intersectRay as m,create as d,getNormal as f,fromPositionAndNormal as g}from\"../../../../geometry/support/plane.js\";import{create as E,closestPoints as y}from\"../../../../geometry/support/ray.js\";import{projectPoint as S}from\"../../../../geometry/support/vector.js\";import{sv2d as j}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as R}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{newIntersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as b,IntersectorType as w}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as I}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as H}from\"../../../interactive/dragEventPipeline.js\";import U from\"../../../../geometry/Point.js\";function O(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(r,t){const o=u(),l=u();let s=!1;return c=>{const a=t(c);if(\"start\"===c.action){const t=e(c.screenStart,n(j.get())),l=v(r.state.camera,t,K);null!=l&&(s=m(a,l,o))}if(!s)return null;const i=e(c.screenEnd,n(j.get())),u=v(r.state.camera,i,K);return null==u?null:m(a,u,l)?{...c,renderStart:o,renderEnd:l,plane:a,ray:u}:null}}function T(e,n,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenStart.x,c.screenStart.y),n,t,l),null!=s&&null!=o&&!p(s,s,o)))return null;if(null==s)return null;const a=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenEnd.x,c.screenEnd.y),n,t,l);return null!=a&&(null==o||p(a,a,o))?{...c,mapStart:s,mapEnd:a}:null}}function D(e,n,r,t=null,o=null){return T(e,r,R(n,e,r),t,o)}function M(e,n,r,t){const o=r.toMap(e.screenStart);return null!=o?D(n,o,r.elevationInfo,t):null}function N(e,n){const r=B,t=J,o=d();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=l(f(o),r,s(t,n,e.state.camera.eye));return l(c,c,r),g(n,c,o)}function G(e,n,r){let t=null;const o=new H;return o.next(O(e,N(e,n))).next(h(e,n)).next(A(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function h(e,n){const r=u(),l=t(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const p=u(),m=u(),d=o=>{if(s(o,o,n),S(r,o,o),\"global\"===e.viewingMode){t(o)*Math.sign(c(r,o))<.001-l&&s(o,a(o,r,.001),n)}return i(o,o,n),o};return e=>(e.renderStart=d(o(p,e.renderStart)),e.renderEnd=d(o(m,e.renderEnd)),e)}function k(r,t){const o=o=>{const l=e(o,n(j.get())),s=v(r.state.camera,l,K);return null==s?null:y(t,s,B,J)[1]};return e=>{const n=o(e.screenStart);if(null==n)return null;const r=o(e.screenEnd);return null==r?null:{...e,renderStart:n,renderEnd:r}}}function A(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new U({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new U({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var F;function q(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function z(n,t=null){const o=x(n.state.viewingMode);o.options.selectionMode=!0,o.options.store=b.MIN,o.options.hud=!1;const l=r(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=u(),a=t??n.spatialReference,i=r=>{n.map.ground&&n.map.ground.opacity<1?s.exclude.add(I):s.exclude.delete(I),n.sceneIntersectionHelper.intersectIntersectorScreen(e(r,l),o,s);const t=o.results.min;let i;if(t.getIntersectionPoint(c))i=t.intersector===w.TERRAIN?F.GROUND:F.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;i=F.GROUND}return{location:n.renderCoordsHelper.fromRenderCoords(c,new U({spatialReference:a})),surfaceType:i}};let p;return e=>{if(\"start\"===e.action){const n=i(e.screenStart);p=null!=n?n.location:null}if(null==p)return null;const n=i(e.screenEnd);return null!=n?.location?{...e,mapStart:p,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(F||(F={}));const B=u(),J=u(),K=E();export{F as SurfaceType,A as convertToMapCoordinates,q as hideManipulatorWhileDragging,h as projectToWorldUp,z as screenToMap3D,D as screenToMapXYAtLocation,M as screenToMapXYForManipulatedObject,O as screenToRenderPlane,C as screenToRenderPlaneFromEvent,k as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromTranslation as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{s as r,h as s}from\"../../../../chunks/vec32.js\";import{ZEROS as o,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a,clone as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as m,createGeometry as p}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as h}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as d}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class f extends l{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new d({width:1,color:a(1,0,1,1),stippleOffColor:null,stipplePattern:null,stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerColor:null,innerWidth:1,hasPolygonOffset:!1,renderOccluded:h.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromRenderSpacePoint(e,t=1e3){this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,s=i(),o=i(),a=100,n=[];r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,o=e.basis2,a=.5,n=i(),l=i(),m=i(),p=i();n[0]=r[0]-s[0]*a-o[0]*a,n[1]=r[1]-s[1]*a-o[1]*a,n[2]=r[2]-s[2]*a-o[2]*a,l[0]=r[0]-s[0]*a+o[0]*a,l[1]=r[1]-s[1]*a+o[1]*a,l[2]=r[2]-s[2]*a+o[2]*a,m[0]=r[0]+s[0]*a+o[0]*a,m[1]=r[1]+s[1]*a+o[1]*a,m[2]=r[2]+s[2]*a+o[2]*a,p[0]=r[0]+s[0]*a-o[0]*a,p[1]=r[1]+s[1]*a-o[1]*a,p[2]=r[2]+s[2]*a-o[2]*a,t.push([n[0],n[1],n[2]]),t.push([l[0],l[1],l[2]]),t.push([m[0],m[1],m[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(t){const r=t.endRenderSpace;this.transform=e(u,r);const{points:s}=t.createRenderGeometry(r,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(t,r=o){this.transform=e(u,r),this.geometry=t.map((e=>e.createRenderGeometry(r,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>s(i(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:n(e),writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:null!=e?n(e):null})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:null!=e?n(e):null})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of m(this.geometry)){const r=p(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const u=t();export{f as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=e((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this&&(\"attached\"===s?t=e[s]:this[s]=e[s]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,oitDrawBuffers as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as j,cullingParams as S,defaultDepthWriteParams as v,defaultColorWriteParams as I}from\"../../../webgl/renderState.js\";class N extends r{}class E extends o{initializeProgram(e){return new h(e.rctx,E.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const i=this.configuration,o=e===y.NONE,s=e===y.FrontFace;return j({blending:i.output===t.Color&&i.transparent?o?w:a(e):null,culling:S(i.cullFace),depthTest:{func:l(e)},depthWrite:o?i.writeDepth?v:null:p(e),drawBuffers:c(e),colorWrite:I,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:o||s?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}E.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const w=O(T.ONE,T.ONE_MINUS_SRC_ALPHA);class C extends P{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:y.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[b.POSITION,0],[b.UV0,2],[b.PERSPECTIVEDIVIDE,3]]);export{N as ImageMaterialPassParameters,E as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isOIDorHighlight as t,isColor as r,ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as E,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";class g extends m{constructor(e){super(e,new P),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>t(e)||r(e)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>r(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._vertexAttributeLocations=_,this._configuration=new E}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=h.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new b(e)}}class I extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(T,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output===s.Color&&this._updateOccludeeState(e),this._updateParameters(e)}}class b extends l{write(t,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const t=a.getField(n,e);t&&f(o,t,i)}else d(n,o,t,r,a,i)}}}class P extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{EditableFlag as s}from\"./interfaces.js\";import{ManipulatorCollection as r}from\"./ManipulatorCollection.js\";let n=class extends e{constructor(t){super(t),this.manipulators=new r,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[s.MANAGER,!0],[s.USER,!0]]),this._creationFinishedResolver=i()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(s.USER)}set editable(t){this.setEditableFlag(s.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}onAdd(){this._syncVisible()}activate(){null!=this.view&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===s.USER&&this.notifyChange(\"editable\"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(s.USER)&&this.getEditableFlag(s.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set(\"created\",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([o({constructOnly:!0})],n.prototype,\"view\",void 0),t([o({readOnly:!0})],n.prototype,\"active\",null),t([o({value:!0})],n.prototype,\"visible\",null),t([o({value:!0})],n.prototype,\"editable\",null),t([o({readOnly:!0})],n.prototype,\"manipulators\",void 0),t([o({readOnly:!0})],n.prototype,\"updating\",null),t([o()],n.prototype,\"cursor\",null),t([o({readOnly:!0})],n.prototype,\"automaticManipulatorSelection\",void 0),t([o()],n.prototype,\"hasFocusedManipulators\",null),t([o()],n.prototype,\"hasGrabbedManipulators\",void 0),t([o()],n.prototype,\"hasHoveredManipulators\",void 0),t([o()],n.prototype,\"firstGrabbedManipulator\",void 0),t([o({readOnly:!0})],n.prototype,\"created\",void 0),t([o({readOnly:!0})],n.prototype,\"removeIncompleteOnCancel\",void 0),n=t([a(\"esri.views.interactive.InteractiveToolBase\")],n);export{n as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";var a;!function(t){t[t.WhenToolEditable=0]=\"WhenToolEditable\",t[t.WhenToolNotEditable=1]=\"WhenToolNotEditable\",t[t.Always=2]=\"Always\"}(a||(a={}));class i{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=a.WhenToolEditable){this.addMany([t],i)}addMany(t,i=a.WhenToolEditable){for(const a of t){const t={manipulator:a,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:o,attached:s})=>{if(!s||!o.interactive)return;const r=o.intersectionDistance(t,a);null!=r&&r<e&&(e=r,i=o)})),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===a.Always||(this._isToolEditable?t.visibilityPredicate===a.WhenToolEditable:t.visibilityPredicate===a.WhenToolNotEditable)}}export{i as ManipulatorCollection,a as ManipulatorVisibilityPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.hud=!1,n}export{t as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{project as a}from\"../../geometry/projection.js\";import{isMeshWithRelativeVertexSpace as o}from\"../../geometry/support/meshVertexSpaceUtils.js\";import{hydratedSpatialReference as l,clonePoint as c}from\"../../layers/graphics/hydratedFeatures.js\";import{getZForElevationMode as s}from\"../../support/elevationInfoUtils.js\";import{EditGeometryOperations as u}from\"./editGeometry/EditGeometryOperations.js\";function i(t,n){let e=null,r=null;return a=>{if(\"cancel\"===a.action)return void(null!=r&&(r.execute({action:\"cancel\"}),e=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};\"start\"===a.action&&null==e&&(e=new w,r=new w,n(t,e,r,a.pointerType,o)),null!=e&&e.execute(o),\"end\"===a.action&&null!=e&&(e=null,r=null)}}function p(t,n){return t.events.on(\"drag\",i(t,n))}function m(t,n){const e=[t.x,t.y,t.z??0],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(l(t.mapStart),l(t.mapEnd),{...t,axis:a})}function f(t){let n=null;return e=>{if(\"start\"===e.action&&(n=y(t,e.mapStart.spatialReference)),null==n)return null;const r=e.mapEnd.x-e.mapStart.x,a=e.mapEnd.y-e.mapStart.y,o=(e.mapEnd.z??0)-(e.mapStart.z??0);return n.move(r,a,o,e.action),{...e,translationX:r,translationY:a,translationZ:o}}}function d(t,n){return null==t?null:t.spatialReference.equals(n)?t.clone():a(t,n)}function y(t,n){const e=t.operations;if(!e)return null;const r=e.data.geometry,c=l(n);if(r.spatialReference.equals(c))return x(t,e,(()=>{}));if(\"mesh\"!==r.type){const n=d(r,c);if(null==n)return null;const o=r.spatialReference;return x(t,u.fromGeometry(n,e.viewingMode),(()=>{const t=a(r,o);e.trySetGeometry(t)}))}if(o(r)){const n=d(r.origin,c);if(!n)return null;const o=r.spatialReference,l=u.fromGeometry(n,e.viewingMode);return x(t,e,(()=>{const t=a(l.data.geometry,o),n=t.x-r.origin.x,c=t.y-r.origin.y,s=(t.z??0)-(r.origin.z??0);e.move(n,c,s)}))}return null}function x(t,n,e){let r=0,a=0,o=0;return{move:(l,c,s,u)=>{\"start\"===u&&(r=0,a=0,o=0);const i=l-r,p=c-a,m=s-o;n.move(i,p,m),r+=i,a+=p,o+=m,e(),\"end\"===u&&t.endInteraction?.()}}}function E(t,n=null,e){let r=null;const o=null==n||t.spatialReference?.equals(n)?t=>t:t=>null!=t?a(t,n):t,l={exclude:[],...e};return n=>{if(\"start\"===n.action&&(r=o(t.toMap(n.screenStart,l))),null==r)return null;const e=o(t.toMap(n.screenEnd,l));return null!=e?{...n,mapStart:r,mapEnd:e}:null}}function S(n){const e=n.map((t=>f(t))).filter(t);return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function h(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function g(t){const n=t.operations?.createResetState();return t=>(n?.remove(),t)}function z(t){const n=t.map((t=>g(t))).filter((t=>null!=t));return t=>(n.forEach((n=>n(t))),t)}function v(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,l=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function j(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let a=null,o=0,l=0;return c=>{if(\"start\"===c.action&&(a=t.toScreen?.(n),null!=a&&(a.x<0||a.x>t.width||a.y<0||a.y>t.height?a=null:(o=c.screenStart.x-a.x,l=c.screenStart.y-a.y))),null==a)return null;const s=e(c.screenEnd.x-o,0,t.width),u=e(c.screenEnd.y-l,0,t.height),i=r(s,u);return c.screenStart=a,c.screenEnd=i,c}}const R=()=>{};class w{constructor(){this.execute=R}next(t,n=new w){return null!=t&&(this.execute=e=>{const r=t(e);null!=r&&n.execute(r)}),n}}function D(t,n,e=[]){if(\"2d\"===t.type)return t=>t;let r=null;return a=>{\"start\"===a.action&&(r=t.toMap(a.screenStart,{exclude:e}),null!=r&&(r.z=s(r,t,n)));const o=t.toMap(a.screenEnd,{exclude:e});null!=o&&(o.z=s(o,t,n));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function G(t,n,e){const r=n.elevationProvider.getElevation(t.x,t.y,t.z??0,t.spatialReference,\"scene\")??0,a=c(t);return a.z=r,a.hasZ=!0,a.z=s(a,n,e),a}function U(t,n){if(\"2d\"===t.type)return t=>t;let e=null;return r=>{\"start\"===r.action&&(e=G(r.mapStart,t,n));const a=G(r.mapEnd,t,n),o=null!=e&&null!=a?{sceneStart:e,sceneEnd:a}:null;return{...r,scenePoints:o}}}export{w as EventPipeline,v as addMapDelta,j as addScreenDelta,m as constrainToMapAxis,i as createDragEventPipelineCallback,p as createManipulatorDragEventPipeline,M as dragAtLocation,f as dragManipulatedObject,S as dragManipulatedObjectMany,g as resetManipulatedObject,z as resetManipulatedObjectMany,h as resetProperties,D as sceneSnappingAtLocation,U as sceneSnappingAtProjectedLocation,E as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{distance as n,dot as r,squaredLength as e,scale as s,subtract as o,add as c,scaleAndAdd as u,copy as i,length as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{clone as a,create as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,r,e){const s=(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]);return Math.abs(s)/n(r,e)}function E(t,n,o){const c=r(o,n)/e(o);return s(t,o,c)}function I(t,n,r,e,s=r){return o(x,e,r),o(g,n,s),E(A,g,x),c(t,s,A)}function L(t,n,s,c){o(x,c,s),o(g,n,s);const f=r(x,g)/e(x);return f>0?u(t,s,x,f):i(t,s)}function N(t,n,r,e){o(x,n,r);const s=e/f(x);return u(t,r,x,s)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[a(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[a(e)]:[]}function b(t,n){const r=t.start,e=t.end,s=n.start,c=n.end,i=o(x,e,r),f=o(M,c,s),a=m(i,f);if(Math.abs(a)<=v)return[];const p=o(g,r,s),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||n.type===j.LINE)return[u(A,r,i,h)]}else if(t.type===j.LINE&&(E>=0||n.type===j.LINE))return[u(A,r,i,h)];return[]}function d(t,n,s){const c=[],i=o(x,t.end,t.start),f=o(M,t.start,n),a=e(i),p=2*r(i,f),m=p*p-4*a*(e(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&c.push(u(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),r=(-p+n)/(2*a);(t.type===j.LINE||r>=0)&&c.push(u(A,t.start,i,r));const e=(-p-n)/(2*a);(t.type===j.LINE||e>=0)&&c.push(u(g,t.start,i,e))}return c}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=p(),M=p(),g=p(),A=p();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n"],"names":["v","f","n","vertex","u","fragment","m","t","include","o","attributes","add","c","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","d","_templateObject","_taggedTemplateLiteral","r","i","uniforms","p","e","texture","l","opacity","transparencyPassType","g","ColorAlpha","outputs","a","_templateObject2","float","s","_templateObject3","output","ObjectAndLayerIdColor","_templateObject4","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","async","concat","Math","floor","rootIndex","nodesPerPage","type","rootPage","query","token","responseType","signal","data","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","warn","split","pop","rootNode","pageError","nodeError","url","constructor","super","arguments","this","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","prototype","Boolean","readOnly","_internalChange","_currentSlicePlane","initialize","addHandles","analysis","excludedLayers","on","item","w","getLogger","error","title","id","preventDefault","includes","_f$get","has","set","all","activeController","get","push","V","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","_a$all$lastIndexOf","Error","lastIndexOf","splice","length","delete","L","allLayerViews","items","filter","h","flatMap","_ref","sublayerViews","equals","position","spatialReference","y","tiltEnabled","heading","tilt","width","height","_","layers","forEach","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","Map","Vt","bt","gt","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","W","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","k","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","_this$view$_stage","_updateManipulatorsInteractive","grabbing","S","inputState","q","Z","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","B","U","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","A","_createRotateTiltDragPipeline","_onRotateTiltGrab","map","K","_createResizeDragPipeline","_onResizeGrab","addMany","et","it","J","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","layersMode","_creatingPointerId","removeHandles","_set","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","activeTool","exitExcludeLayerMode","onDeactivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","kt","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","action","hasBeenDragged","pointerType","start","screenPoint","x","_resetPointerMoveTimeout","_pickPlane","wt","xt","Et","origin","at","created","hitTest","then","results","graphic","sourceLayer","ground","key","Q","X","renderLocation","ft","next","mt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","min","abs","P","ray","H","renderEnd","startPoint","depth","z","j","basis1","basis2","st","renderCoordsHelper","nt","HEADING","C","b","R","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","O","yt","rotateAxis","rotateAngle","G","activeHandleIdx","_resizeDragUpdatePlane","rt","undefined","St","Y","M","update","deltaTime","$","_pickMinResult","sceneIntersectionHelper","intersectToolIntersectorScreen","getIntersectionPoint","getTransformedNormal","viewForward","lt","tt","ot","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","D","transform","F","effectiveTheme","T","N","color","backgroundColor","gridColor","E","testData","setPointerMoveTimerMs","Tt","Pt","button","I","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","tool","analysisVisualization","analysisController","_this$analysisVisuali","_this$analysisVisuali2","nonNullable","_e","hasZ","warnOnce","wkid","screenStart","screenEnd","renderStart","intersectElevationFromScreen","mapStart","mapEnd","toMap","elevationInfo","worldUpAtPosition","eye","sign","execute","fromRenderCoords","disableDisplay","remove","options","selectionMode","store","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","intersectIntersectorScreen","intersector","TERRAIN","GROUND","OTHER","location","surfaceType","_hasExternalMaterial","_material","stippleOffColor","stipplePreferContinuous","isClosed","falloff","innerColor","innerWidth","hasPolygonOffset","renderOccluded","OccludeAndTransparent","isDecoration","writeDepth","applyProperties","setGeometryFromRenderSpacePoint","geometry","setGeometryFromExtent","toRenderCoords","setGeometryFromFrustum","lines","endpoint","setGeometryFromBoundedPlane","setGeometryFromSegment","endRenderSpace","points","createRenderGeometry","setGeometryFromSegments","getTransformedGeometry","_geometry","parameters","setParameters","recreateGeometry","polygonOffset","createExternalResources","destroyExternalResources","createGeometries","addGeometry","forEachExternalMaterial","_isDecoration","_attached","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","onAttachedChange","updateVisibility","createResources","destroyResources","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","Color","transparent","culling","cullFace","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","hasOccludees","stencilTest","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","None","hasSlicePlane","cullAboveGround","count","COUNT","constValue","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","clone","f32","material","_updateParameters","updateTexture","textureId","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","write","vertexBufferLayout","fields","keys","size","getField","initTextureTransparent","tools","deactivate","clear","resetCreated","automaticManipulatorSelection","hasGrabbedManipulators","hasHoveredManipulators","firstGrabbedManipulator","_editableFlags","MANAGER","USER","_creationFinishedResolver","_syncVisible","getEditableFlag","setEditableFlag","hasFocusedManipulators","onAdd","activate","focus","onActivate","handleInputEvent","handleInputEventAfter","onInputEventAfter","isToolEditable","_updateManipulatorAttachment","notifyChange","onManipulatorSelectionChanged","_this$_editableFlags$","whenCreated","promise","resolve","initialized","_show","_hide","attach","detach","WhenToolEditable","WhenToolNotEditable","Always","_isToolEditable","_manipulators","_resourceContexts","manipulator3D","manipulator","visibilityPredicate","_detachManipulator","removeAll","some","toArray","intersect","Number","MAX_VALUE","_ref2","intersectionDistance","_isManipulatorItemVisible","_attachManipulator","dragging","hovering","selected","_t$z","cos","sin","sqrt","axis","_e$mapEnd$z","_e$mapStart$z","operations","fromGeometry","trySetGeometry","_t$z2","_r$origin$z","move","translationX","translationY","translationZ","_t$endInteraction","endInteraction","call","_t$spatialReference","_t$operations","createResetState","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","screenDeltaX","screenDeltaY","_t$toScreen","toScreen","sceneStart","sceneEnd","scenePoints","_n$elevationProvider$","_t$z3","elevationProvider","getElevation","_n$fieldsIndex","_n$fieldsIndex2","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","end","LINE","RAY"],"sourceRoot":""}