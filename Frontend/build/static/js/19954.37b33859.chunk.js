"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[19954,77671,55785],{15559:(e,t,n)=>{n.d(t,{Gb:()=>p,Jf:()=>f,Lc:()=>M,TB:()=>b,_q:()=>w,cA:()=>g,j2:()=>m,p8:()=>v});n(59486);var i=n(10064),r=n(68860),a=n(38516),s=n(92975),l=n(29909),o=n(80885),c=(n(848),n(78952));function u(e){if(!e)return null;if((0,s.sT)(e)&&e.wkid){const t=a.Dg[e.wkid];if(t)return t}const t=e.wkt2||e.wkt;if(t){const e=function(e){const t=a.FQ.exec(e);if(!t||2!==t.length)return null;const n=t[1].split(",");if(!n||n.length<3)return null;const i=parseFloat(n[1]),r=parseFloat(n[2]);return isNaN(i)||isNaN(r)?null:{a:i,f:0===r?0:1/r}}(t);if(e)return e}return null}function d(e){const t=u(e);if(function(e){return null!=e&&"b"in e&&"eSq"in e&&"radius"in e}(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function h(e,t,n){const{a:i,eSq:r}=d(n),s=Math.sqrt(r),l=Math.sin(t[1]*a.Yr),o=i*t[0]*a.Yr;let c;return c=r>0?i*((1-r)*(l/(1-r*(l*l))-1/(2*s)*Math.log((1-s*l)/(1+s*l))))*.5:i*l,e[0]=o,e[1]=c,e}function p(e){return null!==u(e)}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"square-meters";if(e.some((e=>!p(e.spatialReference))))throw new i.Z("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const t=e[i],r=t.spatialReference,{radius:a,densificationRatio:s}=d(r),l=a*s;n.push(m(t,l))}const a=[],s=[0,0],l=[0,0];for(let i=0;i<n.length;i++){const{rings:e,spatialReference:o}=n[i];let c=0;for(let t=0;t<e.length;t++){const n=e[t];h(s,n[0],o),h(l,n[n.length-1],o);let i=l[0]*s[1]-s[0]*l[1];for(let e=0;e<n.length-1;e++)h(s,n[e+1],o),h(l,n[e],o),i+=l[0]*s[1]-s[0]*l[1];c+=i}c=(0,r.En)(c,"square-meters",t),a.push(c/-2)}return a}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";if(!e)throw new i.Z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(e.some((e=>!p(e.spatialReference))))throw new i.Z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const a=e[i],{spatialReference:s}=a,l="polyline"===a.type?a.paths:a.rings;let o=0;for(let e=0;e<l.length;e++){const t=l[e];let n=0;for(let e=1;e<t.length;e++){const i=t[e-1][0],r=t[e][0],a=t[e-1][1],l=t[e][1];if(a!==l||i!==r){const e=new w;g(e,[i,a],[r,l],s),n+=e.distance}}o+=n}o=(0,r.En)(o,"meters",t),n.push(o)}return n}function m(e,t){if("polyline"!==e.type&&"polygon"!==e.type)throw new i.Z("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:n}=e;if(!p(n))throw new i.Z("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const r="polyline"===e.type?e.paths:e.rings,a=[],s=[0,0],c=new w;for(const i of r){const e=[];a.push(e),e.push([i[0][0],i[0][1]]);let r,l,o=i[0][0],u=i[0][1];for(let a=0;a<i.length-1;a++){if(r=i[a+1][0],l=i[a+1][1],o===r&&u===l)continue;const d=[o,u];g(c,[o,u],[r,l],n);const{azimuth:h,distance:p}=c,v=p/t;if(v>1){for(let i=1;i<=v-1;i++)b(s,d,h,i*t,n),e.push(s.slice(0));b(s,d,h,(p+Math.floor(v-1)*t)/2,n),e.push(s.slice(0))}b(s,d,h,p,n),e.push(s.slice(0)),o=s[0],u=s[1]}}return"polyline"===e.type?new l.Z({paths:a,spatialReference:n}):new o.Z({rings:a,spatialReference:n})}class w{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.distance=e,this.azimuth=t,this.reverseAzimuth=n}}function b(e,t,n,i,r){const s=t[0],l=t[1],o=s*a.Yr,c=l*a.Yr,u=(null!==n&&void 0!==n?n:0)*a.Yr,{a:h,b:p,f:v}=d(r),f=Math.sin(u),m=Math.cos(u),w=(1-v)*Math.tan(c),b=1/Math.sqrt(1+w*w),g=w*b,M=Math.atan2(w,m),_=b*f,y=_*_,C=1-y,S=C*(h*h-p*p)/(p*p),R=1+S/16384*(4096+S*(S*(320-175*S)-768)),B=S/1024*(256+S*(S*(74-47*S)-128));let k,Y,L,Z,x=i/(p*R),z=2*Math.PI;for(;Math.abs(x-z)>1e-12;)L=Math.cos(2*M+x),k=Math.sin(x),Y=Math.cos(x),Z=B*k*(L+B/4*(Y*(2*L*L-1)-B/6*L*(4*k*k-3)*(4*L*L-3))),z=x,x=i/(p*R)+Z;const W=g*k-b*Y*m,q=Math.atan2(g*Y+b*k*m,(1-v)*Math.sqrt(y+W*W)),E=Math.atan2(k*f,b*Y-g*k*m),F=v/16*C*(4+v*(4-3*C)),I=q/a.Yr,N=(o+(E-(1-F)*v*_*(x+F*k*(L+F*Y*(2*L*L-1)))))/a.Yr;return e[0]=N,e[1]=I,e}function g(e,t,n,i){const r=t[0]*a.Yr,s=t[1]*a.Yr,l=n[0]*a.Yr,o=n[1]*a.Yr,{a:c,b:u,f:h,radius:p}=d(i),v=l-r,f=Math.atan((1-h)*Math.tan(s)),m=Math.atan((1-h)*Math.tan(o)),w=Math.sin(f),b=Math.cos(f),g=Math.sin(m),M=Math.cos(m);let _,y,C,S,R,B,k,Y,L,Z,x=1e3,z=v;do{if(k=Math.sin(z),Y=Math.cos(z),C=Math.sqrt(M*k*(M*k)+(b*g-w*M*Y)*(b*g-w*M*Y)),0===C)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;R=w*g+b*M*Y,B=Math.atan2(C,R),L=b*M*k/C,y=1-L*L,S=R-2*w*g/y,isNaN(S)&&(S=0),Z=h/16*y*(4+h*(4-3*y)),_=z,z=v+(1-Z)*h*L*(B+Z*C*(S+Z*R*(2*S*S-1)))}while(Math.abs(z-_)>1e-12&&--x>0);if(0===x){const t=p,n=Math.acos(Math.sin(s)*Math.sin(o)+Math.cos(s)*Math.cos(o)*Math.cos(l-r))*t,i=l-r,c=Math.sin(i)*Math.cos(o),u=Math.cos(s)*Math.sin(o)-Math.sin(s)*Math.cos(o)*Math.cos(i),d=Math.atan2(c,u);return e.azimuth=d/a.Yr,e.distance=n,e.reverseAzimuth=void 0,e}const W=y*(c*c-u*u)/(u*u),q=W/1024*(256+W*(W*(74-47*W)-128)),E=u*(1+W/16384*(4096+W*(W*(320-175*W)-768)))*(B-q*C*(S+q/4*(R*(2*S*S-1)-q/6*S*(4*C*C-3)*(4*S*S-3)))),F=Math.atan2(M*Math.sin(z),b*g-w*M*Math.cos(z)),I=Math.atan2(b*Math.sin(z),b*g*Math.cos(z)-w*M);return e.azimuth=F/a.Yr,e.distance=E,e.reverseAzimuth=I/a.Yr,e}function M(e){return p(e)?e:(0,s.sS)(e)?c.Z.WGS84:null}},77671:(e,t,n)=>{n.d(t,{Y:()=>r});var i=n(74177);const r={readOnly:!0,get(){return(0,i.R)(this.view)}}},74177:(e,t,n)=>{n.d(t,{R:()=>a});var i=n(68860),r=n(7575);function a(e){var t,n,a,s,l;const o="metric";if(null==e)return o;const c=e.map,u=null!==(t=c&&"portalItem"in c?null===(n=c.portalItem)||void 0===n?void 0:n.portal:null)&&void 0!==t?t:r.Z.getDefault();switch(null!==(a=null===(s=u.user)||void 0===s?void 0:s.units)&&void 0!==a?a:u.units){case o:return o;case"english":return"imperial"}return null!==(l=(0,i.yT)(e.spatialReference))&&void 0!==l?l:o}},19954:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(27366),r=n(94172),a=n(17842),s=n(49861),l=(n(93169),n(32718),n(84936),n(69912)),o=n(6291),c=n(77671),u=n(33565);const d="esri-scale-bar",h={base:d,labelContainer:"".concat(d,"__label-container"),rulerLabelContainer:"".concat(d,"__label-container--ruler"),lineLabelContainer:"".concat(d,"__label-container--line"),topLabelContainer:"".concat(d,"__label-container--top"),bottomLabelContainer:"".concat(d,"__label-container--bottom"),label:"".concat(d,"__label"),line:"".concat(d,"__line"),topLine:"".concat(d,"__line--top"),bottomLine:"".concat(d,"__line--bottom"),ruler:"".concat(d,"__ruler"),rulerBlock:"".concat(d,"__ruler-block"),barContainer:"".concat(d,"__bar-container"),rulerBarContainer:"".concat(d,"__bar-container--ruler"),lineBarContainer:"".concat(d,"__bar-container--line")};n(59486);var p=n(7138),v=n(68860),f=n(15559),m=n(91340),w=n(92975),b=n(81753),g=n(78952),M=n(29909),_=n(848);function y(e){let{state:{paddedViewState:t},spatialReference:n,width:i}=e;return n.isWrappable&&t.worldScreenWidth<i}function C(e,t){const{x:n,y:i}=e?(0,b.Sx)(t,!0):t;return[n,i]}let S=class extends p.default{constructor(e){super(e),this.scaleComputedFrom=(0,a.vW)(),this.view=null}get state(){var e,t;return null!==(e=this.view)&&void 0!==e&&e.ready&&"2d"===(null===(t=this.view)||void 0===t?void 0:t.type)?"ready":"disabled"}getScaleBarProperties(e,t){if("disabled"===this.state||isNaN(e)||!t||!this.view)return null;const n=this._getDistanceInMeters();return null==n?null:this._getScaleBarProps(e,n,t)}_getDistanceInMeters(){const{state:e,spatialReference:t}=this.view;if(!(0,w.JY)(t))return null;const{isGeographic:n}=t,i=function(e){var t,n;const{isWebMercator:i,wkt:r,wkt2:a}=e;return i||null!==(t=null===(n=a||r)||void 0===n?void 0:n.includes("WGS_1984_Web_Mercator"))&&void 0!==t&&t}(t);var r;if(!n&&!i)return e.extent.width*(null!==(r=(0,v.Z7)(t))&&void 0!==r?r:1);const[a,s]=this._getScaleMeasuringPoints(),l=i||n&&!(0,f.Gb)(t)?g.Z.WGS84:t,o=new M.Z({paths:[[C(i,a),C(i,s)]],spatialReference:l}),c=(0,m.hR)(o,10);let u;try{[u]=(0,f.Jf)([c],"meters")}catch{return null}return u}_getScaleMeasuringPoints(){const e=this.view,{width:t,height:n,position:i,spatialReference:r}=e;if(y(e)){const e=(0,w.C5)(r),{valid:t}=e;return[new _.Z(t[0],0,r),new _.Z(t[1],0,r)]}let s=this.scaleComputedFrom.y-i[1];s>n?s=n:s<0&&(s=0);const l=(0,a.vW)(0,s),o=(0,a.vW)(t,s);return[e.toMap(l),e.toMap(o)]}_getScaleBarProps(e,t,n){const i=this.view,r=e*t/(y(i)?i.state.paddedViewState.worldScreenWidth:i.width);if(r<.001)return null;const a=function(e,t){switch(t){case"metric":return e>1e3?{distance:(0,v.En)(e,"meters","kilometers"),unit:"kilometer"}:e>1?{distance:e,unit:"meter"}:e>.01?{distance:(0,v.En)(e,"meters","centimeters"),unit:"centimeter"}:{distance:(0,v.En)(e,"meters","millimeters"),unit:"millimeter"};case"imperial":return e>1609.344?{distance:(0,v.En)(e,"meters","miles"),unit:"mile"}:e>.3048?{distance:(0,v.En)(e,"meters","feet"),unit:"foot"}:{distance:(0,v.En)(e,"meters","inches"),unit:"inch"}}}(r,n),{distance:s,unit:l}=a;let o=s,c=0;for(;o>=1;)o/=10,c++;const{min:u,max:d}=function(e){return e>.5?{min:.5,max:1}:e>.2?{min:.2,max:.5}:{min:.1,max:.2}}(o),h=d/o>=o/u?u:d;return{length:e*(h/o),value:10**c*h,unit:l}}};(0,i._)([(0,s.Cb)()],S.prototype,"scaleComputedFrom",void 0),(0,i._)([(0,s.Cb)({readOnly:!0})],S.prototype,"state",null),(0,i._)([(0,s.Cb)()],S.prototype,"view",void 0),S=(0,i._)([(0,l.j)("esri.widgets.ScaleBar.ScaleBarViewModel")],S);const R=S;var B=n(7021),k=(n(80975),n(80532)),Y=n(67005);function L(e,t){return(0,o.uf)(e,{style:"unit",unit:t,unitDisplay:"short"})}let Z=class extends u.Z{constructor(e,t){super(e,t),this.messages=null,this.style="line",this.viewModel=new R}initialize(){this.addHandles((0,r.watch)((()=>{const{view:e}=this;return[null===e||void 0===e?void 0:e.stationary,null===e||void 0===e?void 0:e.center,null===e||void 0===e?void 0:e.scale,null===e||void 0===e?void 0:e.zoom]}),(e=>{let[t]=e;t&&this.scheduleRender()})))}get icon(){return"actual-size"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get unit(){return this._defaultUnit}set unit(e){this._overrideIfSome("unit",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e="disabled"===this.viewModel.state,t={[B.z.disabled]:e};let n,i;if(!e){const{unit:e,style:t}=this,r="metric"===e||"dual"===e,a=100,s="dual"===e?"line":t;if("imperial"===e||"dual"===e){const e=this.viewModel.getScaleBarProperties(a,"imperial");e&&(i="ruler"===s?this._renderRuler(e):this._renderLine(e,"bottom"))}if(r){const e=this.viewModel.getScaleBarProperties(a,"metric");e&&(n="ruler"===s?this._renderRuler(e):this._renderLine(e,"top"))}}return(0,Y.u)("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes(h.base,B.z.widget,t)},n,i)}_renderRuler(e){const{length:t,unit:n,value:i}=e,r=Math.round(t),a=L(i,n);return(0,Y.u)("div",{class:this.classes(h.barContainer,h.rulerBarContainer),key:h.rulerBarContainer},(0,Y.u)("div",{class:h.ruler,styles:{width:"".concat(r,"px")}},(0,Y.u)("div",{class:h.rulerBlock}),(0,Y.u)("div",{class:h.rulerBlock}),(0,Y.u)("div",{class:h.rulerBlock}),(0,Y.u)("div",{class:h.rulerBlock})),(0,Y.u)("div",{class:this.classes(h.labelContainer,h.rulerLabelContainer)},(0,Y.u)("div",{class:h.label},"0"),(0,Y.u)("div",{class:h.label},a)))}_renderLine(e,t){const{length:n,unit:i,value:r}=e,a=Math.round(n),s=L(r,i),l={[h.topLabelContainer]:"top"===t,[h.bottomLabelContainer]:"bottom"===t},o=(0,Y.u)("div",{class:this.classes(h.labelContainer,h.lineLabelContainer,l),key:h.labelContainer},(0,Y.u)("div",{class:h.label},s)),c={[h.topLine]:"top"===t,[h.bottomLine]:"bottom"===t},u=(0,Y.u)("div",{class:this.classes(h.line,c),key:h.line,styles:{width:"".concat(a,"px")}});return(0,Y.u)("div",{class:this.classes(h.barContainer,h.lineBarContainer),key:h.lineBarContainer},[u,o])}_handleRootCreateOrUpdate(e){if(!this.viewModel)return;const{scaleComputedFrom:t}=this.viewModel,n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset,s=(0,a.vW)(i,r);(s.x!==t.x||s.y!==t.y)&&(this.viewModel.scaleComputedFrom=s)}};(0,i._)([(0,s.Cb)(c.Y)],Z.prototype,"_defaultUnit",void 0),(0,i._)([(0,s.Cb)()],Z.prototype,"icon",null),(0,i._)([(0,s.Cb)()],Z.prototype,"label",null),(0,i._)([(0,s.Cb)(),(0,k.H)("esri/widgets/ScaleBar/t9n/ScaleBar")],Z.prototype,"messages",void 0),(0,i._)([(0,s.Cb)({type:["ruler","line"]})],Z.prototype,"style",void 0),(0,i._)([(0,s.Cb)({type:["metric","imperial","dual"]})],Z.prototype,"unit",null),(0,i._)([(0,s.Cb)()],Z.prototype,"view",null),(0,i._)([(0,s.Cb)()],Z.prototype,"viewModel",void 0),Z=(0,i._)([(0,l.j)("esri.widgets.ScaleBar")],Z);const x=Z}}]);
//# sourceMappingURL=19954.37b33859.chunk.js.map