"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[61051],{79347:(e,t,i)=>{i.d(t,{e:()=>a});var n,o,r,s=i(84397),l={exports:{}};n=l,o=function(){function e(e,i,o){o=o||2;var r,s,l,c,h,p,u,v=i&&i.length,d=v?i[0]*o:e.length,y=t(e,0,d,o,!0),x=[];if(!y||y.next===y.prev)return x;if(v&&(y=a(e,i,y,o)),e.length>80*o){r=l=e[0],s=c=e[1];for(var f=o;f<d;f+=o)(h=e[f])<r&&(r=h),(p=e[f+1])<s&&(s=p),h>l&&(l=h),p>c&&(c=p);u=0!==(u=Math.max(l-r,c-s))?1/u:0}return n(y,x,o,r,s,u),x}function t(e,t,i,n,o){var r,s;if(o===Z(e,t,i,n)>0)for(r=t;r<i;r+=n)s=V(r,e[r],e[r+1],s);else for(r=i-n;r>=t;r-=n)s=V(r,e[r],e[r+1],s);if(s&&m(s,s.next)){var l=s.next;C(s),s=l}return s}function i(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!m(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{var o=n.prev;if(C(n),(n=t=o)===n.next)break;i=!0}}while(i||n!==t);return t}function n(e,t,a,c,h,p,u){if(e){!u&&p&&v(e,c,h,p);for(var d,y,x=e;e.prev!==e.next;)if(d=e.prev,y=e.next,p?r(e,c,h,p):o(e))t.push(d.i/a),t.push(e.i/a),t.push(y.i/a),C(e),e=y.next,x=y.next;else if((e=y)===x){u?1===u?n(e=s(i(e),t,a),t,a,c,h,p,2):2===u&&l(e,t,a,c,h,p):n(i(e),t,a,c,h,p,1);break}}}function o(e){var t=e.prev,i=e,n=e.next;if(g(t,i,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(x(t.x,t.y,i.x,i.y,n.x,n.y,o.x,o.y)&&g(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function r(e,t,i,n){var o=e.prev,r=e,s=e.next;if(g(o,r,s)>=0)return!1;for(var l=o.x<r.x?o.x<s.x?o.x:s.x:r.x<s.x?r.x:s.x,a=o.y<r.y?o.y<s.y?o.y:s.y:r.y<s.y?r.y:s.y,c=o.x>r.x?o.x>s.x?o.x:s.x:r.x>s.x?r.x:s.x,h=o.y>r.y?o.y>s.y?o.y:s.y:r.y>s.y?r.y:s.y,p=d(l,a,t,i,n),u=d(c,h,t,i,n),v=e.prevZ,y=e.nextZ;v&&v.z>=p&&y&&y.z<=u;){if(v!==e.prev&&v!==e.next&&x(o.x,o.y,r.x,r.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,y!==e.prev&&y!==e.next&&x(o.x,o.y,r.x,r.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;v&&v.z>=p;){if(v!==e.prev&&v!==e.next&&x(o.x,o.y,r.x,r.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;y&&y.z<=u;){if(y!==e.prev&&y!==e.next&&x(o.x,o.y,r.x,r.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function s(e,t,n){var o=e;do{var r=o.prev,s=o.next.next;!m(r,s)&&_(r,o,o.next,s)&&G(r,s)&&G(s,r)&&(t.push(r.i/n),t.push(o.i/n),t.push(s.i/n),C(o),C(o.next),o=e=s),o=o.next}while(o!==e);return i(o)}function l(e,t,o,r,s,l){var a=e;do{for(var c=a.next.next;c!==a.prev;){if(a.i!==c.i&&f(a,c)){var h=M(a,c);return a=i(a,a.next),h=i(h,h.next),n(a,t,o,r,s,l),void n(h,t,o,r,s,l)}c=c.next}a=a.next}while(a!==e)}function a(e,n,o,r){var s,l,a,h=[];for(s=0,l=n.length;s<l;s++)(a=t(e,n[s]*r,s<l-1?n[s+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),h.push(y(a));for(h.sort(c),s=0;s<h.length;s++)o=i(o=p(h[s],o),o.next);return o}function c(e,t){return e.x-t.x}function h(e){if(e.next.prev===e)return e;let t=e;for(;;){const i=t.next;if(i.prev===t||i===t||i===e)break;t=i}return t}function p(e,t){var n=function(e,t){var i,n=t,o=e.x,r=e.y,s=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){var l=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=o&&l>s){if(s=l,l===o){if(r===n.y)return n;if(r===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(o===s)return i;var a,c=i,h=i.x,p=i.y,v=1/0;n=i;do{o>=n.x&&n.x>=h&&o!==n.x&&x(r<p?o:s,r,h,p,r<p?s:o,r,n.x,n.y)&&(a=Math.abs(r-n.y)/(o-n.x),G(n,e)&&(a<v||a===v&&(n.x>i.x||n.x===i.x&&u(i,n)))&&(i=n,v=a)),n=n.next}while(n!==c);return i}(e,t);if(!n)return t;var o=M(n,e),r=i(n,n.next);let s=h(o);return i(s,s.next),r=h(r),h(t===n?r:t)}function u(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function v(e,t,i,n){var o=e;do{null===o.z&&(o.z=d(o.x,o.y,t,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,i,n,o,r,s,l,a,c=1;do{for(i=e,e=null,r=null,s=0;i;){for(s++,n=i,l=0,t=0;t<c&&(l++,n=n.nextZ);t++);for(a=c;l>0||a>0&&n;)0!==l&&(0===a||!n||i.z<=n.z)?(o=i,i=i.nextZ,l--):(o=n,n=n.nextZ,a--),r?r.nextZ=o:e=o,o.prevZ=r,r=o;i=n}r.nextZ=null,c*=2}while(s>1)}(o)}function d(e,t,i,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function y(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function x(e,t,i,n,o,r,s,l){return(o-s)*(t-l)-(e-s)*(r-l)>=0&&(e-s)*(n-l)-(i-s)*(t-l)>=0&&(i-s)*(r-l)-(o-s)*(n-l)>=0}function f(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&_(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(G(e,t)&&G(t,e)&&function(e,t){var i=e,n=!1,o=(e.x+t.x)/2,r=(e.y+t.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&o<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||m(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,i,n){var o=w(g(e,t,i)),r=w(g(e,t,n)),s=w(g(i,n,e)),l=w(g(i,n,t));return o!==r&&s!==l||!(0!==o||!b(e,i,t))||!(0!==r||!b(e,n,t))||!(0!==s||!b(i,e,n))||!(0!==l||!b(i,t,n))}function b(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function w(e){return e>0?1:e<0?-1:0}function G(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function M(e,t){var i=new S(e.i,e.x,e.y),n=new S(t.i,t.x,t.y),o=e.next,r=t.prev;return e.next=t,t.prev=e,i.next=o,o.prev=i,n.next=i,i.prev=n,r.next=n,n.prev=r,n}function V(e,t,i,n){var o=new S(e,t,i);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function C(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Z(e,t,i,n){for(var o=0,r=t,s=i-n;r<i;r+=n)o+=(e[s]-e[r])*(e[r+1]+e[s+1]),s=r;return o}return e.deviation=function(e,t,i,n){var o=t&&t.length,r=o?t[0]*i:e.length,s=Math.abs(Z(e,0,r,i));if(o)for(var l=0,a=t.length;l<a;l++){var c=t[l]*i,h=l<a-1?t[l+1]*i:e.length;s-=Math.abs(Z(e,c,h,i))}var p=0;for(l=0;l<n.length;l+=3){var u=n[l]*i,v=n[l+1]*i,d=n[l+2]*i;p+=Math.abs((e[u]-e[d])*(e[v+1]-e[u+1])-(e[u]-e[v])*(e[d+1]-e[u+1]))}return 0===s&&0===p?0:Math.abs((p-s)/s)},e.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var r=0;r<e[o].length;r++)for(var s=0;s<t;s++)i.vertices.push(e[o][r][s]);o>0&&(n+=e[o-1].length,i.holes.push(n))}return i},e},void 0!==(r=o())&&(n.exports=r);const a=(0,s.g)(l.exports)},97942:(e,t,i)=>{function n(e){let t,i,n=[],o=!1;return function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return o&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}(s,n)||(i=e.apply(this,s),t=this,n=s,o=!0),i}}i.d(t,{H:()=>n})},29691:(e,t,i)=>{i.d(t,{HQ:()=>l,VY:()=>a,rS:()=>h,wY:()=>c});var n=i(83448),o=i(78952),r=i(92975);const s=new o.Z(n.kU),l=new o.Z(n.JL),a=new o.Z(n.mM),c=new o.Z(n.pn);function h(e){const t=p.get(e);if(t)return t;let i=s;if(e)if(e===l)i=l;else if(e===a)i=a;else{const t=e.wkid,o=e.latestWkid;if(null!=t||null!=o)(0,r.o$)(t)||(0,r.o$)(o)?i=l:((0,r.ME)(t)||(0,r.ME)(o))&&(i=a);else{var n;const t=null!==(n=e.wkt2)&&void 0!==n?n:e.wkt;if(t){const e=t.toUpperCase();e===u?i=l:e===v&&(i=a)}}}return p.set(e,i),i}const p=new Map,u=l.wkt.toUpperCase(),v=a.wkt.toUpperCase()},45238:(e,t,i)=>{i.d(t,{EU:()=>f,Ue:()=>h,WH:()=>g,ZZ:()=>x,q_:()=>v,qw:()=>y,uT:()=>p,up:()=>_,zk:()=>u});var n=i(16889),o=i(29134),r=i(68700),s=i(50894),l=i(32035),a=i(12400),c=i(86361);function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return[e[0],e[1],e[2],e[3]]}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h();return(0,l.c)(i,e),i[3]=t,i}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,c.Ue)();return(0,l.b)(i,e,t),(0,l.n)(i,i),i[3]=-(0,l.d)(e,t),i}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h();const i=(0,o.j6)(b,e);return m(t,(0,n.BV)((0,r.Bh)(t,i))),t}function d(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h();return(0,r.yY)(b,e,g(e)),(0,r.yY)(w,t,g(t)),(0,r.Jp)(b,w,b),m(i,(0,n.BV)((0,r.Bh)(i,b)))}function y(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h();return p(a.E9,e,G),p(a.IO,t,M),p(a.eG,i,V),d(G,M,G),d(G,V,n),n}function x(e){return e}function f(e){return e[3]}function g(e){return(0,n.Vl)(e[3])}function m(e,t){return e[3]=t,e}const _=[0,0,1,0],b=(0,s.Ue)(),w=(0,s.Ue)(),G=(h(),h()),M=h(),V=h()},85981:(e,t,i)=>{i.d(t,{AR:()=>g,Gr:()=>f,JG:()=>h,Jk:()=>v,KU:()=>y,Ue:()=>a,al:()=>p,ct:()=>x,nF:()=>d,re:()=>c,zk:()=>u});var n=i(16889),o=i(21530),r=i(32035),s=i(12400),l=i(51378);function a(e){return e?{origin:(0,s.d9)(e.origin),vector:(0,s.d9)(e.vector)}:{origin:(0,s.Ue)(),vector:(0,s.Ue)()}}function c(e,t){const i=b.get();return i.origin=e,i.vector=t,i}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return p(e.origin,e.vector,t)}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();return(0,r.c)(i.origin,e),(0,r.c)(i.vector,t),i}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();return(0,r.c)(i.origin,e),(0,r.f)(i.vector,t,e),i}function v(e,t){const i=(0,r.f)(l.WM.get(),t,e.origin),o=(0,r.m)(e.vector,i),s=(0,r.m)(e.vector,e.vector),a=(0,n.uZ)(o/s,0,1),c=(0,r.f)(l.WM.get(),(0,r.j)(l.WM.get(),e.vector,a),i);return(0,r.m)(c,c)}function d(e,t,i){return x(e,t,0,1,i)}function y(e,t,i){return(0,r.g)(i,e.origin,(0,r.j)(i,e.vector,t))}function x(e,t,i,o,s){const{vector:a,origin:c}=e,h=(0,r.f)(l.WM.get(),t,c),p=(0,r.m)(a,h)/(0,r.q)(a);return(0,r.j)(s,a,(0,n.uZ)(p,i,o)),(0,r.g)(s,s,e.origin)}function f(e,t){if(m(e,c(t.origin,t.direction),!1,_)){const{tA:t,pB:i,distance2:n}=_;if(t>=0&&t<=1)return n;if(t<0)return(0,r.a)(e.origin,i);if(t>1)return(0,r.a)((0,r.g)(l.WM.get(),e.origin,e.vector),i)}return null}function g(e,t,i){return!!m(e,t,!0,_)&&((0,r.c)(i,_.pA),!0)}function m(e,t,i,o){const s=1e-6,a=e.origin,c=(0,r.g)(l.WM.get(),a,e.vector),h=t.origin,p=(0,r.g)(l.WM.get(),h,t.vector),u=l.WM.get(),v=l.WM.get();if(u[0]=a[0]-h[0],u[1]=a[1]-h[1],u[2]=a[2]-h[2],v[0]=p[0]-h[0],v[1]=p[1]-h[1],v[2]=p[2]-h[2],Math.abs(v[0])<s&&Math.abs(v[1])<s&&Math.abs(v[2])<s)return!1;const d=l.WM.get();if(d[0]=c[0]-a[0],d[1]=c[1]-a[1],d[2]=c[2]-a[2],Math.abs(d[0])<s&&Math.abs(d[1])<s&&Math.abs(d[2])<s)return!1;const y=u[0]*v[0]+u[1]*v[1]+u[2]*v[2],x=v[0]*d[0]+v[1]*d[1]+v[2]*d[2],f=u[0]*d[0]+u[1]*d[1]+u[2]*d[2],g=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],m=(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])*g-x*x;if(Math.abs(m)<s)return!1;let _=(y*x-f*g)/m,b=(y+x*_)/g;i&&(_=(0,n.uZ)(_,0,1),b=(0,n.uZ)(b,0,1));const w=l.WM.get(),G=l.WM.get();return w[0]=a[0]+_*d[0],w[1]=a[1]+_*d[1],w[2]=a[2]+_*d[2],G[0]=h[0]+b*v[0],G[1]=h[1]+b*v[1],G[2]=h[2]+b*v[2],o.tA=_,o.tB=b,o.pA=w,o.pB=G,o.distance2=(0,r.a)(w,G),!0}const _={tA:0,tB:0,pA:(0,s.Ue)(),pB:(0,s.Ue)(),distance2:0},b=new o.x((()=>a()))},74702:(e,t,i)=>{i.d(t,{bE:()=>c,wu:()=>a});var n=i(21530),o=i(32035),r=i(12400),s=i(85981);i(51378);function l(e){return e?{p0:(0,r.d9)(e.p0),p1:(0,r.d9)(e.p1),p2:(0,r.d9)(e.p2)}:{p0:(0,r.Ue)(),p1:(0,r.Ue)(),p2:(0,r.Ue)()}}function a(e,t,i){const n=t[0]-e[0],o=t[1]-e[1],r=i[0]-e[0],s=i[1]-e[1];return.5*Math.abs(n*s-o*r)}function c(e,t,i){return(0,o.f)(h,t,e),(0,o.f)(p,i,e),.5*(0,o.l)((0,o.b)(h,h,p))}new n.x(s.Ue),new n.x((()=>l()));const h=(0,r.Ue)(),p=(0,r.Ue)()},19284:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ce});var n=i(27366),o=(i(59486),i(52639)),r=i(14921),s=i(80987),l=i(10064),a=i(91505),c=i(32718),h=i(92026),p=i(94172),u=i(49861),v=(i(93169),i(84936),i(69912)),d=i(69662),y=i(93655),x=i(16072),f=i(50951),g=i(85577),m=i(20008),_=i(53503),b=i(74982),w=i(83089),G=i(42537),M=i(47898),V=i(17842),C=i(848),S=i(87036),Z=i(51155),k=i(6896),E=i(42170),O=i(85809);let I=class extends O.h{constructor(e){super(e),this.type="translate-vertex",this.distance=M.yP,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=M.yP,this.elevation=null,this.area=null,this.totalLength=null}};(0,n._)([(0,u.Cb)()],I.prototype,"type",void 0),(0,n._)([(0,u.Cb)()],I.prototype,"distance",void 0),(0,n._)([(0,u.Cb)()],I.prototype,"elevation",void 0),(0,n._)([(0,u.Cb)()],I.prototype,"area",void 0),(0,n._)([(0,u.Cb)()],I.prototype,"totalLength",void 0),I=(0,n._)([(0,v.j)("esri.views.interactive.tooltip.infos.TranslateVertexTooltipInfo")],I);var T=i(543),z=i(59418),A=i(4914);function H(e,t){let i=!1;function n(){const e=t(),i=e.sketchOptions.tooltips.effectiveEnabled?e.activeTooltipInfo:null;return{...e,activeTooltipInfo:i}}return(0,G.AL)([(0,p.watch)((()=>{var e,t;const i=n();return{context:i,geometry:null===(e=i.graphic)||void 0===e?void 0:e.geometry,vertexGeometry:null===(t=i.selectedVertex)||void 0===t?void 0:t.geometry}}),(t=>{let{context:n}=t;i=!0,function(e){const t=e.activeTooltipInfo;if(t){switch(null===t||void 0===t?void 0:t.type){case"move-point":return function(e,t){let{graphic:i}=t;R(e,i,null===i||void 0===i?void 0:i.geometry)}(t,e);case"selected-vertex":return function(e,t){let{graphic:i,selectedVertex:n}=t;R(e,i,null===n||void 0===n?void 0:n.geometry);const o=null===i||void 0===i?void 0:i.geometry;switch(null===o||void 0===o?void 0:o.type){case"polygon":e.geometryType="polygon",e.totalLength.visible=!1,e.area.actual=(0,T.f)(o);break;case"polyline":e.geometryType="polyline",e.totalLength.actual=(0,z.C_)(o),e.area.visible=!1}}(t,e)}t.sketchOptions=e.sketchOptions}}(n),e.info=n.activeTooltipInfo,i=!1}),p.syncAndInitial),(0,p.watch)((()=>{const e=n(),{activeTooltipInfo:t}=e;if(t&&"key"in t)return{context:e,key:t.key}}),((e,t)=>{e&&!i&&t&&e.key!==t.key&&function(e){function t(t,i){const n=null===i||void 0===i?void 0:i.geometry;if(!n||"point"!==n.type)return;const{dx:o,dy:r,dz:s}=(0,S.$4)(t,n);if(0===o&&0===r&&0===s)return;const{x:l,y:a,z:c,m:h,spatialReference:p}=n,u=new C.Z({x:l+o,y:a+r,z:null!=c?c+s:void 0,m:h,spatialReference:p});e.updateGeometry(i,u,n,o,r)}const{activeTooltipInfo:i,graphic:n,selectedVertex:o}=e;switch(null===i||void 0===i?void 0:i.type){case"move-point":return t(i,n);case"selected-vertex":t(i,o)}}(e.context)}),p.sync),(0,S.OE)(e)])}function R(e,t,i){var n;t&&"point"===(null===i||void 0===i?void 0:i.type)&&(e.setLocationFromPoint(i),e.elevation.actual=(0,A.un)(i),e.elevation.visible=!(null===(n=t.geometry)||void 0===n||!n.hasZ),e.elevation.readOnly=!1,e.elevation.showAsZ=!0)}function U(e,t,i){if(!i)return;const{x:n,y:o}=i.origin,r=t.toMap(i),s=t.toMap((0,V.vW)(n,o)),l=(0,z.Qw)(s,r);e.distance=null!=l?l:M.yP}var L=i(70040),F=i(1614),D=i(14813),P=i(87888),W=i(17877),j=i(59981),Y=i(34019),B=i(26091),J=i(29909);class K{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-start"}}class N{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape"}}class q{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-stop"}}class X{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-start"}}class ${constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move"}}class Q{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-stop"}}class ee{constructor(e){this.added=e,this.type="vertex-select"}}class te{constructor(e){this.removed=e,this.type="vertex-deselect"}}class ie{constructor(e,t,i,n){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=n,this.type="vertex-add"}}class ne{constructor(e,t,i,n){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=n,this.type="vertex-remove"}}const oe=L.X.reshapeGraphics,re={vertices:{default:new x.default({style:"circle",size:oe.vertex.size,color:oe.vertex.color,outline:{color:oe.vertex.outlineColor,width:1}}),hover:new x.default({style:"circle",size:oe.vertex.hoverSize,color:oe.vertex.hoverColor,outline:{color:oe.vertex.hoverOutlineColor,width:1}}),selected:new x.default({style:"circle",size:oe.selected.size,color:oe.selected.color,outline:{color:oe.selected.outlineColor,width:1}})},midpoints:{default:new x.default({style:"circle",size:oe.midpoint.size,color:oe.midpoint.color,outline:{color:oe.midpoint.outlineColor,width:1}}),hover:new x.default({style:"circle",size:oe.midpoint.size,color:oe.midpoint.color,outline:{color:oe.midpoint.outlineColor,width:1}})}};let se=class extends a.Z.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._snappingContext=null,this._snappingGraphicsLayer=null,this._hoverGraphic=null,this._snappingTask=null,this._stagedVertex=null,this.tooltip=null,this.activeTooltipInfo=null,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new s.Z,this.midpointSymbol=new x.default({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=new s.Z,this.snappingManager=null,this.symbols=re,this.sketchOptions=new j.Z,this.type="reshape",this.vertexGraphics=new s.Z,this.view=null}initialize(){const e=this.view;this._highlightHelper=new b.Z({view:e}),this._setup(),this.tooltip=new B.u({view:this.view}),this.tooltipInfos=function(e){const t={sketchOptions:e,viewType:"2d"};return{movePoint:new Z.o(t),selectedVertex:new k.K(t),translateGraphic:new E.E(t),translateVertices:new I(t)}}(this.sketchOptions),this.addHandles([(0,p.when)((()=>null===e||void 0===e?void 0:e.ready),(()=>{const{layer:e,view:t}=this;(0,w.p)(t,e),this.addHandles(t.on("key-down",(e=>this._keyDownHandler(e)),F.f.TOOL))}),{once:!0,initial:!0}),(0,p.watch)((()=>this.graphic),(()=>this.refresh())),(0,p.watch)((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),(0,p.watch)((()=>this.enableMidpoints),(()=>this.refresh())),H(this.tooltip,(()=>this._tooltipsContext)),(0,p.watch)((()=>this.view.effectiveTheme.accentColor),(()=>this._updateSymbolsForTheme()),p.initial)]),this._updateTooltip()}destroy(){var e;this._reset(),null!==(e=this._mover)&&void 0!==e&&e.destroy(),this._mover=null,this.tooltip=(0,h.SC)(this.tooltip)}get _coordinateHelper(){var e,t,i,n;return null!==(e=null===(t=this._editGeometryOperations)||void 0===t?void 0:t.data.coordinateHelper)&&void 0!==e?e:(0,D.Y6)(!(null===(i=this.graphic.geometry)||void 0===i||!i.hasZ),!(null===(n=this.graphic.geometry)||void 0===n||!n.hasM),this.view.spatialReference)}get _selectedVertex(){return 1===this.selectedVertices.length?this.selectedVertices.at(0):void 0}get _tooltipsContext(){return{sketchOptions:this.sketchOptions,activeTooltipInfo:this.activeTooltipInfo,graphic:this.graphic,selectedVertex:this._selectedVertex,updateGeometry:(e,t,i,n,o)=>{this._setUpGeometryHelper();const r=e===this.graphic;r?this._emitMoveStartEvent(0,0):this._emitReshapeStartEvent(e);if(this._syncGeometryAfterVertexMove(e,t,n,o,!0),r){var s,l,a,c;const{view:e}=this,n=e.toScreen(i),o=e.toScreen(t),r=(null!==(s=null===o||void 0===o?void 0:o.x)&&void 0!==s?s:0)-(null!==(l=null===n||void 0===n?void 0:n.x)&&void 0!==l?l:0),h=(null!==(a=null===o||void 0===o?void 0:o.y)&&void 0!==a?a:0)-(null!==(c=null===n||void 0===n?void 0:n.y)&&void 0!==c?c:0);this._emitMoveEvent(r,h),this._emitMoveStopEvent(r,h)}else this._emitReshapeEvent(e),this._emitReshapeStopEvent(e);this._editGeometryOperations=(0,h.SC)(this._editGeometryOperations)}}}set highlightsEnabled(e){var t;null!==(t=this._highlightHelper)&&void 0!==t&&t.removeAll(),this._set("highlightsEnabled",e),this._setUpHighlights()}get state(){const e=this.view.ready,t=!(!this.graphic||!this.layer);return e&&t?"active":e?"ready":"disabled"}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length>0&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){const{selectedVertices:e}=this;e.length&&this._removeVertices(e)}_setup(){const{graphic:e,layer:t}=this;if(!t||null==(null===e||void 0===e?void 0:e.geometry))return;const i=e.geometry;"mesh"!==i.type&&"extent"!==i.type?("polygon"===i.type&&(0,d.pW)(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){var e;this.highlightsEnabled&&this.graphic&&(null===(e=this._highlightHelper)||void 0===e||e.add(this.graphic))}_setUpGeometryHelper(){const e=this.graphic.geometry;if(null==e||"mesh"===e.type||"extent"===e.type)return void this._logGeometryTypeError();const t="multipoint"===e.type?new J.Z({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=W.c.fromGeometry(t,f.JY.Local)}_saveSnappingContextForHandle(e,t){var i;this._snappingGraphicsLayer=new y.default({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer);const n=this._editGeometryOperations;(0,h.O3)(n),this._snappingContext=new Y.N({editGeometryOperations:n,elevationInfo:{mode:"on-the-ground",offset:0},pointer:(null===(i=t.viewEvent)||void 0===i?void 0:i.pointerType)||"mouse",excludeFeature:this.graphic,feature:this.graphic,visualizer:new g.r(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){var e;this._clearSelection(),null!==(e=this._highlightHelper)&&void 0!==e&&e.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetSnappingStateVars(){var e;null!=this.snappingManager&&this.snappingManager.doneSnapping(),null!=this._snappingGraphicsLayer&&(null!==(e=this.view)&&void 0!==e&&e.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=(0,h.SC)(this._editGeometryOperations),this._snappingTask=(0,h.IM)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this.selectedVertices.removeAll(),this._updateTooltip()}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_setupGraphics(){const e=this.graphic.geometry;if(null!=e&&("polyline"===e.type||"polygon"===e.type)){const t=le(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:t,symbols:i}=this,n=[];return null!==e&&void 0!==e&&e.forEach(((e,r)=>{e.forEach(((e,s)=>{var l;n.push(new o.Z({geometry:this._coordinateHelper.arrayToPoint(e),symbol:null===i||void 0===i||null===(l=i.vertices)||void 0===l?void 0:l.default,attributes:{...t,pathIndex:r,pointIndex:s}}))}))})),n}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:i}=this,n=[];for(let s=0;s<e.length;s++){const l=e[s];for(let e=0;e<l.length;e++){var r;const a=(e+1)%l.length;if("polyline"===(null===(r=this.graphic.geometry)||void 0===r?void 0:r.type)&&0===a)continue;const c=l[e],h=l[a],p=this._getMidpoint(c,h);n.push(new o.Z({geometry:p,symbol:i.midpoints.default,attributes:{...t,pathIndex:s,pointIndexStart:e,pointIndexEnd:a}}))}}return n}_updateSymbolsForTheme(){var e;const t=this.view.effectiveTheme.accentColor;this.symbols={vertices:{...this.symbols.vertices,default:this.symbols.vertices.default.clone().set("color",t),hover:null===(e=this.symbols.vertices.hover)||void 0===e?void 0:e.clone().set("color",t)},midpoints:{...this.symbols.midpoints}};for(const i of this.vertexGraphics)this._isSelected(i)?i.symbol=this.symbols.vertices.selected:this._hoverGraphic===i?i.symbol=this.symbols.vertices.hover:i.symbol=this.symbols.vertices.default}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((e=>{let{geometry:t}=e;return{x:t.x,y:t.y}}));for(let i=0;i<t.length;i++){const n=[];for(let e=0;e<t.length;e++){if(i===e)continue;const o=t[i],r=t[e];o.x===r.x&&o.y===r.y&&n.push(e)}e[i].attributes.relatedGraphicIndices=n}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:n,view:o}=this,r=n.concat(i).items;e&&r.push(t),this._mover=new _.default({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:r,view:o,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){var t,i;e.viewEvent.stopPropagation();const n=e.graphic;if(n===this.graphic)this.clearSelection(),this.emit("graphic-click",e),null===(t=(i=this.callbacks).onGraphicClick)||void 0===t||t.call(i,e);else if(this._isMidpoint(n)){if(2===e.viewEvent.button)return;const t=this.graphic.clone(),i=this._createVertexFromMidpoint(n);this.refresh(),this._emitVertexAddEvent([n],t,i)}else this._isVertex(n)&&(e.viewEvent.stopPropagation(),2===e.viewEvent.button?this._removeVertices(n):(e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(n)?this._removeFromSelection(n,!0):this._addToSelection(n)))}_setUpOperation(e){const{graphic:t,dx:i,dy:n}=e,o=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:o?"move":"reshape",totalDx:i,totalDy:n}}_onGraphicMoveStartCallback(e){const{dx:t,dy:i,graphic:n}=e;if(n===this.graphic){const{geometry:o}=n;return this._setUpOperation(e),this._emitMoveStartEvent(t,i),void(null!=o&&"point"===o.type&&this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)})))}if(!this.selectedVertices.includes(n)){if(this._clearSelection(),this._isMidpoint(n)){const e=this.graphic.clone(),t=this._createVertexFromMidpoint(n);this._emitVertexAddEvent([n],e,t)}this._addToSelection(n)}this._setUpOperation(e),this._emitReshapeStartEvent(n),this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(n,e.viewEvent),this._emitReshapeEvent(n)}))}_onGraphicMoveCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:n,graphic:o}=e;t.totalDx+=i,t.totalDy+=n;const{operationType:r}=t,{geometry:s}=o;if(null!=s)if("move"!==r)this._onHandleMove(o,i,n,e,(()=>{this._updateTooltip(o,e.viewEvent),this._emitReshapeEvent(o)}));else if("point"===s.type)this._onHandleMove(o,i,n,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,n)}));else if("polyline"===s.type||"polygon"===s.type){const t=le(s);this._updateVertexGraphicLocations(t),this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,n)}}_onGraphicMoveStopCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:n,graphic:o}=e,{operationType:r}=t;t.totalDx+=i,t.totalDy+=n,this._onHandleMove(o,i,n,e,(()=>"move"===r?this._emitMoveStopEvent():this._emitReshapeStopEvent(o))),this._isMidpoint(o)?this.refresh():(this._updateTooltip(this._isVertex(o)?o:null),this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(e){const{_coordinateHelper:t}=this;for(const i of this.vertexGraphics){const{pathIndex:n,pointIndex:o}=i.attributes;i.geometry=t.arrayToPoint(e[n][o])}this._updateMidpointGraphicLocations(e)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:n,pointIndexEnd:o}=t.attributes,r=e[i];t.geometry=this._getMidpoint(r[n],r[o])}}_getMidpoint(e,t){const{_coordinateHelper:i}=this,n=i.arrayToVector(e),o=i.arrayToVector(t),r=i.toXYZ(n),s=i.toXYZ(o),[l,a,c]=(0,d.Gi)(r,s),h=i.hasM()?0:void 0;return new C.Z({x:l,y:a,z:c,m:h,spatialReference:i.spatialReference})}_getVertexFromEditGeometry(e){const[t,i]=ae(e);return(0,h.O3)(this._editGeometryOperations),this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,n,o){(0,h.IM)(this._snappingTask);const s=this._snappingContext;if(!s)return;const l=e.geometry,a="graphic-move-stop"===n.type;if(null!=this.snappingManager&&this.selectedVertices.length<2&&!a){const n=this.snappingManager;this._stagedVertex=n.update({point:l,context:s}),this._syncGeometryAfterVertexMove(e,new C.Z(this._stagedVertex),t,i,a),o(),this._snappingTask=(0,r.vr)((async r=>{const c=await n.snap({point:l,context:s,signal:r});c.valid&&(this._stagedVertex=c.apply(),this._syncGeometryAfterVertexMove(e,new C.Z(this._stagedVertex),t,i,a),o())}))}else{const n=null!=this._stagedVertex?new C.Z(this._stagedVertex):l;this._syncGeometryAfterVertexMove(e,n,t,i,a),o()}}_syncGeometryAfterVertexMove(e,t,i,n){var o;let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=null===(o=this._editGeometryOperations)||void 0===o?void 0:o.data.geometry;if(s)if("point"===s.type)e.geometry=t;else if("mesh"===s.type)e.geometry=s.centerAt(t);else{var l;const{_coordinateHelper:o}=this,[a,c]=ae(e);let h=(0,d.nA)(s);const p=h[a].length-1,u=o.pointToArray(t);h[a][c]=u,"polygon"===s.type&&(0===c?h[a][p]=u:c===p&&(h[a][0]=u)),this._isVertex(e)&&(h=this._moveRelatedCoordinates(h,e,u),h=this._moveSelectedHandleCoordinates(h,e,i,n,"polygon"===s.type),this._updateMidpointGraphicLocations(h)),this.graphic.geometry=s.clone();const v=o.pointToVector(t),y=this._getVertexFromEditGeometry(e),x=o.getZ(v),f=v[0]-y.pos[0],g=v[1]-y.pos[1],m=null!=x?x-y.pos[2]:0;null!==(l=this._editGeometryOperations)&&void 0!==l&&l.moveVertices([y],f,g,m),r&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i){const{relatedGraphicIndices:n}=t.attributes;for(const o of n){const n=this.vertexGraphics.at(o),{pathIndex:r,pointIndex:s}=n.attributes;e[r][s]=i,n.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,n,o){for(const r of this.selectedVertices)if(r!==t){const{pathIndex:t,pointIndex:s,relatedGraphicIndices:l}=r.attributes,a=(0,m.e7)(r.geometry,i,n,this.view),c=(0,d.nA)(a),h=e[t].length-1;e[t][s]=c,r.geometry=a,o&&(0===s?e[t][h]=c:s===h&&(e[t][0]=c));for(const i of l){const t=this.vertexGraphics.at(i),{pathIndex:n,pointIndex:o}=t.attributes;e[n][o]=c,t.geometry=a}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._hoverGraphic=t;const i=this._isVertex(t);i&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateTooltip(i?t:null),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._hoverGraphic=null,this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default",this._updateTooltip()}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,n=i.geometry;if(null==n||"polygon"!==n.type&&"polyline"!==n.type)return[];const o=n.clone(),r=[],{pathIndex:s,pointIndexStart:l,pointIndexEnd:a}=e.attributes,c=(0,d.nA)(e.geometry),h=0===a?l+1:a,p=(0,d.nA)(o);return p[s].splice(h,0,c),e.attributes={...t,pathIndex:s,pointIndex:h,relatedGraphicIndices:[]},r.push({coordinates:p[s][h],componentIndex:s,vertexIndex:h}),this.graphic.geometry=o,r}_addToSelection(e){e.symbol=this.symbols.vertices.selected,this.selectedVertices.add(e),this._emitSelectEvent([e]),this._updateTooltip(e)}_removeFromSelection(e,t){const{vertices:i}=this.symbols,n=t?i.hover:i.default;this.selectedVertices.remove(e),e.symbol=n,this._emitDeselectEvent([e]),this._updateTooltip()}_clearSelection(){const e=this.selectedVertices.toArray();if(e.length>0){for(const t of e)t.set("symbol",this.symbols.vertices.default);this.selectedVertices.removeAll(),this._emitDeselectEvent(e),this._updateTooltip()}}_keyDownHandler(e){null==this._activeOperationInfo&&(0,S._i)(e,this.tooltip)||P.Sn.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const t=this.graphic.geometry;if(null==t||"polygon"!==t.type&&"polyline"!==t.type)return;if("polygon"===t.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;const i=this.graphic.clone(),n=t.clone();let r=(0,d.nA)(n);const s=[],l=function(e){return e instanceof o.Z?[e]:[...e]}(e);for(const o of l){const{x:e,y:t}=o.geometry;for(let i=0;i<r.length;i++){const n=r[i];for(let o=0;o<n.length;o++){const[l,a]=n[o];e===l&&t===a&&(s.push({coordinates:r[i][o],componentIndex:i,vertexIndex:o}),r[i].splice(Number(o),1))}}}if("polygon"===n.type)r=r.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[n,o]=e[e.length-1];return(2!==e.length||t!==n||i!==o)&&(t===n&&i===o||e.push(e[0]),!0)})),n.rings=r;else{for(const e of r)1===e.length&&r.splice(r.indexOf(e),1);n.paths=r}this.graphic.geometry=n,this.refresh(),this._emitVertexRemoveEvent(l,i,s)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}_updateTooltip(e,t){let i=null;const{graphic:n,view:o,tooltipInfos:r}=this,s=null===n||void 0===n?void 0:n.geometry;"point"===(null===s||void 0===s?void 0:s.type)?i=r.movePoint:this._selectedVertex?i=r.selectedVertex:e===this.graphic?(i=r.translateGraphic,function(e,t,i){e.clear(),U(e,t,i)}(i,o,t)):e&&this.selectedVertices.length>1&&(i=r.translateVertices,function(e,t,i,n){e.clear(),"polygon"===(null===i||void 0===i?void 0:i.type)?e.area=(0,T.f)(i):"polyline"===(null===i||void 0===i?void 0:i.type)&&(e.totalLength=(0,z.C_)(i)),U(e,t,n)}(i,o,s,t)),this.activeTooltipInfo=i}_emitMoveStartEvent(e,t){var i,n;const o=new X(this.graphic,e,t);this.emit("move-start",o),null===(i=(n=this.callbacks).onMoveStart)||void 0===i||i.call(n,o)}_emitMoveEvent(e,t){var i,n;const o=new $(this.graphic,e,t);this.emit("move",o),null===(i=(n=this.callbacks).onMove)||void 0===i||i.call(n,o)}_emitMoveStopEvent(e,t){var i,n;if(null==e||null==t){const i=this._activeOperationInfo;if(!i)return;e=i.totalDx,t=i.totalDy}const o=new Q(this.graphic,e,t);this.emit("move-stop",o),null===(i=(n=this.callbacks).onMoveStop)||void 0===i||i.call(n,o)}_emitReshapeStartEvent(e){var t,i;const n=new K(this.graphic,e,this.selectedVertices.toArray());this.emit("reshape-start",n),null===(t=(i=this.callbacks).onReshapeStart)||void 0===t||t.call(i,n)}_emitReshapeEvent(e){var t,i;const n=new N(this.graphic,e,this.selectedVertices.toArray());this.emit("reshape",n),null===(t=(i=this.callbacks).onReshape)||void 0===t||t.call(i,n)}_emitReshapeStopEvent(e){var t,i;const n=new q(this.graphic,e,this.selectedVertices.toArray());this.emit("reshape-stop",n),null===(t=(i=this.callbacks).onReshapeStop)||void 0===t||t.call(i,n)}_emitSelectEvent(e){var t,i;const n=new ee(e);this.emit("select",n),null===(t=(i=this.callbacks).onVertexSelect)||void 0===t||t.call(i,n)}_emitDeselectEvent(e){var t,i;const n=new te(e);this.emit("deselect",n),null===(t=(i=this.callbacks).onVertexDeselect)||void 0===t||t.call(i,n)}_emitVertexAddEvent(e,t,i){var n,o;const r=new ie(e,this.graphic,t,i);this.emit("vertex-add",r),null===(n=(o=this.callbacks).onVertexAdd)||void 0===n||n.call(o,r)}_emitVertexRemoveEvent(e,t,i){var n,o;const r=new ne(e,this.graphic,t,i);this.emit("vertex-remove",r),null===(n=(o=this.callbacks).onVertexRemove)||void 0===n||n.call(o,r)}_logGeometryTypeError(){c.Z.getLogger(this).error(new l.Z("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}};function le(e){const t=(0,d.nA)(e.clone());if("polygon"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}function ae(e){let{attributes:t}=e;return[(null===t||void 0===t?void 0:t.pathIndex)||0,(null===t||void 0===t?void 0:t.pointIndex)||0]}(0,n._)([(0,u.Cb)()],se.prototype,"_activeOperationInfo",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"_coordinateHelper",null),(0,n._)([(0,u.Cb)()],se.prototype,"_editGeometryOperations",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"tooltip",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"tooltipInfos",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"activeTooltipInfo",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"_selectedVertex",null),(0,n._)([(0,u.Cb)()],se.prototype,"_tooltipsContext",null),(0,n._)([(0,u.Cb)()],se.prototype,"callbacks",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"enableMidpoints",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"enableMovement",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"enableVertices",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"graphic",void 0),(0,n._)([(0,u.Cb)({value:!0})],se.prototype,"highlightsEnabled",null),(0,n._)([(0,u.Cb)()],se.prototype,"layer",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],se.prototype,"midpointGraphics",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"midpointSymbol",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],se.prototype,"selectedVertices",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"snappingManager",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],se.prototype,"state",null),(0,n._)([(0,u.Cb)()],se.prototype,"symbols",void 0),(0,n._)([(0,u.Cb)({type:j.Z})],se.prototype,"sketchOptions",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],se.prototype,"type",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],se.prototype,"vertexGraphics",void 0),(0,n._)([(0,u.Cb)()],se.prototype,"view",void 0),se=(0,n._)([(0,v.j)("esri.views.draw.support.Reshape")],se);const ce=se},70040:(e,t,i)=>{i.d(t,{X:()=>p});var n=i(51995);const o={main:new n.Z([255,127,0]),selected:new n.Z([255,255,255]),outline:new n.Z([0,0,0,.5]),selectedOutline:new n.Z([255,255,255]),hoverOutline:new n.Z([255,255,255]),secondary:new n.Z([255,255,255]),secondaryOutline:new n.Z([100,100,100]),transparent:new n.Z([0,0,0,0])};function r(e,t){Object.assign(e,t)}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,r(this,e)}}class l{constructor(e){this.color=o.secondary,this.hoverColor=o.main,r(this,e)}}class a{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,r(this,e)}}class c{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),r(this,e)}}class h{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new a,this.line=new l,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),r(this,e)}}const p=new class{constructor(e){this.reshapeGraphics=new c,this.transformGraphics=new h,r(this,e)}}},34019:(e,t,i)=>{i.d(t,{N:()=>n});class n{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},51155:(e,t,i)=>{i.d(t,{o:()=>a});var n=i(27366),o=i(49861),r=(i(93169),i(32718),i(84936),i(69912)),s=i(85809),l=i(35647);let a=class extends((0,l.A)(s.h)){constructor(e){super(e),this.type="move-point",this.allFields.forEach((e=>{e.lockable=!1,e.setActual(null)}))}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,n._)([(0,o.Cb)()],a.prototype,"allFields",null),a=(0,n._)([(0,r.j)("esri.views.interactive.tooltip.infos.MovePointTooltipInfo")],a)},6896:(e,t,i)=>{i.d(t,{K:()=>c});var n=i(27366),o=i(49861),r=(i(93169),i(32718),i(84936),i(69912)),s=i(73816),l=i(85809),a=i(35647);let c=class extends((0,a.A)(l.h)){constructor(e){super(e),this.type="selected-vertex",this.area=(0,s.UR)(),this.totalLength=(0,s.i4)(),this.geometryType="polyline",this.allFields.forEach((e=>{e.lockable=!1,e.setActual(null)}))}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,"polygon"===this.geometryType?this.area:this.totalLength]}};(0,n._)([(0,o.Cb)()],c.prototype,"geometryType",void 0),(0,n._)([(0,o.Cb)()],c.prototype,"allFields",null),c=(0,n._)([(0,r.j)("esri.views.interactive.tooltip.infos.SelectedVertexTooltipInfo")],c)},42170:(e,t,i)=>{i.d(t,{E:()=>a});var n=i(27366),o=i(47898),r=i(49861),s=(i(93169),i(32718),i(84936),i(69912)),l=i(85809);let a=class extends l.h{constructor(e){super(e),this.type="translate",this.distance=o.yP}clear(){this.distance=o.yP}};(0,n._)([(0,r.Cb)()],a.prototype,"type",void 0),(0,n._)([(0,r.Cb)()],a.prototype,"distance",void 0),a=(0,n._)([(0,s.j)("esri.views.interactive.tooltip.infos.TranslateTooltipInfo")],a)},4914:(e,t,i)=>{i.d(t,{Cr:()=>b,FN:()=>m,KY:()=>g,Sx:()=>p,Uy:()=>v,Z1:()=>d,_e:()=>x,qj:()=>_,un:()=>f,xI:()=>y});var n,o=i(47898),r=i(68860),s=i(32035),l=i(12400),a=i(5986),c=i(92975),h=i(25003);function p(e){return u(e,n.Horizontal)}function u(e,t){const{hasZ:i,spatialReference:s}=e,l=(0,h.m)(s);let a=0;const c=(0,r.j5)(l);if(null==c)return null;const p=t===n.Direct?m:_;for(const n of e.paths){if(n.length<2)continue;const e=n.length-1;for(let t=0;t<e;++t){const e=n[t];G[0]=e[0],G[1]=e[1],G[2]=i?e[2]:0;const o=n[t+1];M[0]=o[0],M[1]=o[1],M[2]=i?o[2]:0;const r=p(G,M,s);if(null==r)return null;a+=r.value}}return(0,o.yG)(a,c)}function v(e,t){const{spatialReference:i}=e;return(0,c.fS)(i,t.spatialReference)?(G[0]=e.x,G[1]=e.y,G[2]=e.hasZ?e.z:0,M[0]=t.x,M[1]=t.y,M[2]=t.hasZ?t.z:0,function(e,t,i){const n=w(e,t,i);return null!=n?{direct:(0,o.yG)(n.direct,n.unit),horizontal:(0,o.yG)(n.horizontal,n.unit),vertical:(0,o.yG)(n.vertical,n.unit)}:null}(G,M,i)):null}function d(e,t){const{spatialReference:i}=e;return(0,c.fS)(i,t.spatialReference)?(G[0]=e.x,G[1]=e.y,G[2]=e.hasZ?e.z:0,M[0]=t.x,M[1]=t.y,M[2]=t.hasZ?t.z:0,m(G,M,i)):null}function y(e,t){const{spatialReference:i}=e;return(0,c.fS)(i,t.spatialReference)?(G[0]=e.x,G[1]=e.y,G[2]=e.hasZ?e.z:0,M[0]=t.x,M[1]=t.y,M[2]=t.hasZ?t.z:0,_(G,M,i)):null}function x(e,t){const{spatialReference:i}=e;return(0,c.fS)(i,t.spatialReference)?(G[0]=e.x,G[1]=e.y,G[2]=e.hasZ?e.z:0,M[0]=t.x,M[1]=t.y,M[2]=t.hasZ?t.z:0,b(G,M,i)):null}function f(e){return null!=e?g(e.hasZ?e.z:0,e.spatialReference):null}function g(e,t){const i=(0,r.y)(t);return null!=i?(0,o.yG)(null!==e&&void 0!==e?e:0,i):null}function m(e,t,i){const r=w(e,t,i,n.Direct);return null!=r?(0,o.yG)(r.direct,r.unit):null}function _(e,t,i){const r=w(e,t,i,n.Horizontal);return null!=r?(0,o.yG)(r.horizontal,r.unit):null}function b(e,t,i){const r=w(e,t,i,n.Vertical);return null!=r?(0,o.yG)(r.verticalSigned,r.unit):null}function w(e,t,i,o){const l=(0,h.m)(i),c=(0,r.j5)(l);if(null==c)return null;const p=t[2]-e[2];if(o===n.Vertical)return{verticalSigned:p,unit:c};if(!(0,a.S)(e,i,V,l)||!(0,a.S)(t,i,C,l))return null;if(o===n.Direct)return{direct:(0,s.p)(C,V),unit:c};if((0,s.s)(S,e[0],e[1],t[2]),!(0,a.S)(S,i,S,l))return null;const u=(0,s.p)(S,C);return o===n.Horizontal?{horizontal:u,unit:c}:{direct:(0,s.p)(C,V),horizontal:u,vertical:Math.abs(p),unit:c}}!function(e){e[e.Direct=0]="Direct",e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"}(n||(n={}));const G=(0,l.Ue)(),M=(0,l.Ue)(),V=(0,l.Ue)(),C=(0,l.Ue)(),S=(0,l.Ue)()},25003:(e,t,i)=>{i.d(t,{m:()=>s});var n=i(83448),o=i(29691),r=i(92975);function s(e){return(0,r.N$)(e)?(0,r.oR)(e)||(0,r.sS)(e)||(0,r.yW)(e)||(0,n.fY)(e)?o.wY:e:(0,o.rS)(e)}}}]);
//# sourceMappingURL=61051.fda84edc.chunk.js.map