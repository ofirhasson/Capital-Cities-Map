"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[69570],{69570:(e,t,n)=>{n.r(t),n.d(t,{ElevationProfileView2D:()=>p});var o=n(100),i=n(92026),s=n(94172),r=n(91079),h=n(62164),a=n(14921),l=n(66978),d=n(69787);class c{constructor(e){this._params=e,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=(0,i.IM)(this._highlightTask),this._highlightHandle=(0,i.hw)(this._highlightHandle)}update(e){if(this.remove(),null==e||(null==(t=e).geometry||"polyline"!==t.geometry.type))return;var t;const n=e.layer;this._highlightTask=(0,a.vr)((async t=>{const o=await this._params.view.whenLayerView(n);(0,l.k_)(t);const i=(0,d.tl)(o)?o:null;i&&(this._highlightHandle=i.highlight(e))}))}}class p{constructor(e,t){this._handles=new o.Z,this._inputRepresentation=new c({view:e}),this._hoveredPoints=new h.l({view:e}),this._handles.add([(0,s.watch)((()=>t.viewModel.hoveredPoints),(e=>this._hoveredPoints.update(e)),s.syncAndInitial),(0,s.watch)((()=>{const{state:e,highlightEnabled:n,viewModel:o}=t;return{input:o.input,state:e,highlightEnabled:n}}),(e=>this._updateInputRepresentation(e)),s.syncAndInitial)])}destroy(){this._handles=(0,i.SC)(this._handles),this._inputRepresentation=(0,i.SC)(this._inputRepresentation),this._hoveredPoints=(0,i.SC)(this._hoveredPoints)}_updateInputRepresentation(e){let{input:t,state:n,highlightEnabled:o}=e;n===r.dd.Selected&&o?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}},62164:(e,t,n)=>{n.d(t,{l:()=>c});var o=n(27366),i=n(7138),s=n(80987),r=n(94172),h=n(49861),a=(n(93169),n(32718),n(84936),n(69912)),l=n(91079),d=n(70407);let c=class extends i.default{constructor(e){super(e),this._hoveredPoints=new s.Z}initialize(){this.addHandles((0,r.watch)((()=>this._hoveredPoints.toArray().map((e=>{let{anchor:t,element:n}=e;return{screenLocation:t.screenLocation,element:n}}))),(e=>{for(const{screenLocation:t,element:n}of e)t&&(n.style.transform="translate(".concat(t.x,"px, ").concat(t.y,"px)"))}),r.syncAndInitial))}destroy(){this._hoveredPoints.drain((e=>this._destroyHoveredPoint(e)))}update(e){const t=this.view,n=this._hoveredPoints,o=e.length;for(;this._hoveredPoints.length>o;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<o;){var i;const e=this._makeHoveredPoint();n.push(e),null===(i=t.surface)||void 0===i||i.appendChild(e.element)}for(let s=0;s<o;++s){const t=n.at(o-1-s),i=e[s];this._updateHoveredPoint(t,i)}}_makeHoveredPoint(){const{size:e,borderStyle:t,borderColor:n,borderWidth:o,boxShadow:i}=(0,l.iE)().hoveredPointsStyle,s=this.view,r=new d.Z({view:s,screenLocationEnabled:!0}),h=document.createElement("div"),a=h.style;return a.position="absolute",a.top="0",a.left="0",a.contain="strict",a.boxSizing="border-box",a.width="".concat(e,"px"),a.height="".concat(e,"px"),a.marginTop="-".concat(e/2,"px"),a.marginLeft="-".concat(e/2,"px"),a.border="".concat(t," ").concat(o,"px ").concat(n),a.borderRadius="".concat(e,"px"),a.boxShadow=i,{anchor:r,element:h}}_updateHoveredPoint(e,t){let{anchor:n,element:o}=e;n.screenLocationEnabled=!0,n.location=t.hoveredPoint;const i=o.style;i.display="block",i.background=t.color.toCss()}_destroyHoveredPoint(e){var t;let{anchor:n,element:o}=e;n.destroy(),null===(t=this.view.surface)||void 0===t||t.removeChild(o)}};(0,o._)([(0,h.Cb)()],c.prototype,"view",void 0),(0,o._)([(0,h.Cb)()],c.prototype,"_hoveredPoints",void 0),c=(0,o._)([(0,a.j)("esri.widgets.ElevationProfile.support.HoveredPoints")],c)},70407:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(27366),i=n(91505),s=n(94172),r=n(49861),h=(n(93169),n(32718),n(84936),n(69912)),a=n(79803);let l=class extends i.Z.EventedAccessor{constructor(e){super(e),this.location=null,this.screenLocationEnabled=!1,this.view=null,this.addHandles([(0,s.when)((()=>{const e=this.screenLocationEnabled?this.view:null;return e?[e.size,"3d"===e.type?e.camera:e.viewpoint]:null}),(()=>this.notifyChange("screenLocation"))),(0,s.watch)((()=>this.screenLocation),((e,t)=>{null!=e&&null!=t&&this.emit("view-change")}))])}destroy(){this.view=null}get screenLocation(){const{location:e,view:t,screenLocationEnabled:n}=this,o=null===t||void 0===t?void 0:t.spatialReference,i=o?(0,a.projectOrLoad)(e,o).geometry:null;return n&&i&&null!==t&&void 0!==t&&t.ready?t.toScreen(i):null}};(0,o._)([(0,r.Cb)()],l.prototype,"location",void 0),(0,o._)([(0,r.Cb)()],l.prototype,"screenLocation",null),(0,o._)([(0,r.Cb)()],l.prototype,"screenLocationEnabled",void 0),(0,o._)([(0,r.Cb)()],l.prototype,"view",void 0),l=(0,o._)([(0,h.j)("esri.widgets.support.AnchorElementViewModel")],l);const d=l}}]);
//# sourceMappingURL=69570.02fb6b2f.chunk.js.map