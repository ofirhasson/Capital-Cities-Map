{"version":3,"file":"static/js/77043.2396da11.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ElevationQuery.js","../node_modules/@arcgis/core/layers/support/ElevationTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import t from\"../../core/Error.js\";import{assertIsSome as i}from\"../../core/maybe.js\";import{whenOrAbort as n,throwIfAbortError as o}from\"../../core/promiseUtils.js\";import{getMetersPerUnitForSR as l}from\"../../core/unitUtils.js\";import s from\"../../geometry/Multipoint.js\";import a from\"../../geometry/Point.js\";import r from\"../../geometry/Polyline.js\";import{initializeProjection as c,project as u}from\"../../geometry/projection.js\";import{fromExtent as h,create as f,contains as p}from\"../../geometry/support/aaBoundingRect.js\";import{MultiTileElevationSampler as m}from\"./ElevationSampler.js\";import{ElevationTile as d}from\"./ElevationTile.js\";import{TileKey as y}from\"./TileKey.js\";class T{async queryAll(e,i,n){if(!(e=n?.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");const o=w.fromGeometry(i);let l=!1;n?.returnSampleInfo||(l=!0);const s={...R,...n,returnSampleInfo:!0},a=await this.query(e[e.length-1],o,s),r=await this._queryAllContinue(e,a,s);return r.geometry=r.geometry.export(),l&&delete r.sampleInfo,r}async query(e,i,n){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||!(i instanceof w)&&\"point\"!==i.type&&\"multipoint\"!==i.type&&\"polyline\"!==i.type)throw new t(\"elevation-query:invalid-geometry\",\"Only point, polyline and multipoint geometries can be used to query elevation\");const o={...R,...n},l=new x(e,i.spatialReference,o),s=o.signal;return await e.load({signal:s}),await q(l,i,s),await this._selectTiles(l,s),await F(l,s),j(l),b(l,s)}async createSampler(e,i,n){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const o={...R,...n};return this._createSampler(e,i,o)}async createSamplerAll(e,i,n){if(!(e=n?.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const o={...R,...n,returnSampleInfo:!0},l=await this._createSampler(e[e.length-1],i,o);return this._createSamplerAllContinue(e,i,l,o)}async _createSampler(e,t,i,n){const o=i.signal;await e.load({signal:o});const l=t.spatialReference,s=e.tileInfo.spatialReference;l.equals(s)||(await c([{source:l,dest:s}],{signal:o}),t=u(t,s));const a=new _(e,t,i,n);return await this._selectTiles(a,o),await F(a,o),new m(a.elevationTiles,a.layer.tileInfo,a.options.noDataValue)}async _createSamplerAllContinue(e,t,i,n){if(e.pop(),!e.length)return i;const o=i.samplers.filter((e=>!e.tile.hasNoDataValues)).map((e=>h(e.extent))),l=await this._createSampler(e[e.length-1],t,n,o);if(0===l.samplers.length)return i;const s=i.samplers.concat(l.samplers),a=new m(s,n.noDataValue);return this._createSamplerAllContinue(e,t,a,n)}async _queryAllContinue(e,t,n){const o=e.pop(),l=t.geometry.coordinates,s=t.sampleInfo;i(s);const a=[],r=[];for(let i=0;i<l.length;i++){const t=s[i];t.demResolution>=0?t.source||(t.source=o):e.length&&(a.push(l[i]),r.push(i))}if(!e.length||0===a.length)return t;const c=t.geometry.clone(a),u=await this.query(e[e.length-1],c,n),h=u.sampleInfo;if(!h)throw new Error(\"no sampleInfo\");return r.forEach(((e,t)=>{l[e].z=u.geometry.coordinates[t].z,s[e].demResolution=h[t].demResolution})),this._queryAllContinue(e,t,n)}async _selectTiles(e,i){\"geometry\"===e.type&&I(e);const n=e.options.demResolution;if(\"number\"==typeof n)C(e,n);else if(\"finest-contiguous\"===n)await this._selectTilesFinestContiguous(e,i);else{if(\"auto\"!==n)throw new t(\"elevation-query:invalid-dem-resolution\",`Invalid dem resolution value '${n}', expected a number, \"finest-contiguous\" or \"auto\"`);await this._selectTilesAuto(e,i)}}async _selectTilesFinestContiguous(e,t){const{tileInfo:i,tilemapCache:n}=e.layer,o=E(i,n,e.options.minDemResolution);await this._selectTilesFinestContiguousAt(e,o,t)}async _selectTilesFinestContiguousAt(e,i,l){const s=e.layer;if(e.selectTilesAtLOD(i),i<0)return;const a=s.tilemapCache,r=e.getTilesToFetch();try{if(a&&!L(a))await n(Promise.all(r.map((e=>a.fetchAvailability(e.level,e.row,e.col,{signal:l})))),l);else if(await F(e,l),!e.allElevationTilesFetched())throw e.clearElevationTiles(),new t(\"elevation-query:has-unavailable-tiles\")}catch(c){o(c),await this._selectTilesFinestContiguousAt(e,i-1,l)}}async _selectTilesAuto(t,i){M(t),S(t);const l=t.layer.tilemapCache;if(!l||L(l))return this._selectTilesAutoPrefetchUpsample(t,i);const s=t.getTilesToFetch(),a={},r=s.map((async t=>{const n=new y(null,0,0,0,f()),s=await e(l.fetchAvailabilityUpsample(t.level,t.row,t.col,n,{signal:i}));!1!==s.ok?null!=t.id&&(a[t.id]=n):o(s.error)}));await n(Promise.all(r),i),t.remapTiles(a)}async _selectTilesAutoPrefetchUpsample(e,t){const i=e.layer.tileInfo;await F(e,t);let n=!1;e.forEachTileToFetch(((e,t)=>{i.upsampleTile(e)?n=!0:t()})),n&&await this._selectTilesAutoPrefetchUpsample(e,t)}}class w{export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new w;return t.geometry=this.geometry,t.spatialReference=this.spatialReference,t.coordinates=e||this.coordinates.map((e=>e.clone())),t._exporter=this._exporter,t}async project(e,t){if(this.spatialReference.equals(e))return this.clone();await c([{source:this.spatialReference,dest:e}],{signal:t});const i=new s({spatialReference:this.spatialReference,points:this.coordinates.map((e=>[e.x,e.y]))}),n=u(i,e);if(!n)return null;const o=this.coordinates.map(((e,t)=>{const i=e.clone(),o=n.points[t];return i.x=o[0],i.y=o[1],i})),l=this.clone(o);return l.spatialReference=e,l}static fromGeometry(e){const t=new w;if(t.geometry=e,t.spatialReference=e.spatialReference,e instanceof w)t.coordinates=e.coordinates.map((e=>e.clone())),t._exporter=(t,i)=>{const n=e.clone(t);return n.spatialReference=i,n};else switch(e.type){case\"point\":{const i=e,{hasZ:n,hasM:o}=i;t.coordinates=n&&o?[new v(i.x,i.y,i.z,i.m)]:n?[new v(i.x,i.y,i.z)]:o?[new v(i.x,i.y,null,i.m)]:[new v(i.x,i.y)],t._exporter=(t,i)=>e.hasM?new a(t[0].x,t[0].y,t[0].z,t[0].m,i):new a(t[0].x,t[0].y,t[0].z,i);break}case\"multipoint\":{const i=e,{hasZ:n,hasM:o}=i;t.coordinates=n&&o?i.points.map((e=>new v(e[0],e[1],e[2],e[3]))):n?i.points.map((e=>new v(e[0],e[1],e[2]))):o?i.points.map((e=>new v(e[0],e[1],null,e[2]))):i.points.map((e=>new v(e[0],e[1]))),t._exporter=(t,i)=>e.hasM?new s({points:t.map((e=>[e.x,e.y,e.z,e.m])),hasZ:!0,hasM:!0,spatialReference:i}):new s(t.map((e=>[e.x,e.y,e.z])),i);break}case\"polyline\":{const i=e,n=[],o=[],{hasZ:l,hasM:s}=e;let a=0;for(const e of i.paths)if(o.push([a,a+e.length]),a+=e.length,l&&s)for(const t of e)n.push(new v(t[0],t[1],t[2],t[3]));else if(l)for(const t of e)n.push(new v(t[0],t[1],t[2]));else if(s)for(const t of e)n.push(new v(t[0],t[1],null,t[2]));else for(const t of e)n.push(new v(t[0],t[1]));t.coordinates=n,t._exporter=(t,i)=>{const n=e.hasM?t.map((e=>[e.x,e.y,e.z,e.m])):t.map((e=>[e.x,e.y,e.z])),l=o.map((e=>n.slice(e[0],e[1])));return new r({paths:l,hasM:e.hasM,hasZ:!0,spatialReference:i})};break}}return t}}class v{constructor(e,t,i=null,n=null,o=null,l=null){this.x=e,this.y=t,this.z=i,this.m=n,this.tile=o,this.elevationTile=l}clone(){return new v(this.x,this.y,this.z,this.m)}}class g{constructor(e,t){this.layer=e,this.options=t}}class x extends g{constructor(e,t,i){super(e,i),this.outSpatialReference=t,this.type=\"geometry\"}selectTilesAtLOD(e){if(e<0)this.geometry.coordinates.forEach((e=>e.tile=null));else{const{tileInfo:t,tilemapCache:i}=this.layer,n=D(t,i)[e].level;this.geometry.coordinates.forEach((e=>e.tile=t.tileAt(n,e.x,e.y)))}}allElevationTilesFetched(){return!this.geometry.coordinates.some((e=>!e.elevationTile))}clearElevationTiles(){for(const e of this.geometry.coordinates)e.elevationTile!==this.outsideExtentTile&&(e.elevationTile=null)}populateElevationTiles(e){for(const t of this.geometry.coordinates)!t.elevationTile&&t.tile?.id&&(t.elevationTile=e[t.tile.id])}remapTiles(e){for(const t of this.geometry.coordinates){const i=t.tile?.id;t.tile=i?e[i]:null}}getTilesToFetch(){const e={},t=[];for(const i of this.geometry.coordinates){const n=i.tile;if(!n)continue;const o=i.tile?.id;i.elevationTile||!o||e[o]||(e[o]=n,t.push(n))}return t}forEachTileToFetch(e){for(const t of this.geometry.coordinates)t.tile&&!t.elevationTile&&e(t.tile,(()=>{t.tile=null}))}}class _ extends g{constructor(e,t,i,n){super(e,i),this.type=\"extent\",this.elevationTiles=[],this._candidateTiles=[],this._fetchedCandidates=new Set,this.extent=t.clone().intersection(e.fullExtent),this.maskExtents=n}selectTilesAtLOD(e,t){const i=this._maximumLodForRequests(t),n=Math.min(i,e);n<0?this._candidateTiles.length=0:this._selectCandidateTilesCoveringExtentAt(n)}_maximumLodForRequests(e){const{tileInfo:t,tilemapCache:i}=this.layer,n=D(t,i);if(!e)return n.length-1;const o=this.extent;if(null==o)return-1;for(let l=n.length-1;l>=0;l--){const i=n[l],s=i.resolution*t.size[0],a=i.resolution*t.size[1];if(Math.ceil(o.width/s)*Math.ceil(o.height/a)<=e)return l}return-1}allElevationTilesFetched(){return this._candidateTiles.length===this.elevationTiles.length}clearElevationTiles(){this.elevationTiles.length=0,this._fetchedCandidates.clear()}populateElevationTiles(e){for(const t of this._candidateTiles){const i=t.id&&e[t.id];i&&(this._fetchedCandidates.add(t),this.elevationTiles.push(i))}}remapTiles(e){this._candidateTiles=z(this._candidateTiles.map((t=>e[t.id])))}getTilesToFetch(){return this._candidateTiles}forEachTileToFetch(e,t){const i=this._candidateTiles;this._candidateTiles=[],i.forEach((i=>{if(this._fetchedCandidates.has(i))return void(t&&t(i));let n=!1;e(i,(()=>n=!0)),n?t&&t(i):this._candidateTiles.push(i)})),this._candidateTiles=z(this._candidateTiles,t)}_selectCandidateTilesCoveringExtentAt(e){this._candidateTiles.length=0;const t=this.extent;if(null==t)return;const{tileInfo:i,tilemapCache:n}=this.layer,o=D(i,n)[e],l=i.tileAt(o.level,t.xmin,t.ymin),s=l.extent;if(null==s)return;const a=o.resolution*i.size[0],r=o.resolution*i.size[1],c=Math.ceil((t.xmax-s[0])/a),u=Math.ceil((t.ymax-s[1])/r);for(let h=0;h<u;h++)for(let e=0;e<c;e++){const t=new y(null,l.level,l.row-h,l.col+e);i.updateTileInfo(t),this._tileIsMasked(t)||this._candidateTiles.push(t)}}_tileIsMasked(e){return!!this.maskExtents&&this.maskExtents.some((t=>e.extent&&p(t,e.extent)))}}function E(e,t,i=0){const n=D(e,t);let o=n.length-1;if(i>0){const t=i/l(e.spatialReference),s=n.findIndex((e=>e.resolution<t));0===s?o=0:s>0&&(o=s-1)}return o}const R={maximumAutoTileRequests:20,noDataValue:0,returnSampleInfo:!1,demResolution:\"auto\",minDemResolution:0};async function q(e,i,n){let o;const l=e.layer.tileInfo.spatialReference;if(i instanceof w?o=await i.project(l,n):(await c([{source:i.spatialReference,dest:l}],{signal:n}),o=u(i,l)),!o)throw new t(\"elevation-query:spatial-reference-mismatch\",`Cannot query elevation in '${i.spatialReference.wkid}' on an elevation service in '${l.wkid}'`);e.geometry=w.fromGeometry(o)}function I(e){if(null==e.layer.fullExtent)return;const t=new d(null);t.sample=()=>e.options.noDataValue,e.outsideExtentTile=t;const i=e.layer.fullExtent;e.geometry.coordinates.forEach((e=>{const n=e.x,o=e.y;(n<i.xmin||n>i.xmax||o<i.ymin||o>i.ymax)&&(e.elevationTile=t)}))}function A(e,t){const{tileInfo:i,tilemapCache:n}=e.layer,o=t/l(i.spatialReference),s=D(i,n);let a=s[0],r=0;for(let l=1;l<s.length;l++){const e=s[l];Math.abs(e.resolution-o)<Math.abs(a.resolution-o)&&(a=e,r=l)}return r}function C(e,t){const i=A(e,t);e.selectTilesAtLOD(i)}function M(e){const{tileInfo:t,tilemapCache:i}=e.layer,n=E(t,i,e.options.minDemResolution);e.selectTilesAtLOD(n,e.options.maximumAutoTileRequests)}function D(e,t){const i=e.lods;if(L(t)){const{effectiveMinLOD:e,effectiveMaxLOD:n}=t;return i.filter((t=>t.level>=e&&t.level<=n))}return i}async function F(e,t){const i=e.getTilesToFetch(),o={},l=e.options.cache,s=e.options.noDataValue,a=i.map((async i=>{if(null==i.id)return;const n=`${e.layer.uid}:${i.id}:${s}`,a=null!=l?l.get(n):null,r=null!=a?a:await e.layer.fetchTile(i.level,i.row,i.col,{noDataValue:s,signal:t});null!=l&&l.put(n,r),o[i.id]=new d(i,r)}));await n(Promise.allSettled(a),t),e.populateElevationTiles(o)}function S(e){const t=e.layer.tileInfo;let i=0;const n={},o=e=>{null!=e.id&&(e.id in n?n[e.id]++:(n[e.id]=1,i++))},l=e=>{if(null==e.id)return;const t=n[e.id];1===t?(delete n[e.id],i--):n[e.id]=t-1};e.forEachTileToFetch(o,l);let s=!0;for(;s&&(s=!1,e.forEachTileToFetch((n=>{i<=e.options.maximumAutoTileRequests||(l(n),t.upsampleTile(n)&&(s=!0),o(n))}),l),s););}function j(e){e.geometry.coordinates.forEach((t=>{const i=t.elevationTile;let n=e.options.noDataValue;if(i){const e=i.sample(t.x,t.y);null!=e?n=e:t.elevationTile=null}t.z=n}))}function z(e,t){const i={},n=[];for(const l of e){const e=l.id;e&&!i[e]?(i[e]=l,n.push(l)):t&&t(l)}const o=n.sort(((e,t)=>e.level-t.level));return o.filter(((e,i)=>{for(let n=0;n<i;n++){const i=o[n].extent;if(i&&e.extent&&p(i,e.extent))return t&&t(e),!1}return!0}))}async function b(e,t){const n=await e.geometry.project(e.outSpatialReference,t);i(n);const o={geometry:n.export(),noDataValue:e.options.noDataValue};return e.options.returnSampleInfo&&(o.sampleInfo=k(e)),e.geometry.coordinates.forEach((e=>{e.tile=null,e.elevationTile=null})),o}function k(e){const t=e.layer.tileInfo,i=l(t.spatialReference);return e.geometry.coordinates.map((n=>{let o=-1;if(n.elevationTile&&n.elevationTile!==e.outsideExtentTile){o=t.lodAt(n.elevationTile.tile.level).resolution*i}return{demResolution:o}}))}function L(e){return null!=e?.tileInfo}export{T as ElevationQuery,w as GeometryDescriptor,E as getFinestLodIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ElevationSamplerData as a}from\"./ElevationSamplerData.js\";class t{constructor(t,l=null){if(this.tile=t,null!=l&&null!=t){const e=t.extent;this._samplerData=new a(l,e)}}get zmin(){return null!=this._samplerData?this._samplerData.data.minValue:0}get zmax(){return null!=this._samplerData?this._samplerData.data.maxValue:0}get hasNoDataValues(){return!!this._samplerData?.data.hasNoDataValues}sample(a,t){if(null==this._samplerData)return;const{safeWidth:e,data:s,dx:r,dy:n,y1:i,x0:u}=this._samplerData,{width:o,values:m,noDataValue:h}=s,p=l(n*(i-t),0,e),D=l(r*(a-u),0,e),d=Math.floor(p),f=Math.floor(D),_=d*o+f,c=_+o,x=m[_],V=m[c],g=m[_+1],v=m[c+1];if(x!==h&&V!==h&&g!==h&&v!==h){const a=D-f,t=x+(g-x)*a;return t+(V+(v-V)*a-t)*(p-d)}}}function l(a,t,l){return a<t?t:a>l?l:a}export{t as ElevationTile};\n"],"names":["T","queryAll","e","i","n","ignoreInvisibleLayers","filter","visible","slice","length","t","o","w","fromGeometry","l","returnSampleInfo","s","R","a","this","query","r","_queryAllContinue","geometry","export","sampleInfo","type","x","spatialReference","signal","load","async","layer","tileInfo","project","c","source","dest","u","concat","wkid","q","_selectTiles","F","coordinates","forEach","elevationTile","options","noDataValue","sample","y","z","j","outSpatialReference","map","outsideExtentTile","lodAt","tile","level","resolution","demResolution","k","b","createSampler","_createSampler","createSamplerAll","_createSamplerAllContinue","equals","_","m","elevationTiles","pop","samplers","hasNoDataValues","h","extent","push","clone","Error","fullExtent","d","xmin","xmax","ymin","ymax","I","tilemapCache","D","Math","abs","A","selectTilesAtLOD","C","_selectTilesFinestContiguous","_selectTilesAuto","E","minDemResolution","_selectTilesFinestContiguousAt","getTilesToFetch","L","Promise","all","fetchAvailability","row","col","allElevationTilesFetched","clearElevationTiles","maximumAutoTileRequests","M","id","forEachTileToFetch","upsampleTile","S","_selectTilesAutoPrefetchUpsample","f","fetchAvailabilityUpsample","ok","error","remapTiles","_exporter","points","hasZ","hasM","v","paths","constructor","arguments","undefined","g","super","tileAt","some","populateElevationTiles","_t$tile","_t$tile2","_i$tile","_candidateTiles","_fetchedCandidates","Set","intersection","maskExtents","_maximumLodForRequests","min","_selectCandidateTilesCoveringExtentAt","size","ceil","width","height","clear","add","has","updateTileInfo","_tileIsMasked","p","findIndex","lods","effectiveMinLOD","effectiveMaxLOD","cache","uid","get","fetchTile","put","allSettled","sort","_samplerData","zmin","data","minValue","zmax","maxValue","_this$_samplerData","safeWidth","dx","dy","y1","x0","values","floor","V"],"sourceRoot":""}