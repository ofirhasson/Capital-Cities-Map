"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[88350],{88350:(t,e,n)=>{n.r(e),n.d(e,{default:()=>I});var i=n(27366),s=(n(59166),n(80987)),o=n(92026),a=n(49861),r=n(89125),l=(n(84936),n(93169),n(69912)),h=n(33565);const u="esri-slider",c={base:u,reversed:"".concat(u,"--reversed"),horizontalLayout:"".concat(u,"--horizontal"),verticalLayout:"".concat(u,"--vertical"),contentElement:"".concat(u,"__content"),extraContentElement:"".concat(u,"__extra-content"),trackElement:"".concat(u,"__track"),ticksContainerElement:"".concat(u,"__ticks"),tickElement:"".concat(u,"__tick"),tickLabelElement:"".concat(u,"__tick-label"),maxElement:"".concat(u,"__max"),minElement:"".concat(u,"__min"),maxElementInteractive:"".concat(u,"__max--interactive"),minElementInteractive:"".concat(u,"__min--interactive"),rangeElementActive:"".concat(u,"__range--active"),rangeInput:"".concat(u,"__range-input"),anchorElement:"".concat(u,"__anchor"),movingAnchorElement:"".concat(u,"__anchor--moving"),lastMovedAnchorElement:"".concat(u,"__anchor--moved"),anchorElementActive:"".concat(u,"__anchor--active"),anchorElementIndexPrefix:"".concat(u,"__anchor-"),segmentElement:"".concat(u,"__segment"),segmentElementIndexPrefix:"".concat(u,"__segment-"),segmentElementInteractive:"".concat(u,"__segment--interactive"),segmentElementActive:"".concat(u,"__segment--active"),effectiveSegmentElement:"".concat(u,"__effective-segment"),effectiveMaxSegmentElement:"".concat(u,"__effective-max-segment"),effectiveMinSegmentElement:"".concat(u,"__effective-min-segment"),thumbElement:"".concat(u,"__thumb"),labelElement:"".concat(u,"__label"),labelElementInteractive:"".concat(u,"__label--interactive"),labelInput:"".concat(u,"__label-input")};var d=n(84908),m=n(7021),_=n(80975),v=n(80532),p=n(67005),g=n(8704);const f={showInput:"Enter",hideInput1:"Enter",hideInput2:"Escape",hideInput3:"Tab",moveAnchorUp:"ArrowUp",moveAnchorDown:"ArrowDown",moveAnchorLeft:"ArrowLeft",moveAnchorRight:"ArrowRight",moveAnchorToMax:"End",moveAnchorToMin:"Home"},b={labels:!1,rangeLabels:!1};let E=class extends h.Z{constructor(t,e){super(t,e),this._activeLabelInputIndex=null,this._anchorElements=[],this._dragged=!1,this._dragStartInfo=null,this._focusedAnchorIndex=null,this._isMinInputActive=!1,this._isMaxInputActive=!1,this._lastMovedHandleIndex=null,this._positionPrecision=5,this._segmentDragStartInfo=null,this._trackHeight=null,this._trackWidth=null,this._zIndices=[],this._zIndexOffset=3,this.disabled=!1,this.draggableSegmentsEnabled=!0,this.effectiveSegmentElements=new s.Z,this.extraNodes=[],this.inputCreatedFunction=null,this.labelElements=new s.Z,this.labelInputsEnabled=!1,this.maxLabelElement=null,this.messages=null,this.minLabelElement=null,this.rangeLabelInputsEnabled=!1,this.segmentElements=new s.Z,this.snapOnClickEnabled=!0,this.steps=null,this.syncedSegmentsEnabled=!1,this.thumbCreatedFunction=null,this.thumbElements=new s.Z,this.tickElements=new s.Z,this.trackElement=null,this.viewModel=new d.Z,this.visibleElements={...b},this._onAnchorPointerDown=this._onAnchorPointerDown.bind(this),this._onAnchorPointerMove=this._onAnchorPointerMove.bind(this),this._onAnchorPointerUp=this._onAnchorPointerUp.bind(this),this._onLabelPointerDown=this._onLabelPointerDown.bind(this),this._onLabelPointerUp=this._onLabelPointerUp.bind(this),this._onSegmentPointerDown=this._onSegmentPointerDown.bind(this),this._onSegmentPointerMove=this._onSegmentPointerMove.bind(this),this._onSegmentPointerUp=this._onSegmentPointerUp.bind(this),this._onTrackPointerDown=this._onTrackPointerDown.bind(this),this._onTrackPointerMove=this._onTrackPointerMove.bind(this),this._onTrackPointerUp=this._onTrackPointerUp.bind(this)}destroy(){document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove),document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),this.labelElements.removeAll(),this.labelElements.destroy(),this.segmentElements.removeAll(),this.segmentElements.destroy(),this.effectiveSegmentElements.removeAll(),this.effectiveSegmentElements.destroy(),this.thumbElements.removeAll(),this.thumbElements.destroy(),this.tickElements.removeAll(),this.tickElements.destroy()}get effectiveMax(){return this.viewModel.effectiveMax}set effectiveMax(t){this.viewModel.effectiveMax=t}get effectiveMin(){return this.viewModel.effectiveMin}set effectiveMin(t){this.viewModel.effectiveMin=t}get inputFormatFunction(){return this.viewModel.inputFormatFunction}set inputFormatFunction(t){this.viewModel.inputFormatFunction=t}get inputParseFunction(){return this.viewModel.inputParseFunction}set inputParseFunction(t){this.viewModel.inputParseFunction=t}get icon(){return"caret-double-horizontal"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t,e;return null!==(t=null===(e=this.messages)||void 0===e?void 0:e.widgetLabel)&&void 0!==t?t:""}set label(t){this._overrideIfSome("label",t)}get labelFormatFunction(){return this.viewModel.labelFormatFunction}set labelFormatFunction(t){this.viewModel.labelFormatFunction=t}get labels(){return this.viewModel.labels}set layout(t){["vertical","vertical-reversed","horizontal","horizontal-reversed"].includes(t)||(t="horizontal"),this._set("layout",t)}get max(){return this.viewModel.max}set max(t){this.viewModel.max=t}get min(){return this.viewModel.min}set min(t){this.viewModel.min=t}get precision(){return this.viewModel.precision}set precision(t){this.viewModel.precision=t}get state(){const{_activeLabelInputIndex:t,_isMaxInputActive:e,_isMinInputActive:n,_dragStartInfo:i,_segmentDragStartInfo:s,disabled:o,viewModel:a}=this;return o?"disabled":null!==t||e||n?"editing":null!=i||null!=s?"dragging":a.state}get thumbsConstrained(){return this.viewModel.thumbsConstrained}set thumbsConstrained(t){this.viewModel.thumbsConstrained=t}set tickConfigs(t){this._set("tickConfigs",t),this.scheduleRender()}get values(){return this.viewModel.values}set values(t){this.viewModel.values=t}castVisibleElements(t){return{...b,...t}}render(){const{label:t}=this,e=this.classes(c.base,m.z.widget,this._isHorizontalLayout()?c.horizontalLayout:c.verticalLayout,this._isReversedLayout()?c.reversed:null,this._isDisabled()?m.z.disabled:null);return this._storeTrackDimensions(),(0,p.u)("div",{afterCreate:this._afterContainerCreate,"aria-label":t,bind:this,class:e,"touch-action":"none"},this._renderContent())}toNextStep(t){this._toStep(t,1)}toPreviousStep(t){this._toStep(t,-1)}getCurrentPosition(){var t,e;return this._positionFromValue(null!==(t=null===(e=this.values)||void 0===e?void 0:e[0])&&void 0!==t?t:0)}_renderContent(){const{max:t,min:e}=this;if(!(null==e||null==t||e>=t))return[this._renderMin(),this._renderSliderContainer(),this._renderMax()]}_renderSliderContainer(){return(0,p.u)("div",{bind:this,class:c.contentElement,key:"slider-container"},this._renderTrackElement(),this._renderTicksContainer(),this._renderExtraContentElements())}_renderTrackElement(){return(0,p.u)("div",{afterCreate:this._afterTrackCreate,afterRemoved:this._afterTrackRemoved,bind:this,class:c.trackElement,"touch-action":"none"},this._renderEffectiveSegmentElements(),this._renderSegmentElements(),this._renderAnchorElements())}_renderEffectiveSegmentElements(){var t;if(!this.trackElement||null===(t=this.values)||void 0===t||!t.length)return;const e=null!=this.effectiveMax,n=null!=this.effectiveMin;if(!e&&!n)return;const{max:i,min:s,viewModel:o}=this,a=o.getBounds(),r=[];return n&&r.push(this._renderEffectiveSegmentElement(s,a.min,!0)),e&&r.push(this._renderEffectiveSegmentElement(a.max,i,!1)),r}_renderSegmentElements(){var t;if(!this.trackElement||null===(t=this.values)||void 0===t||!t.length)return;const e=this.values.length,n=[];for(let i=0;i<=e;i++)n.push(this._renderSegmentElement(i));return n}_renderSegmentElement(t){const{_trackHeight:e,_trackWidth:n,draggableSegmentsEnabled:i,id:s,state:o}=this,a=this.values,r=this._isHorizontalLayout(),l=r?n:e,h=this.viewModel.getBounds(),u=this._positionFromValue(h.max),d=this._positionFromValue(h.min),m=t===(null===a||void 0===a?void 0:a.length)?null:t,_=0===t?null:t-1,v=null!=m,g=null!=_;let f,b;const E=[...a].sort(((t,e)=>t-e));this._isReversedLayout()?(f=g?this._positionFromValue(E[_]):d,b=v?this._positionFromValue(E[m]):u):(f=v?this._positionFromValue(E[m]):u,b=g?this._positionFromValue(E[_]):d);const x=this._applyPrecisionToPosition(100*b/l),y=(f-b)/l,P=r?"transform: translate(".concat(x,"%, 0px) scale(").concat(y,", 1);"):"transform: translate(0px, ".concat(x,"%) scale(1, ").concat(y,");"),k=this.classes(c.segmentElement,c.segmentElementIndexPrefix+t,i&&v&&g&&"disabled"!==o?c.segmentElementInteractive:null);return(0,p.u)("div",{afterCreate:this._afterSegmentCreate,afterRemoved:this._afterSegmentRemoved,bind:this,class:k,"data-max-thumb-index":m,"data-min-thumb-index":_,"data-segment-index":t,key:"".concat(s,"-segment-").concat(t),style:P,"touch-action":"none"})}_renderEffectiveSegmentElement(t,e,n){const{_trackHeight:i,_trackWidth:s,layout:o}=this,a=this._positionFromValue(t),r=this._positionFromValue(e),l=this._isHorizontalLayout(),h=l?s:i,u=this._applyPrecisionToPosition(100*a/h);let d=null;if("horizontal"===o){const t=n?h-r:r,e=a===h?0:u;d="clip-path: inset(0% ".concat(r===h?0:this._applyPrecisionToPosition(t/h*100),"% 0% ").concat(e,"%);")}else{const t=(r-a)/h;d=l?"transform: translate(".concat(u,"%, 0px) scale(").concat(t,", 1);"):"transform: translate(0px, ".concat(u,"%) scale(1, ").concat(t,");")}const m=n?c.effectiveMinSegmentElement:c.effectiveMaxSegmentElement,_=this.classes(c.segmentElement,c.effectiveSegmentElement,m);return(0,p.u)("div",{afterCreate:this._afterEffectiveSegmentCreate,afterRemoved:this._afterEffectiveSegmentRemoved,bind:this,class:_,style:d,"touch-action":"none"})}_renderAnchorElements(){const{trackElement:t,values:e}=this;if(null!==e&&void 0!==e&&e.length)return this._zIndices=e.map(((t,n)=>{const i=this._positionFromValue(t),s=this._positionToPercent(i),o=(this._isHorizontalLayout()?s>50:s<50)?-1:1;return this._zIndexOffset+(e.length+o*n)})),t&&e&&e.length?e.map(((t,e)=>this._renderAnchorElement(t,e))):null}_renderAnchorElement(t,e){const n=this._positionFromValue(t),i=this._valueFromPosition(n);if(null==i||isNaN(i))return;const{_dragStartInfo:s,_lastMovedHandleIndex:o,id:a,layout:r,visibleElements:{labels:l}}=this,h=this.values,u=s&&s.index===e,d=o===e,m=this.classes(c.anchorElement,c.anchorElementIndexPrefix+e,u?c.movingAnchorElement:null,d?c.lastMovedAnchorElement:null),_=this.labels.values[e],v=this._getStyleForAnchor(t,e,u||d),{min:f,max:b}=this.viewModel.getBoundsForValueAtIndex(e),{disabled:E,messages:x}=this,y=2===h.length?(0,g.n)(0===e?x.rangeMinimum:x.rangeMaximum,{value:t}):_,P=1===h.length?null:0===e?"".concat(a,"-handle-").concat(e+1):e===h.length-1?"".concat(a,"-handle-").concat(e-1):"".concat(a,"-handle-").concat(e-1," ").concat(a,"-handle-").concat(e+1);return(0,p.u)("div",{afterCreate:this._afterAnchorCreate,afterRemoved:this._afterAnchorRemoved,afterUpdate:this._afterAnchorUpdate,"aria-controls":P,"aria-label":x.sliderValue,"aria-labelledby":l?"".concat(a,"-label-").concat(e):null,"aria-orientation":r,"aria-valuemax":null===b||void 0===b?void 0:b.toString(),"aria-valuemin":null===f||void 0===f?void 0:f.toString(),"aria-valuenow":t.toString(),"aria-valuetext":y,bind:this,class:m,"data-thumb-index":e,"data-value":t,id:"".concat(a,"-handle-").concat(e),key:"".concat(a,"-handle-").concat(e),onkeydown:this._onAnchorKeyDown,role:"slider",style:v,tabIndex:E?-1:0,"touch-action":"none"},(0,p.u)("span",{afterCreate:this._afterThumbCreate,afterRemoved:this._afterThumbRemoved,bind:this,class:c.thumbElement,"data-thumb-index":e,"touch-action":"none"}),this.renderThumbLabel(e))}renderThumbLabel(t){const{id:e,labels:n,labelInputsEnabled:i,state:s}=this,o=this.visibleElements.labels,a=n.values[t],r=this.classes(c.labelElement,o?null:m.z.hidden,i&&"disabled"!==s?c.labelElementInteractive:null);return(0,p.u)("span",{afterCreate:this._afterLabelCreate,afterRemoved:this._afterLabelRemoved,"aria-hidden":(!o).toString(),bind:this,class:r,"data-thumb-index":t,id:"".concat(e,"-label-").concat(t),key:"".concat(e,"-label-").concat(t),role:i?"button":null,"touch-action":"none"},this._activeLabelInputIndex===t?this._renderValueInput(t):a)}_renderValueInput(t){const{disabled:e,values:n}=this;if(null==n)return;const i=n[t];return(0,p.u)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.sliderValue,bind:this,class:c.labelInput,"data-input-index":t,"data-input-type":"thumb",key:"value-input-".concat(t),onblur:this._onLabelInputBlur,onkeydown:this._onInputKeyDown,required:!0,tabIndex:e?-1:0,type:"text",value:this._formatInputValue(i,"value",t)})}_renderMax(){const{_isMaxInputActive:t,labels:e,rangeLabelInputsEnabled:n,state:i}=this,s=this.visibleElements.rangeLabels,o=this.classes(c.maxElement,{[m.z.hidden]:!s,[c.maxElementInteractive]:n&&"disabled"!==i,[c.rangeElementActive]:t});return(0,p.u)("div",{afterCreate:this._afterMaxLabelCreate,"aria-hidden":(!s).toString(),bind:this,class:o,onclick:this._onMaxLabelClick,onkeydown:this._onMaxLabelKeyDown,role:n?"button":null,tabIndex:!this.disabled&&n?0:-1},t?this._renderMaxInput():e.max)}_renderMin(){const{_isMinInputActive:t,labels:e,rangeLabelInputsEnabled:n,state:i}=this,s=this.visibleElements.rangeLabels,o=this.classes(c.minElement,{[m.z.hidden]:!s,[c.minElementInteractive]:n&&"disabled"!==i,[c.rangeElementActive]:t});return(0,p.u)("div",{afterCreate:this._afterMinLabelCreate,"aria-hidden":(!s).toString(),bind:this,class:o,onclick:this._onMinLabelClick,onkeydown:this._onMinLabelKeyDown,role:n?"button":null,tabIndex:!this.disabled&&n?0:-1},t?this._renderMinInput():e.min)}_renderMaxInput(){return(0,p.u)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.maximumValue,bind:this,class:c.rangeInput,"data-input-type":"max",onblur:this._onMaxInputBlur,onkeydown:this._onInputKeyDown,required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.max,"max")})}_renderMinInput(){return(0,p.u)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.minimumValue,bind:this,class:c.rangeInput,"data-input-type":"min",onblur:this._onMinInputBlur,onkeydown:this._onInputKeyDown,required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.min,"min")})}_renderExtraContentElements(){return(0,p.u)("div",{bind:this,class:c.extraContentElement},this.extraNodes)}_renderTicksContainer(){if(this.tickConfigs&&this.trackElement&&(0!==this._trackHeight||0!==this._trackWidth))return this.tickConfigs.map(((t,e)=>(0,p.u)("div",{class:this.classes(c.ticksContainerElement),key:"ticks-container"},this._renderTicks(t,e))))}_renderTicks(t,e){const{mode:n,values:i}=t;if(this.tickElements.at(e)||this.tickElements.add(new s.Z,e),"position"===n){const n=Array.isArray(i)?i:[i];return this._calculateTickPositions(n).map(((n,i)=>this._renderTickGroup(t,i,e,n)))}if("percent"===n&&Array.isArray(i)){var o,a;const n=null!==(o=this.min)&&void 0!==o?o:0,s=(null!==(a=this.max)&&void 0!==a?a:0)-n,r=i.map((t=>this._applyPrecisionToPosition(t/100*s+n)));return this._calculateTickPositions(r).map(((n,i)=>this._renderTickGroup(t,i,e,n)))}const r=Array.isArray(i)&&i.length?i[0]:isNaN(i)?null:i,l=this._getTickCounts(r,t);return this._calculateEquidistantTickPositions(l).map(((n,i)=>this._renderTickGroup(t,i,e,n)))}_renderTickGroup(t,e,n,i){const s="position"===t.mode?Array.isArray(t.values)?t.values[e]:t.values:this._valueFromPosition(i);if(null!=s&&!isNaN(s))return(0,p.u)("div",{afterCreate:this._afterTickGroupCreate,afterRemoved:this._afterTickGroupRemoved,bind:this,"data-config":t,"data-position":i,"data-tick-config-index":n,"data-tick-group-index":e,"data-value":s,key:"tick-group-".concat(e),onclick:this._onTickGroupClick},this._renderTickLine(t,e,n,s),t.labelsVisible?this._renderTickLabel(t,e,n,s):null)}_renderTickLine(t,e,n,i){return(0,p.u)("div",{afterCreate:this._afterTickLineCreate,"aria-valuenow":i.toString(),bind:this,class:c.tickElement,"data-config":t,"data-tick-config-index":n,"data-tick-group-index":e,"data-value":i,key:"tick-label-".concat(e),style:this._getPositionStyleForElement(i)})}_renderTickLabel(t,e,n,i){const s=t.labelFormatFunction?t.labelFormatFunction(i,"tick",e):this.viewModel.getLabelForValue(i,"tick",e);return(0,p.u)("div",{afterCreate:this._afterTickLabelCreate,"aria-label":s,"aria-valuenow":i.toString(),"aria-valuetext":s,bind:this,class:c.tickLabelElement,"data-config":t,"data-tick-config-index":n,"data-tick-group-index":e,"data-value":i,key:"tick-label-".concat(e),style:"transform: translate(-50%); ".concat(this._getPositionStyleForElement(i))},s)}_afterContainerCreate(t){this.addHandles((0,_.ib)(t,(()=>this.scheduleRender())))}_afterTrackCreate(t){this._set("trackElement",t),t.addEventListener("pointerdown",this._onTrackPointerDown),this.scheduleRender()}_afterTrackRemoved(t){t.removeEventListener("pointerdown",this._onTrackPointerDown),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp)}_afterSegmentCreate(t){this.segmentElements.add(t),t.addEventListener("pointerdown",this._onSegmentPointerDown)}_afterSegmentRemoved(t){this.segmentElements.remove(t),t.removeEventListener("pointerdown",this._onSegmentPointerDown)}_afterEffectiveSegmentCreate(t){this.effectiveSegmentElements.add(t)}_afterEffectiveSegmentRemoved(t){this.effectiveSegmentElements.remove(t)}_afterAnchorCreate(t){if(this._anchorElements.push(t),t.addEventListener("pointerdown",this._onAnchorPointerDown),this.thumbCreatedFunction){const e=x(t),n=y(t),i=this.thumbElements.at(e),s=this.labelElements.at(e)||null;this.thumbCreatedFunction(e,n,i,s)}}_afterAnchorUpdate(t){null!=this._focusedAnchorIndex&&x(t)===this._focusedAnchorIndex&&(t.focus(),this._focusedAnchorIndex=null)}_afterAnchorRemoved(t){const e=this._anchorElements.indexOf(t,0);e>-1&&this._anchorElements.splice(e,1),t.removeEventListener("pointerdown",this._onAnchorPointerDown)}_afterThumbCreate(t){this.thumbElements.add(t)}_afterThumbRemoved(t){this.thumbElements.remove(t)}_afterLabelCreate(t){this.labelElements.add(t),t.addEventListener("pointerdown",this._onLabelPointerDown),t.addEventListener("pointerup",this._onLabelPointerUp)}_afterLabelRemoved(t){this.labelElements.remove(t),t.removeEventListener("pointerdown",this._onLabelPointerDown),t.removeEventListener("pointerup",this._onLabelPointerUp)}_afterInputCreate(t){if(t.focus(),t.select(),this.inputCreatedFunction){const e=t.getAttribute("data-input-type"),n="thumb"===e?function(t){return null===t||void 0===t?void 0:t["data-input-index"]}(t):null;this.inputCreatedFunction(t,e,n)}}_afterTickLineCreate(t){const e=P(t),n=k(t),i=this.tickElements.at(e),s=i.at(n);s?s.tickElement=t:i.add({groupElement:null,tickElement:t,labelElement:null},n)}_afterTickLabelCreate(t){const e=P(t),n=k(t),i=this.tickElements.at(e),s=i.at(n);s?s.labelElement=t:i.add({groupElement:null,labelElement:t,tickElement:null},n)}_afterTickGroupRemoved(t){const e=P(t),n=this.tickElements.items[e],i=null===n||void 0===n?void 0:n.find((e=>e.groupElement===t));i&&n.remove(i)}_afterTickGroupCreate(t){const e=C(t);if(null!==e&&void 0!==e&&e.tickCreatedFunction){var n;const i=P(t),s=k(t),o=y(t),a=null===(n=this.tickElements)||void 0===n||null===(n=n.at(i))||void 0===n?void 0:n.at(s);if(a){a.groupElement=t;const n=a.tickElement||null,i=a.labelElement||null;e.tickCreatedFunction(o,n,i)}}}_afterMaxLabelCreate(t){this._set("maxLabelElement",t)}_afterMinLabelCreate(t){this._set("minLabelElement",t)}_onAnchorKeyDown(t){if(this._isDisabled()||"editing"===this.state)return;const{key:e,target:n}=t,i=this.values,s=x(n),o=this._anchorElements[s],a=i[s],r=[f.moveAnchorUp,f.moveAnchorDown,f.moveAnchorLeft,f.moveAnchorRight];if(e===f.showInput&&this.labelInputsEnabled)this._activeLabelInputIndex=s,this.notifyChange("state");else if(r.includes(e)){t.preventDefault();const{steps:n}=this,i=e===f.moveAnchorUp||e===f.moveAnchorRight?1:-1;if(null!=n)this._toStep(s,this._isReversedLayout()?-1*i:i);else{const{precision:t}=this,e=this._getPositionOfElement(o),n=this._valueFromPosition(e),a=this._isHorizontalLayout()?i:-1*i;let r;r=0===t?this._positionFromValue(n+a):1===t?this._positionFromValue(n+.1*a):e+a,this._toPosition(s,r)}const r=this.values[s];a!==r&&this._emitThumbChangeEvent({index:s,oldValue:a,value:r})}else if(e===f.moveAnchorToMax||e===f.moveAnchorToMin){t.preventDefault();const{min:n,max:i}=this._getAnchorBoundsInPixels(s),o=this._isPositionInverted()?e===f.moveAnchorToMax?n:i:e===f.moveAnchorToMin?n:i;this._toPosition(s,o);const r=this.values[s];a!==r&&this._emitThumbChangeEvent({index:s,oldValue:a,value:r})}}_onAnchorPointerDown(t){if(this._isDisabled())return;const{target:e,clientX:n,clientY:i}=t,s=x(e);null!=s&&(t.preventDefault(),this._anchorElements[s]&&this._anchorElements[s].focus(),this._storeTrackDimensions(),this._dragStartInfo={clientX:n,clientY:i,index:s,position:this._getPositionOfElement(this._anchorElements[s])},this.notifyChange("state"),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}_onAnchorPointerMove(t){if("editing"===this.state||!this._dragStartInfo)return;t.preventDefault();const{values:e,_anchorElements:n,_dragged:i,_dragStartInfo:s,_dragStartInfo:{index:o,position:a}}=this,{clientX:r,clientY:l}=t,h=i?"drag":"start",u=n[o],c=this._getPositionOfElement(u),d=this._applyPrecisionToPosition(this._isHorizontalLayout()?a+r-s.clientX:a+l-s.clientY);if(c===d)return;const m=e[o];this._dragged=!0,this._toPosition(o,d);const _=this.values[o];i?m!==_&&this._emitThumbDragEvent({index:o,state:h,value:_}):this._emitThumbDragEvent({index:o,state:h,value:m})}_onAnchorPointerUp(t){if(document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),!this._dragStartInfo)return;t.preventDefault();const{index:e}=this._dragStartInfo,n=this._dragged,i=this.values[e];this._dragged=!1,this._dragStartInfo=null,this._lastMovedHandleIndex=e,this.notifyChange("state"),n?this._emitThumbDragEvent({index:e,state:"stop",value:i}):(this.scheduleRender(),"editing"!==this.state&&this._emitThumbClickEvent({index:e,value:i}))}_onTrackPointerDown(t){const{_dragStartInfo:e,snapOnClickEnabled:n,state:i,values:s}=this;if(this._isDisabled()||"editing"===i||e)return;if(document.addEventListener("pointermove",this._onTrackPointerMove),document.addEventListener("pointerup",this._onTrackPointerUp),!n||null===s||void 0===s||!s.length)return;const{steps:o}=this,{clientX:a,clientY:r}=t,l=this._getCursorPositionFromEvent(t),h=this._valueFromPosition(l),u=this._getIndexOfNearestValue(h),c=s[u],d=s.some(((t,e)=>t===c&&e!==u))&&h>c?s.lastIndexOf(c):u;if(null==d)return;const m=s[d],_=null!=o?this._calculateNearestStepPosition(l):l;this._toPosition(d,_),this._dragged=!0,this._dragStartInfo={clientX:a,clientY:r,index:d,position:_},this._focusedAnchorIndex=d,this.notifyChange("state"),this._emitThumbDragEvent({index:d,state:"start",value:m});const v=this.values[d];m!==v&&this._emitThumbDragEvent({index:d,state:"drag",value:v}),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove)}_onTrackPointerMove(t){t.preventDefault(),this._dragged=!0}_onTrackPointerUp(t){if(t.preventDefault(),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp),this.snapOnClickEnabled||(this._dragged=!1),!this._dragged){const e=this._getCursorPositionFromEvent(t),n=this._valueFromPosition(e);this._emitTrackClickEvent({value:n})}}_onSegmentPointerDown(t){var e,n;t.preventDefault();const i=t.target,s=function(t){return null===t||void 0===t?void 0:t["data-segment-index"]}(i),o=function(t){return null===t||void 0===t?void 0:t["data-min-thumb-index"]}(i),a=function(t){return null===t||void 0===t?void 0:t["data-max-thumb-index"]}(i);if(this._isDisabled()||null==o||null==a)return;t.stopPropagation(),this._storeTrackDimensions(),document.addEventListener("pointerup",this._onSegmentPointerUp);const r=this._getAnchorDetails(o),l=this._getAnchorDetails(a);this.syncedSegmentsEnabled?(this.segmentElements.forEach((t=>t.classList.add(c.segmentElementActive))),this._anchorElements.forEach((t=>t.classList.add(c.anchorElementActive)))):(this.segmentElements.at(s).classList.add(c.segmentElementActive),null!==(e=this._anchorElements[r.index])&&void 0!==e&&e.classList.add(c.anchorElementActive),null===(n=this._anchorElements[l.index])||void 0===n||n.classList.add(c.anchorElementActive)),this._segmentDragStartInfo={cursorPosition:this._getCursorPositionFromEvent(t),index:s,details:this._normalizeSegmentDetails({min:r,max:l})},this.draggableSegmentsEnabled&&(document.addEventListener("pointermove",this._onSegmentPointerMove),this.notifyChange("state"),this._emitSegmentDragEvent({index:s,state:"start",thumbIndices:[o,a]}))}_onSegmentPointerMove(t){if(!this._segmentDragStartInfo)return;t.preventDefault();const{_trackHeight:e,_trackWidth:n,_segmentDragStartInfo:{index:i,cursorPosition:s,details:{min:o,max:a}}}=this,{index:r,position:l,value:h}=o,{index:u,position:c,value:d}=a;this._dragged=!0;const m=this._getCursorPositionFromEvent(t);if(m===s)return;const _=this._positionToPercent(s),v=this._positionToPercent(m)-_,p=this._positionToPercent(l)+v,g=this._positionToPercent(c)+v,{min:f}=this._getAnchorBoundsAsPercents(r),{max:b}=this._getAnchorBoundsAsPercents(u);let E=!1,x=!1;if(p<f?E=!0:g>b&&(x=!0),E){const{min:t,max:e}=this.viewModel.getBoundsForValueAtIndex(r),n=this._isPositionInverted()?e:t,i=n,s=d+(n-h),o=s-this.values[u];return void(this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(o):this._updateAnchorValues([r,u],[i,s]))}if(x){const{min:t,max:e}=this.viewModel.getBoundsForValueAtIndex(u),n=this._isPositionInverted()?t:e,i=n,s=h+(n-d),o=s-this.values[r];return void(this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(o):this._updateAnchorValues([r,u],[s,i]))}const y=this._isHorizontalLayout()?n:e,P=g/100*y,k=p/100*y,C=this.values,I=[C[r],C[u]],M=this._getValueForAnchorAtPosition(r,k),L=this._getValueForAnchorAtPosition(u,P);this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(M-I[0]):this._updateAnchorValues([r,u],[M,L]),[this.values[r],this.values[u]].every(((t,e)=>t===I[e]))||this._emitSegmentDragEvent({index:i,state:"drag",thumbIndices:[r,u]})}_onSegmentPointerUp(t){if(t.preventDefault(),document.removeEventListener("pointerup",this._onSegmentPointerUp),document.removeEventListener("pointermove",this._onSegmentPointerMove),!this._segmentDragStartInfo)return;const{_dragged:e}=this,n=this.min,i=this.max,s=this.values,{index:o,details:{min:{index:a},max:{index:r}}}=this._segmentDragStartInfo;if(this.segmentElements.forEach((t=>t.classList.remove(c.segmentElementActive))),this._anchorElements.forEach((t=>t.classList.remove(c.anchorElementActive))),this.draggableSegmentsEnabled){const t=i-n,e=s[a],l=s[r];this._lastMovedHandleIndex=e===l?e>t/2?a:r:null,this._dragged=!1,this._segmentDragStartInfo=null,this.notifyChange("state"),this._emitSegmentDragEvent({index:o,state:"stop",thumbIndices:[a,r]})}if(!e){const e=this._getCursorPositionFromEvent(t),n=this._valueFromPosition(e);this._emitSegmentClickEvent({index:o,value:n,thumbIndices:[a,r]})}}_onTickGroupClick(t){const e=t.target;if(C(e)){const t=P(e),n=k(e),i=y(e);this._emitTickClickEvent({configIndex:t,groupIndex:n,value:i})}}_storeTrackDimensions(){if(this.trackElement){const t=this._getDimensions(this.trackElement);this._trackHeight=this._applyPrecisionToPosition(t.height),this._trackWidth=this._applyPrecisionToPosition(t.width)}}_onLabelPointerDown(){this._isDisabled()||(this._dragged=!1,document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}_onLabelPointerMove(){this._isDisabled()||(this._dragged=!0)}_onLabelPointerUp(t){if(this._isDisabled())return;const e=x(t.target);this.labelInputsEnabled&&!this._dragged&&null!=e&&(this._activeLabelInputIndex=e),this._dragged=!1,this.notifyChange("state"),document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove)}_onLabelInputBlur(t){const{_activeLabelInputIndex:e,values:n,viewModel:i}=this,s=t.target.value;if(this._activeLabelInputIndex=null,this.notifyChange("state"),!s||null==e||null==n)return;const o=this._parseInputValue(s,"value",e),a=n[e],{min:r,max:l}=this.viewModel.getBoundsForValueAtIndex(e);if(o<r||o>l)return;i.setValue(e,o);const h=this.values[e];a!==h&&this._emitThumbChangeEvent({index:e,oldValue:a,value:h})}_onInputKeyDown(t){if(this._isDisabled())return;const{key:e,target:n}=t,{hideInput1:i,hideInput2:s,hideInput3:o}=f,{_activeLabelInputIndex:a,_anchorElements:r}=this,l=n;if(e===i||e===s||e===o){var h;t.stopPropagation();const e=a;l.blur(),null!=e?r[e].focus():null===(h=l.parentElement)||void 0===h||h.focus()}}_onMaxLabelClick(){this._isDisabled()||(this._emitMaxRangeLabelClickEvent({type:"max-click",value:this.max}),this.rangeLabelInputsEnabled&&(this._isMaxInputActive=!0,this.notifyChange("state")))}_onMaxLabelKeyDown(t){let{key:e}=t;this._isDisabled()||e!==f.showInput||(this._isMaxInputActive=!0,this.notifyChange("state"))}_onMaxInputBlur(t){const e=t.target.value;if(this._isMaxInputActive=!1,this.notifyChange("state"),!e)return;const n=this.max,i=this._parseInputValue(e,"max");i<=this.min||(this.viewModel.set("max",i),this.max!==n&&this._emitMaxChangeEvent({oldValue:n,value:this.max}))}_onMinLabelClick(){this._isDisabled()||(this._emitMinRangeLabelClickEvent({type:"min-click",value:this.min}),this.rangeLabelInputsEnabled&&(this._isMinInputActive=!0,this.notifyChange("state")))}_onMinLabelKeyDown(t){let{key:e}=t;this._isDisabled()||e!==f.showInput||(this._isMinInputActive=!0,this.notifyChange("state"))}_onMinInputBlur(t){const e=t.target.value;if(this._isMinInputActive=!1,this.notifyChange("state"),!e)return;const n=this.min,i=this._parseInputValue(e,"min");i>=this.max||(this.viewModel.set("min",i),this.min!==n&&this._emitMinChangeEvent({oldValue:n,value:this.min}))}_isDisabled(){return this.disabled||"disabled"===this.state}_positionFromValue(t){var e,n;const{_trackHeight:i,_trackWidth:s}=this,o=null!==(e=this.min)&&void 0!==e?e:0,a=null!==(n=this.max)&&void 0!==n?n:0,r=a-o;if(0===r||null==t)return 0;const l=this._isHorizontalLayout();let h=l?this._applyPrecisionToPosition(s*(t-o)/r):this._applyPrecisionToPosition(i*(a-t)/r);return this._isReversedLayout()&&(h=l?s-h:i-h),h}_valueFromPosition(t){var e,n;const{_trackHeight:i,_trackWidth:s,precision:o}=this,a=null!==(e=this.min)&&void 0!==e?e:0,r=null!==(n=this.max)&&void 0!==n?n:0,l=r-a;let h=this._isHorizontalLayout()?t*l/s+a:l*(1e3-t/i*1e3)/1e3+a;return this._isReversedLayout()&&(h=r+a-h),parseFloat(h.toFixed(o))}_positionToPercent(t){const{_trackHeight:e,_trackWidth:n}=this,i=100*t/(this._isHorizontalLayout()?n:e);return this._applyPrecisionToPosition(i)}_applyPrecisionToPosition(t){return parseFloat(t.toFixed(this._positionPrecision))}_isPositionInverted(){const{layout:t}=this;return"horizontal-reversed"===t||"vertical"===t}_isHorizontalLayout(){return this.layout.includes("horizontal")}_isReversedLayout(){return this.layout.includes("reversed")}_normalizeSegmentDetails(t){if(this._isPositionInverted()){const{min:e,max:n}=t;return{min:n,max:e}}return t}_parseInputValue(t,e,n){return this.inputParseFunction?this.inputParseFunction(t,e,n):this.viewModel.defaultInputParseFunction(t)}_formatInputValue(t,e,n){return this.inputFormatFunction?this.inputFormatFunction(t,e,n):this.viewModel.defaultInputFormatFunction(t)}_getAnchorDetails(t){const e=this.values,n=[...e].sort(((t,e)=>t-e))[t],i=e.indexOf(n);return{index:i,position:this._getPositionOfElement(this._anchorElements[i]),value:n}}_updateAnchorStyle(t,e){const n=this._anchorElements[t];n&&(this._isHorizontalLayout()?n.style.left="".concat(e):n.style.top="".concat(e))}_getStyleForAnchor(t,e,n){var i;const s=this._getPositionStyleForElement(t);if(1===(null===(i=this.values)||void 0===i?void 0:i.length))return"".concat(s);const o=this._zIndices[e];return"".concat(s,"; z-index: ").concat(n?this._zIndexOffset+o:o)}_getPositionStyleForElement(t){const e=this._positionFromValue(t),n=this._positionToPercent(e);return"".concat(this._isHorizontalLayout()?"left":"top",": ").concat(n,"%")}_getPositionOfElement(t){const e=this._getDimensions(t.offsetParent),n=this._getDimensions(t);return this._isHorizontalLayout()?this._applyPrecisionToPosition(n.left-e.left):this._applyPrecisionToPosition(n.top-e.top)}_updateAnchorValues(t,e){t.forEach(((t,n)=>this._toValue(t,e[n])))}_updateAnchorValuesByDifference(t){const{min:e,max:n,values:i}=this;null===i||void 0===i||i.forEach(((i,s)=>this._toValue(s,Math.max(Math.min(i+t,n),e))))}_toValue(t,e){null!=this.steps&&(e=this._getStepValues()[this._getIndexOfNearestStepValue(e)]),this._updateAnchorStyle(t,this._getPositionStyleForElement(e)),this.viewModel.setValue(t,e)}_toPosition(t,e){const n=null!=this.steps?this._getStepValueForAnchorAtPosition(t,e):this._getValueForAnchorAtPosition(t,e);this._updateAnchorStyle(t,this._getPositionStyleForElement(n)),this.viewModel.setValue(t,n)}_getValueForAnchorAtPosition(t,e){const{min:n,max:i}=this._getAnchorBoundsInPixels(t),{min:s,max:o}=this.viewModel.getBoundsForValueAtIndex(t);let a,r,l=null;return this._isPositionInverted()?(a=s,r=o):(a=o,r=s),l=e>i?a:e<n?r:this._valueFromPosition(e),l>o?l=o:l<s&&(l=s),l}_getStepValueForAnchorAtPosition(t,e){const n=this._getStepValues(),i=this._calculateNearestStepPosition(e),s=this._getValueForAnchorAtPosition(t,i);return n[this._getIndexOfNearestStepValue(s)]}_getAnchorBoundsAsPercents(t){const{min:e,max:n}=this._getAnchorBoundsInPixels(t);return{min:this._positionToPercent(e),max:this._positionToPercent(n)}}_getAnchorBoundsInPixels(t){const{_anchorElements:e,_trackHeight:n,_trackWidth:i,effectiveMax:s,effectiveMin:o,thumbsConstrained:a}=this,r=e[t-1],l=e[t+1],h=this._isHorizontalLayout()?i:n;let u,c;return this._isPositionInverted()?(u=null!=o?this._positionFromValue(o):h,c=null!=s?this._positionFromValue(s):0):(u=null!=s?this._positionFromValue(s):h,c=null!=o?this._positionFromValue(o):0),a?this._isPositionInverted()?{max:r?this._getPositionOfElement(r):u,min:l?this._getPositionOfElement(l):c}:{max:l?this._getPositionOfElement(l):u,min:r?this._getPositionOfElement(r):c}:{max:u,min:c}}_getIndexOfNearestValue(t){const e=this.values;return e.indexOf(e.reduce(((e,n)=>Math.abs(n-t)<Math.abs(e-t)?n:e)))}_getCursorPositionFromEvent(t){const e=this._getDimensions(this.trackElement);return this._isHorizontalLayout()?this._applyPrecisionToPosition(t.clientX-e.left):this._applyPrecisionToPosition(t.clientY-e.top)}_getStepValues(){const{steps:t}=this;if(Array.isArray(t))return t;const{max:e,min:n}=this;if(null==n||null==e||null==t)return[];const i=Math.ceil((e-n)/t),s=[];for(let o=0;o<=i;o++){const i=n+t*o;s.push(i>e?e:i)}return s}_toStep(t,e){const n=this.values[t],i=this._getStepValues(),s=i.indexOf(n);let o=null;if(s>-1){let n=i[s+e];isNaN(n)&&(n=i[s]);const a=this._positionFromValue(n);o=this._getStepValueForAnchorAtPosition(t,a)}else o=i[this._getIndexOfNearestStepValue(n)+e];this.viewModel.setValue(t,o)}_getIndexOfNearestStepValue(t){const{steps:e}=this;if(null==e)return null;const n=this._getStepValues(),i=n.reduce(((e,n)=>Math.abs(n-t)<Math.abs(e-t)?n:e));return n.indexOf(i)}_calculateNearestStepPosition(t){const e=this._valueFromPosition(t),n=this._getIndexOfNearestStepValue(e),i=this._getStepValues();return this._positionFromValue(i[n])}_getTickCounts(t,e){const{mode:n}=e;return"count"===n||"position"===n?t||0:"percent"===n&&100/t||0}_calculateTickPositions(t){return t.map((t=>this._positionFromValue(t)))}_calculateEquidistantTickPositions(t){const{_trackWidth:e,_trackHeight:n}=this,i=this._isHorizontalLayout()?e:n,s=i/(t-1),o=[];if(1===t)return[i/2];for(let a=0;a<t;a++){const t=a*s;t<=i&&o.push(t)}return o}_getDimensions(t){try{return(0,o.O3)(t),t.getBoundingClientRect()}catch(e){if("object"==typeof e&&null!==e)return new DOMRect(0,0,0,0);throw e}}_emitTrackClickEvent(t){this.emit("track-click",{...t,type:"track-click"})}_emitTickClickEvent(t){this.emit("tick-click",{...t,type:"tick-click"})}_emitMaxChangeEvent(t){this.emit("max-change",{...t,type:"max-change"})}_emitMinChangeEvent(t){this.emit("min-change",{...t,type:"min-change"})}_emitThumbChangeEvent(t){this.emit("thumb-change",{...t,type:"thumb-change"})}_emitThumbClickEvent(t){this.emit("thumb-click",{...t,type:"thumb-click"})}_emitThumbDragEvent(t){this.emit("thumb-drag",{...t,type:"thumb-drag"})}_emitSegmentClickEvent(t){this.emit("segment-click",{...t,type:"segment-click"})}_emitSegmentDragEvent(t){this.emit("segment-drag",{...t,type:"segment-drag"})}_emitMinRangeLabelClickEvent(t){this.emit("min-click",t)}_emitMaxRangeLabelClickEvent(t){this.emit("min-click",t)}};function x(t){return null===t||void 0===t?void 0:t["data-thumb-index"]}function y(t){return null===t||void 0===t?void 0:t["data-value"]}function P(t){return null===t||void 0===t?void 0:t["data-tick-config-index"]}function k(t){return null===t||void 0===t?void 0:t["data-tick-group-index"]}function C(t){return null===t||void 0===t?void 0:t["data-config"]}(0,i._)([(0,a.Cb)()],E.prototype,"disabled",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"draggableSegmentsEnabled",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"effectiveMax",null),(0,i._)([(0,a.Cb)()],E.prototype,"effectiveMin",null),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"effectiveSegmentElements",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"extraNodes",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"inputCreatedFunction",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"inputFormatFunction",null),(0,i._)([(0,a.Cb)()],E.prototype,"inputParseFunction",null),(0,i._)([(0,a.Cb)()],E.prototype,"icon",null),(0,i._)([(0,a.Cb)()],E.prototype,"label",null),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"labelElements",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"labelInputsEnabled",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"labelFormatFunction",null),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"labels",null),(0,i._)([(0,a.Cb)({value:"horizontal"})],E.prototype,"layout",null),(0,i._)([(0,a.Cb)()],E.prototype,"max",null),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"maxLabelElement",void 0),(0,i._)([(0,a.Cb)(),(0,v.H)("esri/widgets/Slider/t9n/Slider")],E.prototype,"messages",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"min",null),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"minLabelElement",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"precision",null),(0,i._)([(0,a.Cb)()],E.prototype,"rangeLabelInputsEnabled",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"segmentElements",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"snapOnClickEnabled",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"state",null),(0,i._)([(0,a.Cb)()],E.prototype,"steps",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"syncedSegmentsEnabled",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"thumbsConstrained",null),(0,i._)([(0,a.Cb)()],E.prototype,"thumbCreatedFunction",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"thumbElements",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"tickConfigs",null),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"tickElements",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],E.prototype,"trackElement",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"values",null),(0,i._)([(0,a.Cb)()],E.prototype,"viewModel",void 0),(0,i._)([(0,a.Cb)()],E.prototype,"visibleElements",void 0),(0,i._)([(0,r.p)("visibleElements")],E.prototype,"castVisibleElements",null),E=(0,i._)([(0,l.j)("esri.widgets.Slider")],E);const I=E},84908:(t,e,n)=>{n.d(e,{Z:()=>u});var i=n(27366),s=n(7138),o=n(10064),a=n(32718),r=n(49861),l=(n(93169),n(84936),n(69912));let h=class extends s.default{constructor(t){super(t),this.precision=4,this.thumbsConstrained=!0}set effectiveMax(t){this.setEffectiveMax(t)}set effectiveMin(t){this.setEffectiveMin(t)}set labelFormatFunction(t){this._set("labelFormatFunction",t)}set inputFormatFunction(t){this._set("inputFormatFunction",t)}set inputParseFunction(t){this._set("inputParseFunction",t)}get labels(){const{max:t,min:e,values:n}=this,i=null!==n&&void 0!==n&&n.length?n.map(((t,e)=>this.getLabelForValue(t,"value",e))):[];return{max:this.getLabelForValue(t,"max"),min:this.getLabelForValue(e,"min"),values:i}}set max(t){this.setMax(t)}set min(t){this.setMin(t)}get state(){const{max:t,min:e}=this;return null!=t&&null!=e&&t>e?"ready":"disabled"}set values(t){const{max:e,min:n}=this,i=this.values;i&&t&&i.length===t.length&&i.every(((e,n)=>e===t[n]))||(this._set("values",null),null!==t&&void 0!==t&&t.length&&(null!=n&&t.some((t=>t<n))&&(this.min=Math.min(...t)),null!=e&&t.some((t=>t>e))&&(this.max=Math.max(...t))),this._set("values",t))}toPrecision(t){return parseFloat(t.toFixed(this.precision))}defaultLabelFormatFunction(t){const{max:e,min:n,precision:i}=this,s=null!=e&&null!=n&&e-n>10?2:i;return parseFloat(t.toFixed(s)).toString()}defaultInputFormatFunction(t){return t.toString()}defaultInputParseFunction(t){return parseFloat(t)}getBounds(){const{effectiveMax:t,effectiveMin:e,max:n,min:i}=this;return{min:null!=e&&null!=i?Math.max(i,e):i,max:null!=t&&null!=n?Math.min(n,t):n}}getBoundsForValueAtIndex(t){const{thumbsConstrained:e,values:n}=this,{min:i,max:s}=this.getBounds();if(e&&n){const e=t-1,o=t+1;return{min:null!=n[e]?n[e]:i,max:null!=n[o]?n[o]:s}}return{min:i,max:s}}getLabelForValue(t,e,n){return null==t?null:this.labelFormatFunction?this.labelFormatFunction(t,e,n):this.defaultLabelFormatFunction(t)}setMax(t){const{max:e,values:n}=this;if(null==t)return void this._set("max",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'max' is NaN.");const i=this.toPrecision(t);if(e!==i&&(this._set("max",i),null!==n&&void 0!==n&&n.length))for(let s=0;s<n.length;s++)i<n[s]&&this.setValue(s,i)}setMin(t){const{min:e,values:n}=this;if(null==t)return void this._set("min",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'min' is NaN.");const i=this.toPrecision(t);if(e!==i&&(this._set("min",i),null!==n&&void 0!==n&&n.length))for(let s=0;s<n.length;s++)i>n[s]&&this.setValue(s,i)}setEffectiveMax(t){if(null==t)return void this._set("effectiveMax",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMax' is NaN.");const e=this.toPrecision(t);this.effectiveMax!==e&&this._set("effectiveMax",this._applyBoundsToValue(e))}setEffectiveMin(t){if(null==t)return void this._set("effectiveMin",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMin' is NaN.");const e=this.toPrecision(t);this.effectiveMin!==e&&this._set("effectiveMin",this._applyBoundsToValue(e))}setValue(t,e){if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is NaN.");const{values:n}=this;if(null==n)return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is null.");const i=n[t],s=this.toPrecision(e);if(i===s)return;const o=[...n];o[t]=s,this._set("values",o),this.notifyChange("labels")}_applyBoundsToValue(t){const{max:e,min:n}=this;return null!=n&&t<n?n:null!=e&&t>e?e:t}_logError(t,e,n){a.Z.getLogger(this).error(new o.Z(t,e,n))}};(0,i._)([(0,r.Cb)()],h.prototype,"effectiveMax",null),(0,i._)([(0,r.Cb)()],h.prototype,"effectiveMin",null),(0,i._)([(0,r.Cb)()],h.prototype,"labelFormatFunction",null),(0,i._)([(0,r.Cb)()],h.prototype,"inputFormatFunction",null),(0,i._)([(0,r.Cb)()],h.prototype,"inputParseFunction",null),(0,i._)([(0,r.Cb)({readOnly:!0})],h.prototype,"labels",null),(0,i._)([(0,r.Cb)()],h.prototype,"max",null),(0,i._)([(0,r.Cb)()],h.prototype,"min",null),(0,i._)([(0,r.Cb)()],h.prototype,"precision",void 0),(0,i._)([(0,r.Cb)({readOnly:!0})],h.prototype,"state",null),(0,i._)([(0,r.Cb)()],h.prototype,"thumbsConstrained",void 0),(0,i._)([(0,r.Cb)()],h.prototype,"values",null),h=(0,i._)([(0,l.j)("esri.widgets.Slider.SliderViewModel")],h);const u=h}}]);
//# sourceMappingURL=88350.b7bc1a29.chunk.js.map