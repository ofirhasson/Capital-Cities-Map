/*! For license information please see 12535.76953101.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[12535],{12535:(e,i,n)=>{n.r(i),n.d(i,{arcgis_version_management_version_item:()=>s,arcgis_version_management_version_list:()=>r});var t=n(62042);const s=class{constructor(e){(0,t.r)(this,e),this.arcgisManageVersion=(0,t.c)(this,"arcgisManageVersion",7),this.versionItemElementProps=void 0}render(){const{versionItemElementProps:{currentUser:e,currentVersionIdentifier:i,hasAdvEditingUte:n,isVersioningApiAvailable:s,serviceUrl:r,strings:{actions:o},versionInfo:a}}=this,c=a.versionIdentifier.name,l=c.substring(c.lastIndexOf(".")+1),h=c.substring(0,c.lastIndexOf(".")).toUpperCase(),d=a.versionIdentifier.guid,g="actionSwitchToVersion_".concat(d),f=h.toUpperCase()===e.toUpperCase()&&s&&n,v=i.guid===a.versionIdentifier.guid,p=(0,t.h)("calcite-action",{key:"2f6e3eeea7fc7736a1199a29668894dd80dac94a",disabled:v,id:g,icon:"code-branch",text:"",onClick:()=>{this.arcgisManageVersion.emit({actionType:"changeVersion",serviceUrl:r,versionInfo:a})},slot:"actions-start"}),u=v?void 0:(0,t.h)("calcite-tooltip",{"overlay-positioning":"fixed",referenceElement:g},(0,t.h)("span",null,o.switchToVersion));return(0,t.h)("calcite-list-item",{key:"74b8319a683737aaaf8cfc5f06147eaa401195a6",description:h,label:l,selected:!1,value:d},p,u,(0,t.h)("calcite-action-menu",{key:"535784b416984e07bbfc44a275dfc5c81fb55daf","overlay-positioning":"fixed",slot:"actions-end",label:""},(0,t.h)("calcite-action",{key:"5e89410767d43ab3ce8a6e3ac6ef5d2db5542ea7",disabled:v,icon:"code-branch",onClick:()=>{this.arcgisManageVersion.emit({actionType:"changeVersion",serviceUrl:r,versionInfo:a})},scale:"s",text:o.switchToVersion,textEnabled:!0}),(0,t.h)("calcite-action",{key:"cf3ab694540fb02bcfa7c5ef9557fcb6a93746c1",disabled:!f||v,icon:"code-branch-edit",onClick:()=>{this.arcgisManageVersion.emit({actionType:"editVersion",serviceUrl:r,versionInfo:a})},scale:"s",text:o.editVersion,textEnabled:!0}),(0,t.h)("calcite-action",{key:"bb646b907dbbc62283a15295a265912ba45d73a4",disabled:!f||f&&v,icon:"trash",onClick:()=>{this.arcgisManageVersion.emit({actionType:"deleteVersion",serviceUrl:r,versionInfo:a})},scale:"s",text:o.deleteVersion,textEnabled:!0})))}get el(){return(0,t.g)(this)}},r=class{constructor(e){(0,t.r)(this,e),this.arcgisNewVersion=(0,t.c)(this,"arcgisNewVersion",7),this.arcgisGetVersions=(0,t.c)(this,"arcgisGetVersions",7),this.arcgisManageVersion=(0,t.c)(this,"arcgisManageVersion",7),this._handleFilterChange=()=>{const{versionListElementProps:{versionInfos:e}}=this,i=this._filterInputElement.value.toUpperCase();this._filteredVersionInfos=""===i?e:e.filter((e=>e.versionIdentifier.name.toUpperCase().includes(i)||e.versionIdentifier.guid.toUpperCase().includes(i))),this._filteredVersionInfos.length&&(this.currentPage=1)},this._handleNoticeClosed=()=>{this.versionListElementProps={...this.versionListElementProps,executionError:void 0}},this._handlePaginationChange=e=>{this.currentPage=e.target.startItem},this.currentPage=1,this.versionListElementProps=void 0,this._filteredVersionInfos=void 0}propertiesChangeHandler(e,i){i.versionInfos!==e.versionInfos&&(this._filteredVersionInfos=this.versionListElementProps.versionInfos,this._filterInputElement&&this._handleFilterChange())}componentWillLoad(){this._filteredVersionInfos=this.versionListElementProps.versionInfos}componentDidRender(){var e;null===(e=this._filterInputElement)||void 0===e||e.setFocus()}render(){const{currentPage:e,versionListElementProps:{closable:i,currentUser:n,currentVersionIdentifier:s,executionError:r,hasAdvEditingUte:o,heading:a,isVersioningApiAvailable:c,pageSize:l,serviceName:h,serviceUrl:d,state:g,strings:{headers:f},strings:v,versionInfos:p}}=this,u=(0,t.h)("calcite-block",{heading:f.currentVersion,description:s.name,overlayPositioning:"fixed"}),V=(0,t.h)("calcite-action",{id:"actionRefreshVersions",icon:"refresh",text:"",onClick:()=>{this.arcgisGetVersions.emit({serviceUrl:d})},slot:"header-actions-end"},(0,t.h)("calcite-tooltip",{"overlay-positioning":"fixed",referenceElement:"actionRefreshVersions"},(0,t.h)("span",null,v.actions.refreshVersions)));this._paginatedVersionInfos=this._filteredVersionInfos.length>l?this._paginate(this._filteredVersionInfos,l,e):this._filteredVersionInfos;const m=this._filteredVersionInfos.length>l?(0,t.h)("calcite-pagination",{onCalcitePaginationChange:this._handlePaginationChange,pageSize:1,startItem:e,totalItems:Math.ceil(this._filteredVersionInfos.length/l)}):void 0,I=this._paginate(this._paginatedVersionInfos,l,1).map((e=>{const i={currentUser:n,currentVersionIdentifier:s,isCurrentVersionCard:!1,hasAdvEditingUte:o,isVersioningApiAvailable:c,serviceUrl:d,strings:v,versionInfo:e};return(0,t.h)("arcgis-version-management-version-item",{versionItemElementProps:i})})),b=p.length>l?(0,t.h)("calcite-block",{heading:"",open:!0},(0,t.h)("calcite-input-text",{ref:e=>{this._filterInputElement=e},clearable:!0,icon:"search",onCalciteInputTextInput:this._handleFilterChange,placeholder:v.actions.searchVersions})):void 0,_=(0,t.h)("calcite-list",null,I),E=c&&o?(0,t.h)("calcite-fab",{appearance:"outline-fill",slot:"fab",textEnabled:!0,text:v.actions.newVersion,onClick:()=>{this.arcgisNewVersion.emit({serviceUrl:d})}}):void 0,C=r?(0,t.h)("calcite-notice",{onCalciteNoticeClose:this._handleNoticeClosed,class:"notice",closable:!0,kind:"warning",open:!0,scale:"s",slot:"footer",width:"full"},(0,t.h)("div",{slot:"message"},this._getExecutionError(r))):void 0;return(0,t.h)("calcite-flow-item",{closable:i,description:h,heading:a},(0,t.h)("calcite-panel",{loading:"executing"===g},u,(0,t.h)("calcite-panel",{heading:this._filteredVersionInfos.length?"".concat(v.headers.manageVersions," (").concat(this._filteredVersionInfos.length,")"):v.headers.manageVersions},V,b,_,E),m,C))}_getExecutionError(e){const{versionListElementProps:{strings:{executionErrors:i}}}=this;switch(e){case"no-advanced-editing-user-type-extension":return i.noAdvancedEditingUserTypeExtension;case"no-feature-service-found":return i.noFeatureServiceFound;case"no-valid-enterprise-version":return i.notValidEnterpriseVersion;case"no-valid-version-name":return i.invalidVersionName;default:return e}}_paginate(e,i,n){return e.slice((n-1)*i,n*i)}get el(){return(0,t.g)(this)}static get watchers(){return{versionListElementProps:["propertiesChangeHandler"]}}}}}]);
//# sourceMappingURL=12535.76953101.chunk.js.map