"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[29734],{84112:(e,t,l)=>{l.d(t,{M:()=>i});const i={absolute:"absolute-direction",relative:"relative-direction"}},69735:(e,t,l)=>{l.d(t,{Z:()=>v});var i=l(27366),n=l(80987),s=l(91505),o=l(94172),a=l(49861),r=(l(93169),l(32718),l(84936),l(69912)),d=l(89500),c=l(9309);const p="view",u="view-layers",h="map-layers",b="layer-views",g="layer-list-mode",y=n.Z.ofType(d.Z);let _=class extends s.Z.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new y,this.view=null}initialize(){this.addHandles([(0,o.watch)((()=>{var e;return!0===(null===(e=this.view)||void 0===e?void 0:e.ready)}),(()=>this._viewHandles()),o.initial),(0,o.watch)((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled]),(()=>this._recompileList()))],p)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return null!==e&&void 0!==e&&e.ready?"ready":e?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten((e=>e.children)).length}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,l,i){var n;const s=null===e||void 0===e?void 0:e.layer;if(!s||"subtype-sublayer"===s.type||"sublayer"===s.type)return;const o=null===(n=this.view)||void 0===n||null===(n=n.map)||void 0===n?void 0:n.layers,a=t?(0,c.Hh)(t):o,r=l?(0,c.Hh)(l):o;if(!a||!r)return;const{operationalItems:d}=this,p=(null===t||void 0===t?void 0:t.children)||d,u=(null===l||void 0===l?void 0:l.children)||d,h=r.length-i;e.parent=l||null,p.remove(e),a.remove(s),u.includes(e)||u.add(e,h),r.includes(s)||r.add(s,h),this._compileList()}_createLayerViewHandles(e){this.removeHandles(b),this._compileList(),e&&this.addHandles(e.on("change",(()=>this._compileList())),b)}_createMapLayerHandles(e){this.removeHandles(h),this._compileList(),e&&this.addHandles(e.on("change",(()=>this._compileList())),h)}_createListItem(e){const{view:t,listItemCreatedFunction:l,checkPublishStatusEnabled:i,listModeDisabled:n}=this;return new d.Z({checkPublishStatusEnabled:i,listModeDisabled:n,layer:e,listItemCreatedFunction:l,view:t})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter((e=>"hide"!==(0,c.aV)(e))):void 0}_watchLayersListMode(e){this.removeHandles(g),e&&!this.listModeDisabled&&this.addHandles((0,o.watch)((()=>e.filter((e=>"listMode"in e)).map((e=>e.listMode)).toArray()),(()=>this._compileList())),g)}_compileList(){var e;const t=null===(e=this.view)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.layers;this._watchLayersListMode(t);const l=this._getViewableLayers(t);null!==l&&void 0!==l&&l.length?(this._createNewItems(l),this._removeItems(l),this._sortItems(l)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.some((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{operationalItems:t}=this,l=[];t.forEach((t=>{t&&e&&e.includes(t.layer)||l.push(t)})),t.destroyMany(l)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,l)=>{const i=e.indexOf(t.layer),n=e.indexOf(l.layer);return i>n?-1:i<n?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([h,b,u]),null!==e&&void 0!==e&&e.ready?this.addHandles([(0,o.watch)((()=>{var e;return null===(e=this.view)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.allLayers}),(e=>this._createMapLayerHandles(e)),o.initial),(0,o.watch)((()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.allLayerViews}),(e=>this._createLayerViewHandles(e)),o.initial)],u):this._removeAllItems()}};(0,i._)([(0,a.Cb)()],_.prototype,"checkPublishStatusEnabled",void 0),(0,i._)([(0,a.Cb)()],_.prototype,"listItemCreatedFunction",void 0),(0,i._)([(0,a.Cb)({nonNullable:!0})],_.prototype,"listModeDisabled",void 0),(0,i._)([(0,a.Cb)({type:y})],_.prototype,"operationalItems",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],_.prototype,"state",null),(0,i._)([(0,a.Cb)()],_.prototype,"totalItems",null),(0,i._)([(0,a.Cb)()],_.prototype,"view",void 0),_=(0,i._)([(0,r.j)("esri.widgets.LayerList.LayerListViewModel")],_);const v=_},66994:(e,t,l)=>{l.d(t,{n:()=>s,t:()=>r});var i=l(8905),n=(l(80975),l(67005));const s=()=>Promise.all([(0,i.h)({icon:()=>Promise.all([l.e(92358),l.e(87474)]).then(l.bind(l,87474)),label:()=>Promise.all([l.e(92358),l.e(35738)]).then(l.bind(l,35738)),switch:()=>Promise.all([l.e(92358),l.e(54438),l.e(40206)]).then(l.bind(l,40206)),tooltip:()=>Promise.all([l.e(92358),l.e(89219),l.e(94730)]).then(l.bind(l,94730))})]),o="esri-labeled-switch",a={label:"".concat(o,"__label"),labelContent:"".concat(o,"__label-content"),icon:"".concat(o,"__icon"),tooltip:"".concat(o,"__tooltip")};function r(e){let{checked:t,disabled:l,hint:i,key:s,label:o,onChange:r}=e;return(0,n.u)("calcite-label",{class:a.label,disabled:l,key:s,layout:"inline-space-between",scale:"s"},(0,n.u)("div",{class:a.labelContent,key:"label-content"},i?(0,n.u)(n.D,null,(0,n.u)("div",null,o),(0,n.u)("calcite-icon",{class:a.icon,icon:"information",id:s,scale:"s"}),(0,n.u)("calcite-tooltip",{class:a.tooltip,referenceElement:s},i)):o),(0,n.u)("calcite-switch",{checked:t,disabled:l,scale:"s",onCalciteSwitchChange:e=>r(e.target.checked)}))}},70381:(e,t,l)=>{l.d(t,{Z:()=>L});var i=l(27366),n=l(63780),s=l(49861),o=(l(93169),l(32718),l(69912)),a=l(59981),r=l(84112),d=l(33565),c=l(8905),p=l(7021),u=l(66994),h=(l(80975),l(80532)),b=l(67005),g=l(7138);l(84936);let y=class extends g.default{constructor(e){super(e),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],y.prototype,"directionModePicker",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],y.prototype,"header",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],y.prototype,"labelsToggle",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],y.prototype,"tooltipsToggle",void 0),y=(0,i._)([(0,o.j)("esri.widgets.support.SketchTooltipControls.VisibleElements")],y);const _=y,v="esri-sketch-tooltip-controls",m={base:v,block:"".concat(v,"__block"),blockContent:"".concat(v,"__block-content"),hintIcon:"".concat(v,"__hint-icon"),radioButtonLabelWrapper:"".concat(v,"__radio-button-label-wrapper")};let w=class extends d.Z{constructor(e,t){super(e,t),this.viewModel=null,this.visibleElements=new _,this.sketchOptions=new a.Z,this.viewType=void 0,this._onTooltipsEnabledChange=e=>{this.sketchOptions.tooltips.enabled=e},this._onLabelsEnabledChange=e=>{this.sketchOptions.labels.enabled=e},this._onDirectionModeChange=e=>{this.sketchOptions.values.directionMode=e.target.selectedItem.value}}loadDependencies(){return Promise.all([(0,c.h)({block:()=>Promise.all([l.e(92358),l.e(46895),l.e(89219),l.e(63839),l.e(65138),l.e(2654),l.e(23635),l.e(4758)]).then(l.bind(l,4758)),label:()=>Promise.all([l.e(92358),l.e(35738)]).then(l.bind(l,35738)),icon:()=>Promise.all([l.e(92358),l.e(87474)]).then(l.bind(l,87474)),"radio-button":()=>Promise.all([l.e(92358),l.e(54438),l.e(29033)]).then(l.bind(l,29033)),"radio-button-group":()=>Promise.all([l.e(92358),l.e(4508)]).then(l.bind(l,4508))}),(0,u.n)()])}render(){const{label:e,visibleElements:t}=this,l=this._renderContent();return(0,b.u)("div",{"aria-label":e,class:this.classes(m.base,p.z.widget)},l?(0,b.u)("calcite-block",{class:m.block,heading:t.header?this.label:"",key:"content-block",open:!0},(0,b.u)("div",{class:m.blockContent,key:"content"},l)):void 0)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}_renderContent(){const{visibleElements:e,viewType:t}=this,l=[e.tooltipsToggle?this._renderTooltipsToggle():null,e.labelsToggle&&"2d"!==t?this._renderLabelsToggle():null,e.directionModePicker?this._renderDirectionModePicker():null].filter(n.pC);return 0===l.length?null:l}_renderTooltipsToggle(){const{messages:e,sketchOptions:t}=this;return(0,b.u)(u.t,{checked:t.tooltips.effectiveEnabled,hint:e.tooltipsToggleHint,key:"".concat(this.id,"__tooltips"),label:e.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:e,sketchOptions:t}=this;return(0,b.u)(u.t,{checked:t.labels.enabled,hint:e.labelsToggleHint,key:"".concat(this.id,"__labels"),label:e.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:e,sketchOptions:t}=this,{directionMode:l}=t.values;return(0,b.u)("calcite-label",{key:"direction-mode",layout:"default",scale:"s"},e.directionModePicker,(0,b.u)("calcite-radio-button-group",{key:"radio-button-group",layout:"horizontal",name:this.id,scale:"s",value:l,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption("relative",l,e.directionModeRelative),this._renderDirectionModeOption("absolute",l,e.directionModeAbsolute)))}_renderDirectionModeOption(e,t,l){return(0,b.u)("calcite-label",{key:e,layout:"inline",scale:"s"},(0,b.u)("calcite-radio-button",{checked:e===t,scale:"s",value:e}),(0,b.u)("div",{class:m.radioButtonLabelWrapper,key:"label-wrapper"},(0,b.u)("calcite-icon",{icon:r.M[e],scale:"s"}),l))}};(0,i._)([(0,s.Cb)()],w.prototype,"label",null),(0,i._)([(0,s.Cb)({type:_,nonNullable:!0})],w.prototype,"visibleElements",void 0),(0,i._)([(0,s.Cb)(),(0,h.H)("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],w.prototype,"messages",void 0),(0,i._)([(0,s.Cb)({nonNullable:!0,type:a.Z})],w.prototype,"sketchOptions",void 0),(0,i._)([(0,s.Cb)({type:String})],w.prototype,"viewType",void 0),w=(0,i._)([(0,o.j)("esri.widgets.support.SketchTooltipControls")],w);const L=w},29840:(e,t,l)=>{l.d(t,{Z:()=>Z});var i=l(27366),n=l(63780),s=l(92026),o=l(95439),a=l(49861),r=(l(93169),l(32718),l(69912)),d=l(33565),c=l(8905),p=l(7021),u=l(66994),h=(l(80975),l(80532)),b=l(67005),g=l(7138),y=l(10064),_=l(94172),v=(l(84936),l(22006)),m=l(98173),w=l(9309),L=l(80987),C=l(69735);const f=e=>k(e)||S(e),k=e=>{if(!("type"in e))return!1;switch(e.type){case"feature":case"geojson":case"csv":case"graphics":case"wfs":case"map-notes":case"oriented-imagery":case"scene":case"building-scene":case"subtype-sublayer":return!0;default:return!1}},S=e=>{const t=(0,w.Ff)(e);if(null!=t&&e.hasOwnProperty(t)&&null!=e[t])for(const l of e[t])if(f(l))return!0;return!1},M=(e,t)=>null!=t&&null!=e&&(t.test(e.title)?"self":!!e.children.some((e=>!1!==M(e,t)))&&"children");var I,E=l(89500);let T=I=class extends E.Z{constructor(e){super(e),this.children=new L.Z,this.parent=null}get enabled(){const{children:e}=this;if(0===e.length)return null!=this.featureSource&&this.featureSource.enabled?"enabled":"disabled";let t=!1,l=!1;for(const i of e){if("indeterminate"===i.enabled)return i.enabled;if("enabled"===i.enabled?t=!0:"disabled"===i.enabled&&(l=!0),l&&t)return"indeterminate"}return l?"disabled":"enabled"}get childLayerIds(){return this.children.toArray().flatMap((e=>[e.layer.id,...e.childLayerIds]))}get featureSource(){const{layer:e,getFeatureSnappingSources:t}=this;return t().find((t=>t.layer===e))}_initializeChildLayers(e){if(!e)return;const t=e.filter(f);super._initializeChildLayers(t)}_createChildItems(e){return e.map((e=>(0,w.gF)(e)?new I({layer:e,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null)).filter(n.pC).reverse()}};(0,i._)([(0,a.Cb)()],T.prototype,"enabled",null),(0,i._)([(0,a.Cb)()],T.prototype,"children",void 0),(0,i._)([(0,a.Cb)()],T.prototype,"childLayerIds",null),(0,i._)([(0,a.Cb)()],T.prototype,"featureSource",null),(0,i._)([(0,a.Cb)({constructOnly:!0})],T.prototype,"getFeatureSnappingSources",void 0),(0,i._)([(0,a.Cb)()],T.prototype,"parent",void 0),T=I=(0,i._)([(0,r.j)("esri.widgets.support.SnappingControls.SnappingListItem")],T);let O=class extends C.Z{constructor(){super(...arguments),this.featureSnappingSources=new L.Z}get operationalItemsFlat(){return this.operationalItems.flatten((e=>e.children))}get selectableItems(){return this.operationalItemsFlat.filter((e=>{var t;return!(null!==(t=e.children)&&void 0!==t&&t.length)}))}_compileList(){var e;const t=null===(e=this.view)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.layers;if(!t)return;const l=t.filter(f);this._watchLayersListMode(l);const i=this._getViewableLayers(l);null!==i&&void 0!==i&&i.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createListItem(e){return new T({layer:e,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};(0,i._)([(0,a.Cb)()],O.prototype,"featureSnappingSources",void 0),(0,i._)([(0,a.Cb)()],O.prototype,"operationalItems",void 0),(0,i._)([(0,a.Cb)()],O.prototype,"operationalItemsFlat",null),(0,i._)([(0,a.Cb)()],O.prototype,"selectableItems",null),O=(0,i._)([(0,r.j)("esri.widgets.support.SnappingControls.SnappingLayerListViewModel")],O);let F=class extends g.default{constructor(e){super(e),this.layerListViewModel=new O,this.snappingOptions=new m.Z,this.view=null}initialize(){this.addHandles([(0,_.watch)((()=>({viewModel:this.layerListViewModel,view:this.view})),(e=>{let{viewModel:t,view:l}=e;t.view=l}),_.initial),(0,_.watch)((()=>{var e;return{viewModel:this.layerListViewModel,sources:null===(e=this.snappingOptions)||void 0===e?void 0:e.featureSources}}),(e=>{let{viewModel:t,sources:l}=e;t.featureSnappingSources=l}),_.initial)])}get allLayersEnabled(){var e,t;return(null!==(e=null===(t=this.layerListViewModel)||void 0===t?void 0:t.selectableItems)&&void 0!==e?e:[]).every((e=>"enabled"===e.enabled))}get allLayersDisabled(){var e,t;return(null!==(e=null===(t=this.layerListViewModel)||void 0===t?void 0:t.selectableItems)&&void 0!==e?e:[]).every((e=>!e.enabled))}get layersEnabledCount(){var e,t;return null!==(e=null===(t=this.layerListViewModel)||void 0===t||null===(t=t.selectableItems)||void 0===t?void 0:t.filter((e=>"enabled"===e.enabled)).length)&&void 0!==e?e:0}get state(){return this.snappingOptions?"ready":"disabled"}toggleSnappingForLayers(e,t){null===e||void 0===e||e.forEach((e=>t?this.enableSnappingForLayer(e):this.disableSnappingForLayer(e)))}toggleSnappingForAllLayers(e){this.layerListViewModel.selectableItems.forEach((t=>{let{layer:{id:l}}=t;e?this.enableSnappingForLayer(l):this.disableSnappingForLayer(l)}))}enableSnappingForLayer(e){var t;const l=null!==(t=this._findSnappingSourceForLayer(e))&&void 0!==t?t:this._makeSnappingSourceForLayer(e);l&&(l.enabled=!0)}disableSnappingForLayer(e){const t=this._findSnappingSourceForLayer(e);t&&(t.enabled=!1)}updateEnabledFeatureSources(e){for(const t of this.snappingOptions.featureSources)(0,w.gF)(t.layer)&&(t.enabled=e.includes(t.layer.id))}_findSnappingSourceForLayer(e){return this.snappingOptions.featureSources.find((t=>t.layer.id===e))}_makeSnappingSourceForLayer(e){var t;const l=null===(t=this.layerListViewModel.operationalItemsFlat.find((t=>t.layer.id===e)))||void 0===t?void 0:t.layer;if(!l)throw new y.Z("snapping-controls:layer-not-found","cannot enable snapping for layer with id ".concat(e," because no such layer was found in the view"));if("group"===l.type)return;const i=new v.Z({layer:l});return this.snappingOptions.featureSources.add(i),i}};(0,i._)([(0,a.Cb)()],F.prototype,"allLayersEnabled",null),(0,i._)([(0,a.Cb)()],F.prototype,"allLayersDisabled",null),(0,i._)([(0,a.Cb)({constructOnly:!0})],F.prototype,"layerListViewModel",void 0),(0,i._)([(0,a.Cb)()],F.prototype,"layersEnabledCount",null),(0,i._)([(0,a.Cb)({type:m.Z,nonNullable:!0})],F.prototype,"snappingOptions",void 0),(0,i._)([(0,a.Cb)()],F.prototype,"state",null),(0,i._)([(0,a.Cb)()],F.prototype,"view",void 0),F=(0,i._)([(0,r.j)("esri.widgets.support.SnappingControls.SnappingControlsViewModel")],F);const V=F;var P=l(48346);const D="esri-snapping-controls",B={base:D,container:"".concat(D,"__container"),item:"".concat(D,"__item"),toggleBlock:"".concat(D,"__toggle-block"),layerListBlock:"".concat(D,"__layer-list-block"),layerList:"".concat(D,"__layer-list"),layerListFilter:"".concat(D,"__layer-list__filter"),layerListButton:"".concat(D,"__layer-list__button"),layerListItem:"".concat(D,"__layer-list__item"),layerListGroup:"".concat(D,"__layer-list__group"),nestedContainer:"".concat(D,"__nested-container")};let H=class extends d.Z{constructor(e,t){super(e,t),this._defaultViewModel=null,this._layerListFilter=null,this.layerListOpen=!0,this.messages=null,this.visibleElements=new P.Z,this._enableSnappingSwitchChange=e=>{this.snappingOptions.enabled=e},this._featureEnabledSwitchChange=e=>{this.snappingOptions.featureEnabled=e},this._selfEnabledSwitchChange=e=>{this.snappingOptions.selfEnabled=e},this._onToggleLayersButtonClick=e=>{this.viewModel.toggleSnappingForAllLayers(!this.viewModel.allLayersEnabled),requestAnimationFrame((()=>e.target.setFocus()))};const{snappingOptions:l,view:i,viewModel:n}=e;this.viewModel=null!==n&&void 0!==n?n:this._defaultViewModel=new V({snappingOptions:l,view:i})}normalizeCtorArgs(e){const{snappingOptions:t,view:l,viewModel:i,...n}=e;return n}destroy(){this.viewModel!==this._defaultViewModel&&(this._defaultViewModel=(0,s.SC)(this._defaultViewModel))}loadDependencies(){return Promise.all([(0,c.h)({block:()=>Promise.all([l.e(92358),l.e(46895),l.e(89219),l.e(63839),l.e(65138),l.e(2654),l.e(23635),l.e(4758)]).then(l.bind(l,4758)),button:()=>Promise.all([l.e(92358),l.e(46895),l.e(54438),l.e(14105),l.e(32275)]).then(l.bind(l,32275)),input:()=>Promise.all([l.e(92358),l.e(46895),l.e(54438),l.e(8715),l.e(16746)]).then(l.bind(l,75655)),list:()=>Promise.all([l.e(92358),l.e(46895),l.e(54438),l.e(34504),l.e(8715),l.e(38782)]).then(l.bind(l,38782)),"list-item":()=>Promise.all([l.e(92358),l.e(46895),l.e(65138),l.e(21340)]).then(l.bind(l,67994)),checkbox:()=>Promise.all([l.e(92358),l.e(54438),l.e(12424)]).then(l.bind(l,12424))}),(0,u.n)()])}get icon(){return"snap-to-point"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){e!==this._get("viewModel")&&(null!=this._defaultViewModel&&this._defaultViewModel===e||(this._defaultViewModel=(0,s.SC)(this._defaultViewModel)),this._set("viewModel",e))}render(){const{label:e}=this;return(0,b.u)("div",{"aria-label":e,class:this.classes(B.base,p.z.widget)},(0,b.u)("div",{class:B.container},this._renderContent()))}_renderContent(){return[this._renderToggles(),this._renderLayerList()]}_renderToggles(){const{visibleElements:e}=this,t=[e.selfEnabledToggle?this._renderSelfEnabledToggle():null,e.featureEnabledToggle?this._renderFeatureEnabledToggle():null].filter(n.pC),l=[e.enabledToggle?this._renderEnabledToggle():null,t.length>0?(0,b.u)("div",{class:B.nestedContainer},t):null].filter(n.pC);return 0===l.length?null:(0,b.u)("calcite-block",{class:B.toggleBlock,heading:e.header?this.label:"",key:"toggle-block",open:!0},l)}_renderEnabledToggle(){const{messages:e,viewModel:t}=this,{snappingOptions:l}=t;return(0,b.u)(u.t,{checked:l.enabled,disabled:this._enabledToggleDisabled,key:"".concat(this.id,"__enabled-toggle"),label:e.enableSnapping,onChange:this._enableSnappingSwitchChange})}_renderSelfEnabledToggle(){const{messages:e,viewModel:t}=this,{snappingOptions:l}=t,i=l.enabled&&l.selfEnabled;return(0,b.u)(u.t,{checked:i,disabled:this._secondaryElementsDisabled,key:"".concat(this.id,"__self-enabled-toggle"),label:e.geometryGuides,onChange:this._selfEnabledSwitchChange})}_renderFeatureEnabledToggle(){const{messages:e,viewModel:t}=this,{snappingOptions:l}=t,i=l.enabled&&l.featureEnabled;return(0,b.u)(u.t,{checked:i,disabled:this._secondaryElementsDisabled,key:"".concat(this.id,"__feature-enabled-toggle"),label:e.featureToFeature,onChange:this._featureEnabledSwitchChange})}_renderLayerList(){if(!this.visibleElements.layerList)return null;const{messages:e,viewModel:t}=this,l=t.layerListViewModel.operationalItems.length>9?(0,b.u)("calcite-input",{class:B.layerListFilter,clearable:!0,placeholder:null===e||void 0===e?void 0:e.searchLayers,onCalciteInputInput:e=>{let{target:{value:t}}=e;this._layerListFilter=""===t?null:new RegExp(t,"i")}}):null,i=this._secondaryElementsDisabled,n=this.layerListOpen&&!i;return(0,b.u)("calcite-block",{class:B.layerListBlock,collapsible:!0,disabled:this._secondaryElementsDisabled,heading:e.snappingLayers,key:"list-block",open:n,onCalciteBlockToggle:e=>this.layerListOpen=e.target.open},l,this._renderToggleLayersButton(),(0,b.u)("calcite-list",{class:B.layerList,selectionMode:"none"},this._renderLayerListItemCollection(t.layerListViewModel.operationalItems)))}_renderLayerListItemCollection(e){const t=this._layerListFilter;return e.map((e=>{switch(t?M(e,t):null){case"children":{const l=e.children.filter((e=>!1!==M(e,t)));return this._renderLayerListItemGroup(e,l)}case"self":case null:return this._renderLayerListItemOrGroup(e);case!1:return"self"===M(e.parent,t)?this._renderLayerListItemOrGroup(e):null}})).toArray().filter(n.pC)}_renderToggleLayersButton(){if(!this.visibleElements.layerListToggleLayersButton)return null;const{viewModel:{allLayersEnabled:e},messages:t}=this,l=e?t.disableAllLayers:t.enableAllLayers;return(0,b.u)("calcite-button",{appearance:"transparent",class:B.layerListButton,label:l,name:"layer-toggle",onclick:this._onToggleLayersButtonClick},l)}_renderLayerListItemOrGroup(e){if(e.children.length)return this._renderLayerListItemGroup(e);const{messages:{untitledLayer:t}}=this,l=e.title||t,i=()=>{this.viewModel.toggleSnappingForLayers([e.layer.id],"enabled"!==e.enabled)};return(0,b.u)("calcite-list-item",{class:B.layerListItem,key:"".concat(this.id,"-list-item-").concat(e.uid),label:l,onCalciteListItemSelect:e=>{e.stopPropagation(),i()}},(0,b.u)("calcite-checkbox",{checked:"enabled"===e.enabled,slot:"actions-start",onCalciteCheckboxChange:i}))}_renderLayerListItemGroup(e,t){const{children:l,title:i}=e,n=i||this.messages.untitledLayer,s=i&&""!==i?i:(0,o.D)(),a=!(null===t||void 0===t||!t.length),r=null!==t&&void 0!==t?t:l,d=()=>{this.viewModel.toggleSnappingForLayers(e.childLayerIds,"enabled"!==e.enabled)};return(0,b.u)("calcite-list-item",{class:B.layerListGroup,key:s,label:n,open:a,onCalciteListItemSelect:e=>{e.stopPropagation(),d()}},(0,b.u)("calcite-checkbox",{checked:"enabled"===e.enabled,indeterminate:"indeterminate"===e.enabled,slot:"actions-start",onCalciteCheckboxChange:d}),(0,b.u)("calcite-list",null,this._renderLayerListItemCollection(r)))}get _enabledToggleDisabled(){const e=this.snappingOptions;return e.enabledToggled||e.forceDisabled}get _secondaryElementsDisabled(){return this._enabledToggleDisabled||!this.snappingOptions.enabled}};(0,i._)([(0,a.Cb)()],H.prototype,"_defaultViewModel",void 0),(0,i._)([(0,a.Cb)()],H.prototype,"_layerListFilter",void 0),(0,i._)([(0,a.Cb)()],H.prototype,"label",null),(0,i._)([(0,a.Cb)({type:Boolean,nonNullable:!0})],H.prototype,"layerListOpen",void 0),(0,i._)([(0,a.Cb)(),(0,h.H)("esri/widgets/support/SnappingControls/t9n/SnappingControls")],H.prototype,"messages",void 0),(0,i._)([(0,a.Cb)()],H.prototype,"snappingOptions",null),(0,i._)([(0,a.Cb)()],H.prototype,"view",null),(0,i._)([(0,a.Cb)()],H.prototype,"viewModel",null),(0,i._)([(0,a.Cb)({type:P.Z,nonNullable:!0})],H.prototype,"visibleElements",void 0),(0,i._)([(0,a.Cb)()],H.prototype,"_enabledToggleDisabled",null),(0,i._)([(0,a.Cb)()],H.prototype,"_secondaryElementsDisabled",null),H=(0,i._)([(0,r.j)("esri.widgets.support.SnappingControls")],H);const Z=H},48346:(e,t,l)=>{l.d(t,{Z:()=>r});var i=l(27366),n=l(7138),s=l(49861),o=(l(93169),l(32718),l(84936),l(69912));let a=class extends n.default{constructor(e){super(e),this.enabledToggle=!0,this.featureEnabledToggle=!0,this.header=!1,this.layerList=!0,this.layerListToggleLayersButton=!0,this.selfEnabledToggle=!0}};(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],a.prototype,"enabledToggle",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],a.prototype,"featureEnabledToggle",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],a.prototype,"header",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],a.prototype,"layerList",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],a.prototype,"layerListToggleLayersButton",void 0),(0,i._)([(0,s.Cb)({type:Boolean,nonNullable:!0})],a.prototype,"selfEnabledToggle",void 0),a=(0,i._)([(0,o.j)("esri.widgets.support.SnappingControls.VisibleElements")],a);const r=a}}]);
//# sourceMappingURL=29734.4058c72b.chunk.js.map