{"version":3,"file":"static/js/1869.8fea946e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/map-components/dist/esm/arcgis-version-management-service-item_2.entry.js"],"sourcesContent":["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.7\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-7d33cc26.js';\n\nconst ArcgisVersionManagementServiceItem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.arcgisFlowItemBack = createEvent(this, \"arcgisFlowItemBack\", 7);\n        this.arcgisFlowItemClose = createEvent(this, \"arcgisFlowItemClose\", 7);\n        this.arcgisGetVersions = createEvent(this, \"arcgisGetVersions\", 7);\n        this.arcgisManageVersion = createEvent(this, \"arcgisManageVersion\", 7);\n        this.arcgisNewVersion = createEvent(this, \"arcgisNewVersion\", 7);\n        this._versionListEventListeners = new Map();\n        this._arcgisGetVersions = (event) => {\n            this.arcgisGetVersions.emit(event.detail);\n        };\n        this._arcgisManageVersion = (event) => {\n            this.arcgisManageVersion.emit(event.detail);\n        };\n        this._arcgisNewVersion = (event) => {\n            this.arcgisNewVersion.emit(event.detail);\n        };\n        this.serviceItemElementProps = undefined;\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    //--------------------------------------------------------------------------\n    disconnectedCallback() {\n        if (this._versionList) {\n            this._removeVersionListEventListeners(this._versionList);\n        }\n    }\n    render() {\n        const { serviceItemElementProps: { allowEditing, closable, currentUser, executionError, currentVersionIdentifier, flowElement, hasAdvEditingUte, heading, isVersioningApiAvailable, pageSize, serviceName, serviceUrl, state, strings, versionInfos, }, } = this;\n        let { _versionList: versionList } = this;\n        const comboboxVersions = (h(\"calcite-combobox\", { key: 'e80f4924dbd00f2a29140b91ee53369dff826d39', clearDisabled: true, label: serviceName, maxItems: 5, overlayPositioning: \"fixed\", selectionMode: \"single-persist\", onCalciteComboboxChange: (event) => {\n                const node = event.target;\n                const versionInfo = versionInfos.find((version) => version.versionIdentifier.guid === node.value);\n                this.arcgisManageVersion.emit({ actionType: \"changeVersion\", serviceUrl, versionInfo });\n            } }, versionInfos\n            ? versionInfos.map((versionInfo) => (h(\"calcite-combobox-item\", { selected: currentVersionIdentifier.guid === versionInfo.versionIdentifier.guid &&\n                    currentVersionIdentifier.name === versionInfo.versionIdentifier.name, textLabel: versionInfo.versionIdentifier.name, value: versionInfo.versionIdentifier.guid })))\n            : undefined));\n        let actionManageVersions;\n        let tooltipManageVersions;\n        if (allowEditing) {\n            actionManageVersions = (h(\"calcite-action\", { key: 'fc6779c583aa81cf1f12584bda094b7d0d25dd06', id: `actionManageVersions_${serviceName}`, icon: \"list\", scale: \"s\", slot: \"control\", text: \"\", onClick: async () => {\n                    versionList = document.createElement(\"arcgis-version-management-version-list\");\n                    versionList.versionListElementProps = {\n                        closable,\n                        currentUser,\n                        currentVersionIdentifier,\n                        executionError,\n                        hasAdvEditingUte,\n                        heading,\n                        isVersioningApiAvailable,\n                        pageSize,\n                        serviceName,\n                        serviceUrl,\n                        state,\n                        strings,\n                        versionInfos,\n                    };\n                    versionList.addEventListener(\"calciteFlowItemBack\", (e) => {\n                        e.preventDefault();\n                        this.arcgisFlowItemBack.emit();\n                    });\n                    versionList.addEventListener(\"calciteFlowItemClose\", () => {\n                        this.arcgisFlowItemClose.emit();\n                    });\n                    this._addVersionListEventListeners(versionList);\n                    flowElement.append(versionList);\n                } }));\n            tooltipManageVersions = (h(\"calcite-tooltip\", { key: '5d9377d1bec63e4c3d310a3941c0ad693e81f48b', overlayPositioning: \"fixed\", referenceElement: `actionManageVersions_${serviceName}` }, h(\"span\", { key: 'ce2e9fc08127e075738fb2cc59fa5387343eda50' }, strings.headers.manageVersions)));\n        }\n        return (h(\"calcite-block\", { key: '357a2c3e708f61505efa5e1a8f82a7c8ab4ac8dd', open: true, heading: serviceName }, comboboxVersions, actionManageVersions, tooltipManageVersions));\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    //--------------------------------------------------------------------------\n    _addVersionListEventListeners(versionList) {\n        versionList.addEventListener(\"arcgisGetVersions\", this._arcgisGetVersions);\n        this._versionListEventListeners.set(\"arcgisGetVersions\", this._arcgisGetVersions);\n        versionList.addEventListener(\"arcgisManageVersion\", this._arcgisManageVersion);\n        this._versionListEventListeners.set(\"arcgisManageVersion\", this._arcgisManageVersion);\n        versionList.addEventListener(\"arcgisNewVersion\", this._arcgisNewVersion);\n        this._versionListEventListeners.set(\"arcgisNewVersion\", this._arcgisNewVersion);\n    }\n    _removeVersionListEventListeners(versionList) {\n        for (const [type, listener] of this._versionListEventListeners) {\n            versionList.removeEventListener(type, listener);\n        }\n    }\n    get el() { return getElement(this); }\n};\n\nconst ArcgisVersionManagementVersionProperties = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.arcgisAlterVersion = createEvent(this, \"arcgisAlterVersion\", 7);\n        this.arcgisCreateVersion = createEvent(this, \"arcgisCreateVersion\", 7);\n        this.arcgisFlowItemBack = createEvent(this, \"arcgisFlowItemBack\", 7);\n        this.arcgisFlowItemClose = createEvent(this, \"arcgisFlowItemClose\", 7);\n        this._switchToVersion = true;\n        this._handleCancel = () => {\n            this.arcgisFlowItemBack.emit();\n        };\n        this._handleChange = (event) => {\n            const { _mode: mode, _ownerName: ownerName, _versionName: versionName, versionPropertiesElementProps: { currentUser, serviceUrl, versionInfo }, } = this;\n            let { _alterVersionParameters: alterVersionParameters, _createVersionParameters: createVersionParameters } = this;\n            if (mode === \"create\") {\n                if (!createVersionParameters) {\n                    createVersionParameters = {\n                        access: \"public\",\n                        description: \"\",\n                        featureServerUrl: serviceUrl,\n                        ownerName: currentUser.toUpperCase(),\n                        versionName: \"\",\n                    };\n                }\n            }\n            if (mode === \"edit\") {\n                if (!alterVersionParameters) {\n                    alterVersionParameters = {\n                        featureServerUrl: serviceUrl,\n                        versionIdentifier: versionInfo.versionIdentifier,\n                        ownerName,\n                        versionName,\n                        access: versionInfo.access,\n                        description: versionInfo.description,\n                    };\n                }\n            }\n            switch (event.type) {\n                case \"calciteChipGroupSelect\": {\n                    const name = event.target.label;\n                    const value = event.target.selectedItems[0].value;\n                    if (mode === \"create\") {\n                        createVersionParameters = { ...createVersionParameters, ...{ [name]: value } };\n                    }\n                    if (mode === \"edit\") {\n                        alterVersionParameters = { ...alterVersionParameters, ...{ [name]: value } };\n                    }\n                    break;\n                }\n                case \"calciteInputTextInput\": {\n                    const name = event.target.name;\n                    const value = event.target.value;\n                    if (mode === \"create\") {\n                        createVersionParameters = { ...createVersionParameters, ...{ [name]: value } };\n                    }\n                    if (mode === \"edit\") {\n                        alterVersionParameters = { ...alterVersionParameters, ...{ [name]: value } };\n                    }\n                    break;\n                }\n                case \"calciteTextAreaInput\": {\n                    const name = event.target.name;\n                    const value = event.target.value;\n                    if (mode === \"create\") {\n                        createVersionParameters = { ...createVersionParameters, ...{ [name]: value } };\n                    }\n                    if (mode === \"edit\") {\n                        alterVersionParameters = { ...alterVersionParameters, ...{ [name]: value } };\n                    }\n                    break;\n                }\n            }\n            if (mode === \"create\") {\n                if (createVersionParameters.access !== \"public\" &&\n                    currentUser.toUpperCase() !== createVersionParameters.ownerName?.toUpperCase()) {\n                    this.switchToVersionCheckboxElement.checked = false;\n                    this.switchToVersionCheckboxElement.disabled = true;\n                }\n                else {\n                    this.switchToVersionCheckboxElement.disabled = false;\n                }\n                this._createVersionParameters = createVersionParameters;\n            }\n            if (mode === \"edit\") {\n                this._alterVersionParameters = alterVersionParameters;\n            }\n        };\n        this._handleClose = () => {\n            this.arcgisFlowItemClose.emit();\n        };\n        this._handleSave = () => {\n            const { _alterVersionParameters: alterVersionParameters, _createVersionParameters: createVersionParameters, _mode: mode, _switchToVersion: switchToVersion, } = this;\n            if (mode === \"create\") {\n                this.arcgisCreateVersion.emit({\n                    createVersionParameters,\n                    switchToVersion,\n                });\n            }\n            if (mode === \"edit\") {\n                this.arcgisAlterVersion.emit({\n                    alterVersionParameters,\n                });\n            }\n        };\n        this._handleSwitchToVersionChange = (event) => {\n            this._switchToVersion = event.target.checked;\n        };\n        this.versionPropertiesElementProps = undefined;\n    }\n    async componentWillLoad() {\n        const { versionPropertiesElementProps: { versionInfo }, } = this;\n        if (versionInfo) {\n            this._mode = \"edit\";\n            this._fullVersionName = versionInfo.versionIdentifier.name;\n            this._ownerName = this._fullVersionName.substring(0, this._fullVersionName.lastIndexOf(\".\")).toUpperCase();\n            this._versionName = this._fullVersionName.substring(this._fullVersionName.lastIndexOf(\".\") + 1);\n        }\n        else {\n            this._mode = \"create\";\n        }\n    }\n    componentDidRender() {\n        if (this._mode === \"create\") {\n            this.versionNameInputElement?.setFocus();\n        }\n    }\n    render() {\n        const { versionPropertiesElementProps: { closable, currentUser, hasAdvEditingUte, state, strings, versionInfo }, _mode: mode, _ownerName: ownerName, _versionName: versionName, } = this;\n        const buttons = (h(\"div\", { key: '135d4141e995bbf31123c16d900a1e274575aafb' }, h(\"calcite-button\", { key: '44a78143d595fe108d1d312da6ba1bf340be77b8', appearance: \"outline\", slot: \"footer\", width: \"half\", onClick: this._handleCancel }, strings.actions.cancelSave), h(\"calcite-button\", { key: '30b32b985a16d7841a444e638309b914cac1b406', slot: \"footer\", width: \"half\", onClick: this._handleSave }, strings.actions.saveVersion)));\n        const chipGroupAccessLevel = (h(\"calcite-label\", { key: 'fb496917361a78043ca219cdb438f30414dd5acd' }, strings.input.versionAccess, h(\"calcite-chip-group\", { key: 'f81920bbcdc1bd18187b8107d039cd2a61b8e4dc', label: \"access\", onCalciteChipGroupSelect: this._handleChange, selectionMode: \"single-persist\" }, h(\"calcite-chip\", { key: '9e55255b9114d1d239a17248ccd200fd097af5f2', selected: (mode === \"edit\" && versionInfo.access === \"public\") || mode === \"create\", value: \"public\" }, strings.accessLevels.public), h(\"calcite-chip\", { key: '03374352be5cfff98f80bb915fe75be762078258', selected: mode === \"edit\" && versionInfo.access === \"protected\", value: \"protected\" }, strings.accessLevels.protected), h(\"calcite-chip\", { key: '452499aeb04c69b51101b774d91c0479753cf43b', selected: mode === \"edit\" && versionInfo.access === \"private\", value: \"private\" }, strings.accessLevels.private))));\n        const inputDescription = (h(\"calcite-label\", { key: '11c04b89dfd8d85b68d322d552ece3bf5cc35567' }, strings.input.versionDescription, h(\"calcite-text-area\", { key: '469568f5e6f902076338f1e7a99332d724ff54da', name: \"description\", onCalciteTextAreaInput: this._handleChange, resize: \"vertical\", value: mode === \"edit\" ? versionInfo.description : \"\" })));\n        const inputName = (h(\"calcite-label\", { key: '14b2dabc65093f576b8ebca98cec745210353c0b' }, strings.input.versionName, h(\"calcite-input-text\", { key: '04c0d47377ea59031fa88c38b996203b0d7c9175', ref: (node) => {\n                this.versionNameInputElement = node;\n            }, name: \"versionName\", onCalciteInputTextInput: this._handleChange, maxLength: 62, value: mode === \"edit\" ? versionName : \"\" })));\n        const inputOwner = (h(\"calcite-label\", { key: 'b1773ab9fd4183852b522f465a6ba5347934c358' }, strings.input.versionOwner, h(\"calcite-input-text\", { key: 'e62366ef2e7c143e9f63be1ae177a6b1a3639bce', name: \"ownerName\", onCalciteInputTextInput: this._handleChange, disabled: !hasAdvEditingUte, value: mode === \"edit\" ? ownerName : currentUser.toUpperCase() })));\n        const switchToVersionCheckbox = mode === \"create\" ? (h(\"calcite-label\", { layout: \"inline\" }, h(\"calcite-checkbox\", { ref: (node) => {\n                this.switchToVersionCheckboxElement = node;\n            }, checked: true, name: \"switchToVersion\", onCalciteCheckboxChange: this._handleSwitchToVersionChange }), strings.actions.switchToVersion)) : undefined;\n        return (h(\"calcite-flow-item\", { key: '79059091093b6a5c977b43c2530db56f86c98133', closable: closable, description: versionInfo ? versionInfo.versionIdentifier.name : \"\", heading: versionInfo ? strings.actions.editVersion : strings.actions.newVersion, onCalciteFlowItemClose: this._handleClose }, h(\"calcite-panel\", { key: '0eecfe1d97445089ef205e3c4dc569a23edc863c', loading: state === \"executing\" }, h(\"calcite-block\", { key: 'ae61afab2e9d622c41d4b2e0f833057ceba024e0', heading: \"\", open: true }, inputName, inputDescription, chipGroupAccessLevel, inputOwner, switchToVersionCheckbox, buttons))));\n    }\n    get el() { return getElement(this); }\n};\n\nexport { ArcgisVersionManagementServiceItem as arcgis_version_management_service_item, ArcgisVersionManagementVersionProperties as arcgis_version_management_version_properties };\n"],"names":["ArcgisVersionManagementServiceItem","constructor","hostRef","registerInstance","this","arcgisFlowItemBack","createEvent","arcgisFlowItemClose","arcgisGetVersions","arcgisManageVersion","arcgisNewVersion","_versionListEventListeners","Map","_arcgisGetVersions","event","emit","detail","_arcgisManageVersion","_arcgisNewVersion","serviceItemElementProps","undefined","disconnectedCallback","_versionList","_removeVersionListEventListeners","render","allowEditing","closable","currentUser","executionError","currentVersionIdentifier","flowElement","hasAdvEditingUte","heading","isVersioningApiAvailable","pageSize","serviceName","serviceUrl","state","strings","versionInfos","versionList","comboboxVersions","h","key","clearDisabled","label","maxItems","overlayPositioning","selectionMode","onCalciteComboboxChange","node","target","versionInfo","find","version","versionIdentifier","guid","value","actionType","map","selected","name","textLabel","actionManageVersions","tooltipManageVersions","id","concat","icon","scale","slot","text","onClick","async","document","createElement","versionListElementProps","addEventListener","e","preventDefault","_addVersionListEventListeners","append","referenceElement","headers","manageVersions","open","set","type","listener","removeEventListener","el","getElement","ArcgisVersionManagementVersionProperties","arcgisAlterVersion","arcgisCreateVersion","_switchToVersion","_handleCancel","_handleChange","_mode","mode","_ownerName","ownerName","_versionName","versionName","versionPropertiesElementProps","_alterVersionParameters","alterVersionParameters","_createVersionParameters","createVersionParameters","access","description","featureServerUrl","toUpperCase","selectedItems","_createVersionParamet","switchToVersionCheckboxElement","checked","disabled","_handleClose","_handleSave","switchToVersion","_handleSwitchToVersionChange","componentWillLoad","_fullVersionName","substring","lastIndexOf","componentDidRender","_this$versionNameInpu","versionNameInputElement","setFocus","buttons","appearance","width","actions","cancelSave","saveVersion","chipGroupAccessLevel","input","versionAccess","onCalciteChipGroupSelect","accessLevels","public","protected","private","inputDescription","versionDescription","onCalciteTextAreaInput","resize","inputName","ref","onCalciteInputTextInput","maxLength","inputOwner","versionOwner","switchToVersionCheckbox","layout","onCalciteCheckboxChange","editVersion","newVersion","onCalciteFlowItemClose","loading"],"sourceRoot":""}