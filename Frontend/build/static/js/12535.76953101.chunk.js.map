{"version":3,"file":"static/js/12535.76953101.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/map-components/dist/esm/arcgis-version-management-version-item_2.entry.js"],"sourcesContent":["/*!\n * All material copyright Esri, All Rights Reserved, unless otherwise specified.\n * See https://js.arcgis.com/4.30/esri/copyright.txt for details.\n * v4.30.7\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-7d33cc26.js';\n\nconst ArcgisVersionManagementVersionItem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.arcgisManageVersion = createEvent(this, \"arcgisManageVersion\", 7);\n        this.versionItemElementProps = undefined;\n    }\n    render() {\n        const { versionItemElementProps: { currentUser, currentVersionIdentifier, hasAdvEditingUte, isVersioningApiAvailable, serviceUrl, strings: { actions }, versionInfo, }, } = this;\n        const fullVersionName = versionInfo.versionIdentifier.name;\n        const versionName = fullVersionName.substring(fullVersionName.lastIndexOf(\".\") + 1); // label\n        const versionOwner = fullVersionName.substring(0, fullVersionName.lastIndexOf(\".\")).toUpperCase(); // description\n        const guid = versionInfo.versionIdentifier.guid;\n        const actionElementId = `actionSwitchToVersion_${guid}`;\n        const canEditVersion = versionOwner.toUpperCase() === currentUser.toUpperCase() && isVersioningApiAvailable && hasAdvEditingUte;\n        const isCurrentVersion = currentVersionIdentifier.guid === versionInfo.versionIdentifier.guid;\n        const startActionChangeVersion = (h(\"calcite-action\", { key: '2f6e3eeea7fc7736a1199a29668894dd80dac94a', disabled: isCurrentVersion, id: actionElementId, icon: \"code-branch\", text: \"\", onClick: () => {\n                this.arcgisManageVersion.emit({ actionType: \"changeVersion\", serviceUrl, versionInfo });\n            }, slot: \"actions-start\" }));\n        const startActionChangeVersionTooltip = !isCurrentVersion ? (h(\"calcite-tooltip\", { \"overlay-positioning\": \"fixed\", referenceElement: actionElementId }, h(\"span\", null, actions.switchToVersion))) : undefined;\n        return (h(\"calcite-list-item\", { key: '74b8319a683737aaaf8cfc5f06147eaa401195a6', description: versionOwner, label: versionName, selected: false, value: guid }, startActionChangeVersion, startActionChangeVersionTooltip, h(\"calcite-action-menu\", { key: '535784b416984e07bbfc44a275dfc5c81fb55daf', \"overlay-positioning\": \"fixed\", slot: \"actions-end\", label: \"\" }, h(\"calcite-action\", { key: '5e89410767d43ab3ce8a6e3ac6ef5d2db5542ea7', disabled: isCurrentVersion, icon: \"code-branch\", onClick: () => {\n                this.arcgisManageVersion.emit({ actionType: \"changeVersion\", serviceUrl, versionInfo });\n            }, scale: \"s\", text: actions.switchToVersion, textEnabled: true }), h(\"calcite-action\", { key: 'cf3ab694540fb02bcfa7c5ef9557fcb6a93746c1', disabled: !canEditVersion || isCurrentVersion, icon: \"code-branch-edit\", onClick: () => {\n                this.arcgisManageVersion.emit({ actionType: \"editVersion\", serviceUrl, versionInfo });\n            }, scale: \"s\", text: actions.editVersion, textEnabled: true }), h(\"calcite-action\", { key: 'bb646b907dbbc62283a15295a265912ba45d73a4', disabled: !canEditVersion || (canEditVersion && isCurrentVersion), icon: \"trash\", onClick: () => {\n                this.arcgisManageVersion.emit({ actionType: \"deleteVersion\", serviceUrl, versionInfo });\n            }, scale: \"s\", text: actions.deleteVersion, textEnabled: true }))));\n    }\n    get el() { return getElement(this); }\n};\n\nconst ArcgisVersionManagementVersionList = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.arcgisNewVersion = createEvent(this, \"arcgisNewVersion\", 7);\n        this.arcgisGetVersions = createEvent(this, \"arcgisGetVersions\", 7);\n        this.arcgisManageVersion = createEvent(this, \"arcgisManageVersion\", 7);\n        this._handleFilterChange = () => {\n            const { versionListElementProps: { versionInfos }, } = this;\n            const filterText = this._filterInputElement.value.toUpperCase();\n            this._filteredVersionInfos =\n                filterText === \"\"\n                    ? versionInfos\n                    : versionInfos.filter((version) => version.versionIdentifier.name.toUpperCase().includes(filterText) ||\n                        version.versionIdentifier.guid.toUpperCase().includes(filterText));\n            if (this._filteredVersionInfos.length) {\n                this.currentPage = 1;\n            }\n        };\n        this._handleNoticeClosed = () => {\n            this.versionListElementProps = {\n                ...this.versionListElementProps,\n                executionError: undefined,\n            };\n        };\n        this._handlePaginationChange = (event) => {\n            this.currentPage = event.target.startItem;\n        };\n        this.currentPage = 1;\n        this.versionListElementProps = undefined;\n        this._filteredVersionInfos = undefined;\n    }\n    propertiesChangeHandler(newValue, oldValue) {\n        if (oldValue.versionInfos !== newValue.versionInfos) {\n            this._filteredVersionInfos = this.versionListElementProps.versionInfos;\n            if (this._filterInputElement) {\n                this._handleFilterChange();\n            }\n        }\n    }\n    componentWillLoad() {\n        this._filteredVersionInfos = this.versionListElementProps.versionInfos;\n    }\n    componentDidRender() {\n        this._filterInputElement?.setFocus();\n    }\n    render() {\n        const { currentPage, versionListElementProps: { closable, currentUser, currentVersionIdentifier, executionError, hasAdvEditingUte, heading, isVersioningApiAvailable, pageSize, serviceName, serviceUrl, state, strings: { headers }, strings, versionInfos, }, } = this;\n        const currentVersionIdentifierBlock = (h(\"calcite-block\", { heading: headers.currentVersion, description: currentVersionIdentifier.name, overlayPositioning: \"fixed\" }));\n        const actionRefreshVersions = (h(\"calcite-action\", { id: \"actionRefreshVersions\", icon: \"refresh\", text: \"\", onClick: () => {\n                this.arcgisGetVersions.emit({\n                    serviceUrl,\n                });\n            }, slot: \"header-actions-end\" }, h(\"calcite-tooltip\", { \"overlay-positioning\": \"fixed\", referenceElement: \"actionRefreshVersions\" }, h(\"span\", null, strings.actions.refreshVersions))));\n        this._paginatedVersionInfos =\n            this._filteredVersionInfos.length > pageSize\n                ? this._paginate(this._filteredVersionInfos, pageSize, currentPage)\n                : this._filteredVersionInfos;\n        const pagination = this._filteredVersionInfos.length > pageSize ? (h(\"calcite-pagination\", { onCalcitePaginationChange: this._handlePaginationChange, pageSize: 1, startItem: currentPage, totalItems: Math.ceil(this._filteredVersionInfos.length / pageSize) })) : undefined;\n        const versionItems = this._paginate(this._paginatedVersionInfos, pageSize, 1).map((versionInfo) => {\n            const versionItemElementProps = {\n                currentUser,\n                currentVersionIdentifier,\n                isCurrentVersionCard: false,\n                hasAdvEditingUte,\n                isVersioningApiAvailable,\n                serviceUrl,\n                strings,\n                versionInfo,\n            };\n            return (h(\"arcgis-version-management-version-item\", { versionItemElementProps: versionItemElementProps }));\n        });\n        const versionFilter = versionInfos.length > pageSize ? (h(\"calcite-block\", { heading: \"\", open: true }, h(\"calcite-input-text\", { ref: (node) => {\n                this._filterInputElement = node;\n            }, clearable: true, icon: \"search\", onCalciteInputTextInput: this._handleFilterChange, placeholder: strings.actions.searchVersions }))) : undefined;\n        const versionList = h(\"calcite-list\", null, versionItems);\n        const newVersionButton = isVersioningApiAvailable && hasAdvEditingUte ? (h(\"calcite-fab\", { appearance: \"outline-fill\", slot: \"fab\", textEnabled: true, text: strings.actions.newVersion, onClick: () => {\n                this.arcgisNewVersion.emit({\n                    serviceUrl,\n                });\n            } })) : undefined;\n        const noticeError = executionError ? (h(\"calcite-notice\", { onCalciteNoticeClose: this._handleNoticeClosed, class: \"notice\", closable: true, kind: \"warning\", open: true, scale: \"s\", slot: \"footer\", width: \"full\" }, h(\"div\", { slot: \"message\" }, this._getExecutionError(executionError)))) : undefined;\n        return (h(\"calcite-flow-item\", { closable: closable, description: serviceName, heading: heading }, h(\"calcite-panel\", { loading: state === \"executing\" }, currentVersionIdentifierBlock, h(\"calcite-panel\", { heading: this._filteredVersionInfos.length\n                ? `${strings.headers.manageVersions} (${this._filteredVersionInfos.length})`\n                : strings.headers.manageVersions }, actionRefreshVersions, versionFilter, versionList, newVersionButton), pagination, noticeError)));\n    }\n    _getExecutionError(executionError) {\n        const { versionListElementProps: { strings: { executionErrors }, }, } = this;\n        switch (executionError) {\n            case \"no-advanced-editing-user-type-extension\":\n                return executionErrors.noAdvancedEditingUserTypeExtension;\n            case \"no-feature-service-found\":\n                return executionErrors.noFeatureServiceFound;\n            case \"no-valid-enterprise-version\":\n                return executionErrors.notValidEnterpriseVersion;\n            case \"no-valid-version-name\":\n                return executionErrors.invalidVersionName;\n            default:\n                return executionError;\n        }\n    }\n    _paginate(versionInfos, pageSize, pageNumber) {\n        return versionInfos.slice((pageNumber - 1) * pageSize, pageNumber * pageSize);\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"versionListElementProps\": [\"propertiesChangeHandler\"]\n    }; }\n};\n\nexport { ArcgisVersionManagementVersionItem as arcgis_version_management_version_item, ArcgisVersionManagementVersionList as arcgis_version_management_version_list };\n"],"names":["ArcgisVersionManagementVersionItem","constructor","hostRef","registerInstance","this","arcgisManageVersion","createEvent","versionItemElementProps","undefined","render","currentUser","currentVersionIdentifier","hasAdvEditingUte","isVersioningApiAvailable","serviceUrl","strings","actions","versionInfo","fullVersionName","versionIdentifier","name","versionName","substring","lastIndexOf","versionOwner","toUpperCase","guid","actionElementId","concat","canEditVersion","isCurrentVersion","startActionChangeVersion","h","key","disabled","id","icon","text","onClick","emit","actionType","slot","startActionChangeVersionTooltip","referenceElement","switchToVersion","description","label","selected","value","scale","textEnabled","editVersion","deleteVersion","el","getElement","ArcgisVersionManagementVersionList","arcgisNewVersion","arcgisGetVersions","_handleFilterChange","versionListElementProps","versionInfos","filterText","_filterInputElement","_filteredVersionInfos","filter","version","includes","length","currentPage","_handleNoticeClosed","executionError","_handlePaginationChange","event","target","startItem","propertiesChangeHandler","newValue","oldValue","componentWillLoad","componentDidRender","_this$_filterInputEle","setFocus","closable","heading","pageSize","serviceName","state","headers","currentVersionIdentifierBlock","currentVersion","overlayPositioning","actionRefreshVersions","refreshVersions","_paginatedVersionInfos","_paginate","pagination","onCalcitePaginationChange","totalItems","Math","ceil","versionItems","map","isCurrentVersionCard","versionFilter","open","ref","node","clearable","onCalciteInputTextInput","placeholder","searchVersions","versionList","newVersionButton","appearance","newVersion","noticeError","onCalciteNoticeClose","class","kind","width","_getExecutionError","loading","manageVersions","executionErrors","noAdvancedEditingUserTypeExtension","noFeatureServiceFound","notValidEnterpriseVersion","invalidVersionName","pageNumber","slice","watchers"],"sourceRoot":""}