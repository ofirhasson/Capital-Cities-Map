/*! For license information please see 96734.466296d0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunknorthwind=self.webpackChunknorthwind||[]).push([[96734],{96734:(e,t,i)=>{i.r(t),i.d(t,{CalciteInputTimeZone:()=>O,defineCustomElement:()=>w});var s=i(70524),o=i(61773),n=i(13160),a=i(46895),l=i(52655),c=i(47242),r=i(85955),m=i(1579),h=i(63017),d=i(53546),u=i(57601),f=i(18077);const p=60,b=["CET","CST6CDT","EET","EST","EST5EDT","Factory","HST","MET","MST","MST7MDT","PST8PDT","UTC","WET"];function g(e){return e.replace(":15",".25").replace(":30",".5").replace(":45",".75").replace("\u2212","-")}let v;async function T(e,t,s,o,n){const a=o.getTime(),l=Intl.supportedValuesOf("timeZone");return"offset"===s?(v||(v=Promise.all([i.e(56760).then(i.bind(i,56760)),i.e(42723).then(i.bind(i,42723))])),v.then((async i=>{let[{groupTimeZones:s},{DateEngine:o}]=i;const l=await s({dateEngine:new o,groupDateRange:1,startDate:new Date(a).toISOString()}),c=new Intl.ListFormat(e,{style:"long",type:"conjunction"});l.forEach((e=>{const t=[];let i=0;e.tzs.forEach(((e,s)=>{b.includes(e)&&i++,t[s]=i})),e.tzs=e.tzs.filter((e=>!b.includes(e))),e.labelTzIndices=e.labelTzIndices.map((e=>e-t[e])).filter((t=>t>=0&&t<e.tzs.length))}));const r="user"===n?e:"utc"===n?"fr":"en-GB";return l.map((e=>{let{labelTzIndices:i,tzs:s}=e;const o=s[0],n=g(C(o,r,a)),l=function(e,t){const i=C(e,"en-US",t).replace("GMT","");return""===i?0:Number(g(i))*p}(o,a),m=i.map((e=>{const i=s[e];return t[i]||i.split("/").pop()})),h=function(e,t,i){return e.timeZoneLabel.replace("{offset}",t).replace("{cities}",i)}(t,n,c.format(m));return{label:h,value:l,filterValue:s.map((e=>I(e)))}})).filter((e=>!!e)).sort(((e,t)=>e.value-t.value))}))):l.map((e=>({label:I(e),value:e,filterValue:e}))).filter((e=>!!e)).sort()}function I(e){return e.replace(/_/g," ")}function C(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return(0,a.b)(t,{timeZone:e,timeZoneName:"shortOffset"}).formatToParts(i).find((e=>{let{type:t}=e;return"timeZoneName"===t})).value}function Z(e,t,i){return null==i?null:e.find((e=>e[t]==i))}const y=(0,s.GH)(class extends s.mv{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInputTimeZoneBeforeClose=(0,s.yM)(this,"calciteInputTimeZoneBeforeClose",6),this.calciteInputTimeZoneBeforeOpen=(0,s.yM)(this,"calciteInputTimeZoneBeforeOpen",6),this.calciteInputTimeZoneChange=(0,s.yM)(this,"calciteInputTimeZoneChange",6),this.calciteInputTimeZoneClose=(0,s.yM)(this,"calciteInputTimeZoneClose",6),this.calciteInputTimeZoneOpen=(0,s.yM)(this,"calciteInputTimeZoneOpen",6),this.setComboboxRef=e=>{this.comboboxEl=e},this.onComboboxBeforeClose=e=>{e.stopPropagation(),this.calciteInputTimeZoneBeforeClose.emit()},this.onComboboxBeforeOpen=e=>{e.stopPropagation(),this.calciteInputTimeZoneBeforeOpen.emit()},this.onComboboxChange=e=>{e.stopPropagation();const t=e.target.selectedItems[0];if(!t)return this.value=null,this.selectedTimeZoneItem=null,void this.calciteInputTimeZoneChange.emit();const i=this.findTimeZoneItemByLabel(t.textLabel),s="".concat(i.value);this.value===s&&i.label===this.selectedTimeZoneItem.label||(this.value=s,this.selectedTimeZoneItem=i,this.calciteInputTimeZoneChange.emit())},this.onComboboxClose=e=>{e.stopPropagation(),this.open=!1,this.calciteInputTimeZoneClose.emit()},this.onComboboxOpen=e=>{this.open=!0,e.stopPropagation(),this.calciteInputTimeZoneOpen.emit()},this.clearable=!1,this.disabled=!1,this.form=void 0,this.maxItems=0,this.messages=void 0,this.messageOverrides=void 0,this.mode="offset",this.offsetStyle="user",this.validationMessage=void 0,this.validationIcon=void 0,this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.name=void 0,this.open=!1,this.overlayPositioning="absolute",this.referenceDate=void 0,this.required=!1,this.scale="m",this.status="idle",this.value=void 0,this.readOnly=!1,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}handleTimeZoneItemPropsChange(){this.updateTimeZoneItemsAndSelection()}handleValueChange(e,t){if(!(e=this.normalizeValue(e))&&this.clearable)return this.value=e,void(this.selectedTimeZoneItem=null);const i=this.findTimeZoneItem(e);i?this.selectedTimeZoneItem=i:this.value=t}async setFocus(){await(0,c.c)(this),await this.comboboxEl.setFocus()}effectiveLocaleWatcher(){(0,l.u)(this,this.effectiveLocale)}onLabelClick(){this.setFocus()}findTimeZoneItem(e){return Z(this.timeZoneItems,"value",e)}findTimeZoneItemByLabel(e){return Z(this.timeZoneItems,"label",e)}async updateTimeZoneItemsAndSelection(){var e;if(this.timeZoneItems=await this.createTimeZoneItems(),""===this.value&&this.clearable)return void(this.selectedTimeZoneItem=null);const t="offset"===this.mode?-1*(new Date).getTimezoneOffset():(new Intl.DateTimeFormat).resolvedOptions().timeZone,i=null!==(e=this.value)&&void 0!==e?e:t;this.selectedTimeZoneItem=this.findTimeZoneItem(i)||this.findTimeZoneItem(t)}async createTimeZoneItems(){var e;return this.effectiveLocale&&this.messages?T(this.effectiveLocale,this.messages,this.mode,this.referenceDate instanceof Date?this.referenceDate:new Date(null!==(e=this.referenceDate)&&void 0!==e?e:Date.now()),this.offsetStyle):[]}connectedCallback(){(0,r.c)(this),(0,o.c)(this),(0,a.c)(this),(0,l.c)(this)}disconnectedCallback(){(0,r.d)(this),(0,o.d)(this),(0,a.d)(this),(0,l.d)(this)}normalizeValue(e){return null===e?"":e}async componentWillLoad(){(0,c.s)(this),await(0,l.s)(this),this.value=this.normalizeValue(this.value),await this.updateTimeZoneItemsAndSelection();const e=this.selectedTimeZoneItem?"".concat(this.selectedTimeZoneItem.value):null;(0,r.a)(this,e),this.value=e}componentDidLoad(){(0,c.a)(this)}componentDidRender(){(0,n.u)(this)}render(){return(0,s.h)(s.AA,{key:"dad642e8f2094c402f24c65422463ca875627fa9"},(0,s.h)(n.I,{key:"c452b27815cc331bf2475233f21463a08726f797",disabled:this.disabled},(0,s.h)("calcite-combobox",{key:"70ce16ff8302b6dea19767b9cf00dd735d9019dd",clearDisabled:!this.clearable,disabled:this.disabled,label:this.messages.chooseTimeZone,lang:this.effectiveLocale,maxItems:this.maxItems,onCalciteComboboxBeforeClose:this.onComboboxBeforeClose,onCalciteComboboxBeforeOpen:this.onComboboxBeforeOpen,onCalciteComboboxChange:this.onComboboxChange,onCalciteComboboxClose:this.onComboboxClose,onCalciteComboboxOpen:this.onComboboxOpen,open:this.open,overlayPositioning:this.overlayPositioning,placeholder:"name"===this.mode?this.messages.namePlaceholder:this.messages.offsetPlaceholder,readOnly:this.readOnly,ref:this.setComboboxRef,scale:this.scale,selectionMode:this.clearable?"single":"single-persist",status:this.status,"validation-icon":this.validationIcon,"validation-message":this.validationMessage},this.timeZoneItems.map((e=>{const t=this.selectedTimeZoneItem===e,{label:i,value:o}=e;return(0,s.h)("calcite-combobox-item",{"data-value":o,key:i,selected:t,textLabel:i,value:"".concat(e.filterValue)})}))),(0,s.h)(r.H,{key:"d8d6cdaffb68c5cb0ed57abd922ad4b84e26de5d",component:this})))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}"}},[17,"calcite-input-time-zone",{clearable:[516],disabled:[516],form:[513],maxItems:[514,"max-items"],messages:[1040],messageOverrides:[1040],mode:[513],offsetStyle:[513,"offset-style"],validationMessage:[1,"validation-message"],validationIcon:[520,"validation-icon"],validity:[1040],name:[513],open:[1540],overlayPositioning:[513,"overlay-positioning"],referenceDate:[1,"reference-date"],required:[516],scale:[513],status:[513],value:[1025],readOnly:[516,"read-only"],defaultMessages:[32],effectiveLocale:[32],setFocus:[64]},void 0,{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}]);function x(){if("undefined"===typeof customElements)return;["calcite-input-time-zone","calcite-chip","calcite-combobox","calcite-combobox-item","calcite-icon","calcite-input-message"].forEach((e=>{switch(e){case"calcite-input-time-zone":customElements.get(e)||customElements.define(e,y);break;case"calcite-chip":customElements.get(e)||(0,m.d)();break;case"calcite-combobox":customElements.get(e)||(0,h.d)();break;case"calcite-combobox-item":customElements.get(e)||(0,d.d)();break;case"calcite-icon":customElements.get(e)||(0,u.d)();break;case"calcite-input-message":customElements.get(e)||(0,f.d)()}}))}x();const O=y,w=x}}]);
//# sourceMappingURL=96734.466296d0.chunk.js.map