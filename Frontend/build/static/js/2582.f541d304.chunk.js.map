{"version":3,"file":"static/js/2582.f541d304.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerControlPoints.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerShape.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/mediaElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementManipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatedObject3DMediaElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Accessor.js\";import{isSome as o}from\"../../../../../core/arrayUtils.js\";import{destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{initial as n}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../../core/support/UpdatingHandles.js\";import{initializeProjection as p,project as l}from\"../../../../../geometry/projection.js\";import{EditGeometryOperations as c}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import d from\"../../../../../geometry/Polygon.js\";import m from\"../../../../../geometry/Point.js\";let h=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new a}initialize(){this.addHandles([r(this._updatingHandles),this._updatingHandles.add((()=>{const e=this.element.georeference;return\"control-points\"===e?.type?e.controlPoints:null}),(e=>this._elementControlPointsChanged(e)),n)])}_elementControlPointsChanged(e){if(this._updatedElementControlPoints===e)return;const t=e?.map((({mapPoint:e})=>e)).filter(o),r=this.view.spatialReference;this._updatingHandles.addPromise(this._whenProjected(t,r,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this,o=new d({rings:[e.map((({x:e,y:t})=>[e,t]))],spatialReference:r});t?.trySetGeometry(o)?this.onModifiedExternally():this._replaceOperations(c.fromGeometry(o,this.view.state.viewingMode))})))}_operationsGeometryChanged(){const{element:{georeference:e},_operations:t}=this;if(!t||!e||\"control-points\"!==e.type||!e.controlPoints)return;const r=t.data.geometry,n=e.controlPoints.map((({mapPoint:e})=>e)).filter(o);if(r.rings[0]?.length!==n.length)return void this._updateElementControlPoints(null);const i=r.rings[0].map((([e,t])=>new m({x:e,y:t,spatialReference:r.spatialReference}))),s=n.map((({spatialReference:e})=>e));this._updatingHandles.addPromise(this._whenProjected(i,s,(e=>this._updateElementControlPoints(e))))}_updateElementControlPoints(e){const{georeference:t}=this.element;if(!t||!e||\"control-points\"!==t.type||t.controlPoints?.length!==e?.length)return;e||(t.controlPoints=null);const o=t.controlPoints;if(o?.length===e.length)for(let r=0;r<o.length;r++)o[r].mapPoint=e[r]}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:n}}=this,i=e.map((({spatialReference:e})=>e)),s=Array.isArray(t)?t:new Array(i.length).fill(t);await p(Array.from(i).map(((e,t)=>({source:e,dest:s[t]}))));const a=e.map(((e,t)=>l(e,s[t])));r===this._operations&&n===this.element.georeference&&o(a)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e,e&&this.addHandles(e.data.on(\"change\",(()=>this._operationsGeometryChanged())),e)}};e([i({constructOnly:!0})],h.prototype,\"view\",void 0),e([i({constructOnly:!0})],h.prototype,\"layer\",void 0),e([i({constructOnly:!0})],h.prototype,\"element\",void 0),e([i({constructOnly:!0})],h.prototype,\"onModifiedExternally\",void 0),e([i()],h.prototype,\"_operations\",void 0),e([i()],h.prototype,\"operations\",null),e([i()],h.prototype,\"updating\",null),h=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerControlPoints\")],h);export{h as MediaElementControllerControlPoints};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../../core/handleUtils.js\";import{initial as r}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as n}from\"../../../../../core/support/UpdatingHandles.js\";import{projectWithZConversion as a}from\"../../../../../geometry/projection.js\";import{EditGeometryOperations as d}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";let p=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new n}initialize(){this.addHandles([o(this._updatingHandles),this._updatingHandles.add((()=>this.element.georeference?.coords),(e=>this._elementCoordinatesChanged(e)),r)])}_elementCoordinatesChanged(e){this._updatedElementCoordinates!==e&&this._updatingHandles.addPromise(this._whenProjected(e,this.view.spatialReference,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this;t?.trySetGeometry(e)?this.onModifiedExternally():this._replaceOperations(d.fromGeometry(e,this.view.state.viewingMode))})))}_operationsGeometryChanged(){const{element:{georeference:e},_operations:t}=this;if(!t||!e)return;const o=t.data.geometry;if(!e.coords)return void this._updateElementCoordinates(o);const r=e.coords.spatialReference;this._updatingHandles.addPromise(this._whenProjected(o,r,(e=>this._updateElementCoordinates(e))))}_updateElementCoordinates(e){const{georeference:t}=this.element;t&&(t.coords=e,this._updatedElementCoordinates=t.coords)}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:i}}=this,s=await a(e,t);r===this._operations&&i===this.element.georeference&&o(s)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e,e&&this.addHandles(e.data.on(\"change\",(()=>this._operationsGeometryChanged())),e),this.onModifiedExternally()}};e([i({constructOnly:!0})],p.prototype,\"view\",void 0),e([i({constructOnly:!0})],p.prototype,\"layer\",void 0),e([i({constructOnly:!0})],p.prototype,\"element\",void 0),e([i({constructOnly:!0})],p.prototype,\"onModifiedExternally\",void 0),e([i()],p.prototype,\"_operations\",void 0),e([i()],p.prototype,\"operations\",null),e([i()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerShape\")],p);export{p as MediaElementControllerShape};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../layers/support/ImageElement.js\";import n from\"../../../../../layers/support/VideoElement.js\";function r(e,n,r){return t(e.allLayerViews.find((e=>e.layer===n)),r)}function t(r,t){if(!r||\"media-3d\"!==r.type||r.suspended)return!1;const s=r.layer.source;return!!s&&(s instanceof e||s instanceof n?s===t:\"hasElement\"in s&&s.hasElement(t))}export{t as isMediaElementVisibleLayerView,r as isMediaElementVisibleView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import o from\"../../../../../core/Evented.js\";import{watch as r,sync as s}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{p as c}from\"../../../../../chunks/vec32.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPointToVector as a}from\"../../../../../geometry/projection/projectPointToVector.js\";import{isMediaElementVisibleView as p}from\"./mediaElementUtils.js\";let m=class extends t{grabbableForEvent(){return!0}constructor(e){super(e),this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.grabbing=!1,this.dragging=!1,this.hovering=!0,this.selected=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o.EventEmitter,this.addHandles(r((()=>this.selected),(e=>this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"})),s))}destroy(){this._set(\"view\",null)}intersectionDistance(e){const{view:t,layer:o,element:r}=this;if(!p(t,o,r))return null;const s=t.toMap(e,{include:{layer:o,element:r}});return s&&a(s,d,t.renderSpatialReference)?c(d,t.state.camera.eye):null}onElevationChange(){}onViewChange(){}};e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"element\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"layer\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([i()],m.prototype,\"interactive\",void 0),e([i()],m.prototype,\"selectable\",void 0),e([i()],m.prototype,\"grabbable\",void 0),e([i()],m.prototype,\"grabbing\",void 0),e([i()],m.prototype,\"dragging\",void 0),e([i()],m.prototype,\"hovering\",void 0),e([i()],m.prototype,\"selected\",void 0),e([i()],m.prototype,\"cursor\",void 0),m=e([n(\"esri.views.3d.interactive.editingTools.media.MediaElementManipulator3D\")],m);const d=l();export{m as MediaElementManipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Evented.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import{watch as r,on as i,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MediaElementControllerControlPoints as a}from\"./media/MediaElementControllerControlPoints.js\";import{MediaElementControllerShape as p}from\"./media/MediaElementControllerShape.js\";import{MediaElementManipulator3D as m}from\"./media/MediaElementManipulator3D.js\";import{isMediaElementVisibleLayerView as c}from\"./media/mediaElementUtils.js\";const d=Symbol();let u=class extends t.EventedAccessor{get operations(){return this._controller?.operations}get elevationInfo(){return{mode:\"on-the-ground\",offset:0}}get _layerView(){const e=this.view.allLayerViews.find((e=>e.layer===this.layer));return\"media-3d\"===e?.type?e:null}get visible(){return c(this._layerView,this.element)}get isDraped(){return!0}get origin(){return null}get updating(){return!!this._controller?.updating}get _controllerClass(){return\"transform\"===this.tool||\"control-points\"!==this.element.georeference?.type?p:a}constructor(e){super(e),this.tool=\"transform\"}initialize(){this.addHandles([r((()=>this._controllerClass),(e=>this._updateController(e)),l),i((()=>this._layerView),\"element-render-changed\",(({element:e})=>{this.element===e&&this.emit(\"committed\")}))])}toMap(e){const{layer:t,element:o}=this;return this.view.toMap(e,{include:{layer:t,element:o}})}createManipulator(e){const{view:t,layer:o,element:r}=this;return new m({view:t,layer:o,element:r,...e})}_updateController(e){if(this._controller&&this._controller instanceof e)return;this.removeHandles(d);const{view:t,layer:r,element:i}=this,l=()=>{this.emit(\"modified-externally\")};this._controller=new e({view:t,layer:r,element:i,onModifiedExternally:l}),l(),this.addHandles(o(this._controller),d)}};e([n({constructOnly:!0})],u.prototype,\"view\",void 0),e([n({constructOnly:!0})],u.prototype,\"layer\",void 0),e([n({constructOnly:!0})],u.prototype,\"element\",void 0),e([n()],u.prototype,\"tool\",void 0),e([n()],u.prototype,\"_controller\",void 0),e([n()],u.prototype,\"elevationInfo\",null),e([n()],u.prototype,\"_layerView\",null),e([n()],u.prototype,\"visible\",null),e([n()],u.prototype,\"updating\",null),e([n()],u.prototype,\"_controllerClass\",null),u=e([s(\"esri.views.3d.interactive.editingTools.ManipulatedObject3DMediaElement\")],u);export{u as ManipulatedObject3DMediaElement};\n"],"names":["h","t","operations","this","_operations","updating","_updatingHandles","constructor","e","super","a","initialize","addHandles","r","add","element","georeference","type","controlPoints","_elementControlPointsChanged","n","_updatedElementControlPoints","map","_ref","mapPoint","filter","o","view","spatialReference","addPromise","_whenProjected","_replaceOperations","d","rings","_ref2","x","y","trySetGeometry","onModifiedExternally","c","fromGeometry","state","viewingMode","_operationsGeometryChanged","_r$rings$","data","geometry","_ref3","length","_updateElementControlPoints","i","_ref4","m","s","_ref5","_t$controlPoints","_ref6","Array","isArray","fill","p","from","source","dest","l","removeHandles","destroy","on","constructOnly","prototype","_this$element$georefe","coords","_elementCoordinatesChanged","_updatedElementCoordinates","_updateElementCoordinates","allLayerViews","find","layer","suspended","hasElement","grabbableForEvent","interactive","selectable","grabbable","grabbing","dragging","hovering","selected","cursor","consumesClicks","events","EventEmitter","emit","action","_set","intersectionDistance","toMap","include","renderSpatialReference","camera","eye","onElevationChange","onViewChange","nonNullable","Symbol","u","EventedAccessor","_this$_controller","_controller","elevationInfo","mode","offset","_layerView","visible","isDraped","origin","_this$_controller2","_controllerClass","tool","_updateController","createManipulator"],"sourceRoot":""}